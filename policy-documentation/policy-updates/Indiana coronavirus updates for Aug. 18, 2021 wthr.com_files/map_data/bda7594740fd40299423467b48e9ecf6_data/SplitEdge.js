// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define(["exports","../../../../core/maybe","../EditGeometry"],function(k,d,f){let n=function(){function l(c,a,b){this.editGeometry=c;this.edge=a;this.t=b;this.right=this.left=this.createdVertex=null}var g=l.prototype;g.apply=function(){let c="redo";const a=this.edge,b=a.component,e=a.component.data,h=a.left,m=a.right;b.edges.splice(b.edges.indexOf(a),1);d.isNone(this.createdVertex)&&(c="apply",this.createdVertex=new f.Vertex(a.component));b.vertices.push(this.createdVertex);this.createdVertex.pos=
e.coordinateHelper.lerp(a.left.pos,a.right.pos,this.t,e.coordinateHelper.createNew());d.isNone(this.left)&&(this.left=new f.Edge(b,h,this.createdVertex));this.left.left.left?b.edges.push(this.left):b.edges.unshift(this.left);h.right=this.left;d.isNone(this.right)&&(this.right=new f.Edge(b,this.createdVertex,m));b.edges.push(this.right);m.left=this.right;b.updateVertexIndex(this.createdVertex,h.index+1);this.editGeometry.emit("change",{addedVertices:[this.createdVertex],operation:c})};g.undo=function(){if(d.isNone(this.createdVertex)||
d.isNone(this.left)||d.isNone(this.right))return null;const c=this.edge,a=c.component,b=this.createdVertex.left.left,e=this.createdVertex.right.right;a.vertices.splice(a.vertices.indexOf(this.createdVertex),1);a.edges.splice(a.edges.indexOf(this.left),1);a.edges.splice(a.edges.indexOf(this.right),1);this.edge.left.left?a.edges.push(this.edge):a.edges.unshift(this.edge);b.right=c;e.left=c;a.updateVertexIndex(b,b.index);this.editGeometry.emit("change",{removedVertices:[this.createdVertex],operation:"undo"})};
g.accumulate=function(){return!1};return l}();k.SplitEdge=n;Object.defineProperty(k,"__esModule",{value:!0})});