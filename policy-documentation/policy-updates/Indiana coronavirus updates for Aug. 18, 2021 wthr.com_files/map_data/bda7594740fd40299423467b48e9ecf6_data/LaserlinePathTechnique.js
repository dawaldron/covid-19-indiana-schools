// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../chunks/mat4 ../../../../chunks/mat4f64 ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/Program ../../../../chunks/LaserlinePath.glsl ../../../webgl/renderState".split(" "),function(q,h,m,r,t,u,g,f,n,v,w,k){f=function(c){function b(){return c.apply(this,arguments)||this}m._inheritsLoose(b,c);
var d=b.prototype;d.initializeProgram=function(a){const l=b.shader.get().build(this.configuration);return new v.Program(a.rctx,l,b.attributeLocations)};d.bind=function(a,l,e){this.program.setUniform3fv("innerColor",a.innerColor);this.program.setUniform1f("innerWidth",a.innerWidth*e.pixelRatio);this.program.setUniform3fv("glowColor",a.glowColor);this.program.setUniform1f("glowWidth",a.glowWidth*e.pixelRatio);this.program.setUniform1f("glowFalloff",a.glowFalloff);this.program.setUniform1f("globalAlpha",
a.globalAlpha);this.program.setUniform1f("perScreenPixelRatio",e.perScreenPixelRatio);this.program.setUniform2f("pixelToNDC",2/e.fullWidth,2/e.fullHeight);this.program.setUniformMatrix4fv("uProjectionMatrix",e.projectionMatrix);t.translate(p,e.viewMatrix,l);this.program.setUniformMatrix4fv("uModelViewMatrix",p);this.configuration.contrastControlEnabled&&this.program.setUniform1f("globalAlphaContrastBoost",null!=a.globalAlphaContrastBoost?a.globalAlphaContrastBoost:1)};d.initializePipeline=function(){return k.makePipelineState({blending:k.simpleBlendingParams(1,
771),colorWrite:k.defaultColorWriteParams})};d.bindPipelineState=function(a){a.setPipelineState(this.pipeline)};return b}(f.ShaderTechnique);f.shader=new g.ReloadableShaderModule(w.LaserlinePathShader,()=>new Promise(function(c,b){q(["./LaserlinePath.glsl"],c,b)}));f.attributeLocations=new Map([["start",0],["end",1],["up",2],["extrude",3]]);g=function(c){function b(){var d=c.apply(this,arguments)||this;d.contrastControlEnabled=!1;return d}m._inheritsLoose(b,c);return b}(n.ShaderTechniqueConfiguration);
r.__decorate([n.parameter()],g.prototype,"contrastControlEnabled",void 0);const p=u.create();h.LaserlinePathTechnique=f;h.LaserlinePathTechniqueConfiguration=g;Object.defineProperty(h,"__esModule",{value:!0})});