// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/compilerUtils ../../../core/Evented ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/Logger ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass".split(" "),function(b,g,c,k,l,d,n,p,q,r,m){b.OperationHandle=function(h){function f(a){a=h.call(this,a)||this;a.cancelled=!1;a.history={undo:[],redo:[]};a.type=null;
return a}g._inheritsLoose(f,h);var e=f.prototype;e.addToHistory=function(a){this.history.redo=[];this.history.undo.push(a)};e.resetHistory=function(){this.history.redo=[];this.history.undo=[]};e.canUndo=function(){return 0<this.history.undo.length};e.canRedo=function(){return 0<this.history.redo.length};e.complete=function(){this.reset();this.onEnd();this.emit("complete")};e.cancel=function(){this.cancelled=!0;this.complete()};e.reset=function(){this.activeComponent.reset()};e.refreshComponent=function(){const a=
this.activeComponent;a&&("box"!==a.type&&"reshape"!==a.type&&"graphic-mover"!==a.type||a.refresh())};g._createClass(f,[{key:"tool",get:function(){if(!this.activeComponent)return null;switch(this.activeComponent.type){case "graphic-mover":case "move-3d":return"move";case "box":case "transform-3d":return"transform";case "reshape":case "reshape-3d":return"reshape";case "draw":case "draw-3d":break;default:k.neverReached(this.activeComponent)}return null}},{key:"undo",set:function(a){this._set("undo",
()=>{this.canUndo()&&a()})}},{key:"redo",set:function(a){this._set("redo",()=>{this.canRedo()&&a()})}}]);return f}(l.EventedAccessor);c.__decorate([d.property()],b.OperationHandle.prototype,"activeComponent",void 0);c.__decorate([d.property()],b.OperationHandle.prototype,"cancelled",void 0);c.__decorate([d.property()],b.OperationHandle.prototype,"history",void 0);c.__decorate([d.property()],b.OperationHandle.prototype,"tool",null);c.__decorate([d.property()],b.OperationHandle.prototype,"type",void 0);
c.__decorate([d.property()],b.OperationHandle.prototype,"canUndo",null);c.__decorate([d.property()],b.OperationHandle.prototype,"canRedo",null);c.__decorate([d.property()],b.OperationHandle.prototype,"onEnd",void 0);c.__decorate([d.property()],b.OperationHandle.prototype,"undo",null);c.__decorate([d.property()],b.OperationHandle.prototype,"redo",null);c.__decorate([d.property()],b.OperationHandle.prototype,"toggleTool",void 0);c.__decorate([d.property()],b.OperationHandle.prototype,"addToSelection",
void 0);c.__decorate([d.property()],b.OperationHandle.prototype,"removeFromSelection",void 0);b.OperationHandle=c.__decorate([m.subclass("esri.widgets.Sketch.support.OperationHandle")],b.OperationHandle);Object.defineProperty(b,"__esModule",{value:!0})});