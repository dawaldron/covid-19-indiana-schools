// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define(["./ImmutableArray","../chunks/languageUtils","../geometry/Geometry"],function(m,e,n){function h(d,f=!1){var a=null;if(null!==d)if(e.isNumber(d))a=e.toNumber(d);else if(e.isBoolean(d))a=e.toBoolean(d);else if(e.isString(d))a=e.toString(d);else if(e.isDate(d))a=e.toDate(d);else if(e.isArray(d)){a=[];for(var c of d)a.push(h(c,f))}else{if(0===Object.keys(d).length)return null;a=new k;a.immutable=!1;for(const b of Object.keys(d))c=d[b],void 0!==c&&a.setField(b,h(c,f));a.immutable=f}return a}let k=
function(){function d(a){this.declaredClass="esri.arcade.Dictionary";this.attributes=null;this.plain=!1;this.immutable=!0;this.attributes=a instanceof d?a.attributes:void 0===a?{}:null===a?{}:a}var f=d.prototype;f.field=function(a){const c=a.toLowerCase(),b=this.attributes[a];if(void 0!==b)return b;for(const g in this.attributes)if(g.toLowerCase()===c)return this.attributes[g];throw Error("Field not Found : "+a);};f.setField=function(a,c){if(this.immutable)throw Error("Dictionary is Immutable");const b=
a.toLowerCase();if(void 0===this.attributes[a])for(const g in this.attributes)if(g.toLowerCase()===b){this.attributes[g]=c;return}this.attributes[a]=c};f.hasField=function(a){const c=a.toLowerCase();if(void 0!==this.attributes[a])return!0;for(const b in this.attributes)if(b.toLowerCase()===c)return!0;return!1};f.keys=function(){let a=[];for(const c in this.attributes)a.push(c);return a=a.sort()};f.castToText=function(){let a="";for(const c in this.attributes){""!==a&&(a+=",");const b=this.attributes[c];
null==b?a+=JSON.stringify(c)+":null":e.isBoolean(b)||e.isNumber(b)||e.isString(b)?a+=JSON.stringify(c)+":"+JSON.stringify(b):b instanceof n?a+=JSON.stringify(c)+":"+e.toStringExplicit(b):b instanceof m?a+=JSON.stringify(c)+":"+e.toStringExplicit(b):b instanceof Array?a+=JSON.stringify(c)+":"+e.toStringExplicit(b):b instanceof Date?a+=JSON.stringify(c)+":"+JSON.stringify(b):null!==b&&"object"===typeof b&&void 0!==b.castToText&&(a+=JSON.stringify(c)+":"+b.castToText())}return"{"+a+"}"};d.convertObjectToArcadeDictionary=
function(a,c=!0){const b=new d;b.immutable=!1;for(const g in a){const l=a[g];void 0!==l&&b.setField(g.toString(),h(l))}b.immutable=c;return b};return d}();return k});