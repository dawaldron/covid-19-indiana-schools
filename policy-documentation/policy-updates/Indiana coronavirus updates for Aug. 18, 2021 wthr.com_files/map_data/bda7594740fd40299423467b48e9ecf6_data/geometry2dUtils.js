// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define(["exports","../../core/mathUtils","../../chunks/vec2","../../chunks/vec2f64"],function(k,q,d,n){function r(c,a){return c[0]*a[1]-c[1]*a[0]}function t(c,a,b){a=d.dot(b,a)/d.squaredLength(b);return d.scale(c,b,a)}function u(c,a,b,f,e=b){d.subtract(l,f,b);d.subtract(g,a,e);t(p,g,l);return d.add(c,e,p)}function v(c,a,b,f){d.subtract(l,a,b);a=f/d.length(l);return d.scaleAndAdd(c,b,l,a)}const l=n.create(),w=n.create(),g=n.create(),p=n.create();k.cross=r;k.intersectCircleAndPoint=function(c,a,b){v(g,
b,c,a);return q.floatEqualAbsolute(g[0],b[0])&&q.floatEqualAbsolute(g[1],b[1])?[n.clone(b)]:[]};k.intersectLineAndPoint=function(c,a){u(g,a,c.start,c.end);return q.floatEqualAbsolute(g[0],a[0])&&q.floatEqualAbsolute(g[1],a[1])?[n.clone(a)]:[]};k.intersectLineAndRay=function(c,a){const b=c.start;var f=a.start,e=a.end;const m=d.subtract(l,c.end,b);var h=d.subtract(w,e,f);e=r(m,h);if(1E-6>=Math.abs(e))return[];f=d.subtract(g,b,f);h=r(h,f)/e;e=r(m,f)/e;if(0<=h){if(0<=e||1===a.type)return[d.scaleAndAdd(p,
b,m,h)]}else if(1===c.type&&(0<=e||1===a.type))return[d.scaleAndAdd(p,b,m,h)];return[]};k.intersectLineLikeAndCircle=function(c,a,b){const f=[],e=d.subtract(l,c.end,c.start);var m=d.subtract(w,c.start,a);a=d.squaredLength(e);const h=2*d.dot(e,m);b=d.squaredLength(m)-b*b;b=h*h-4*a*b;0===b?(a=-h/(2*a),(1===c.type||0<=a)&&f.push(d.scaleAndAdd(p,c.start,e,a))):0<b&&(b=Math.sqrt(b),m=(-h+b)/(2*a),(1===c.type||0<=m)&&f.push(d.scaleAndAdd(p,c.start,e,m)),a=(-h-b)/(2*a),(1===c.type||0<=a)&&f.push(d.scaleAndAdd(g,
c.start,e,a)));return f};k.pointToLineDistance=function(c,a,b){return Math.abs((a[0]-c[0])*(b[1]-c[1])-(a[1]-c[1])*(b[0]-c[0]))/d.distance(a,b)};k.projectPoint=t;k.projectPointToCircle=v;k.projectPointToLine=u;k.projectPointToRay=function(c,a,b,f){d.subtract(l,f,b);d.subtract(g,a,b);a=d.dot(l,g)/d.squaredLength(l);return 0<a?d.scaleAndAdd(c,b,l,a):d.copy(c,b)};Object.defineProperty(k,"__esModule",{value:!0})});