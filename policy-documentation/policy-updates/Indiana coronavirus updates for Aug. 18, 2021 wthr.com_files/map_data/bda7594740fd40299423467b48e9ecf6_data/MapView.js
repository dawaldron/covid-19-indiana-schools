// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
require({cache:{"esri/views/BreakpointsOwner":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/ArrayPool ../core/Handles ../core/watchUtils ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/ensureType ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/subclass".split(" "),function(h,c,p,f,q,z,B,H,F,m,k,n){function v(b,t){return t?e[b].valueToClassName[t].split(" "):[]}const e={widthBreakpoint:{getValue(b){const t=
b.viewSize[0];b=b.breakpoints;const C=this.values;return t<=b.xsmall?C.xsmall:t<=b.small?C.small:t<=b.medium?C.medium:t<=b.large?C.large:C.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",
medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},
heightBreakpoint:{getValue(b){const t=b.viewSize[1];b=b.breakpoints;const C=this.values;return t<=b.xsmall?C.xsmall:t<=b.small?C.small:t<=b.medium?C.medium:t<=b.large?C.large:C.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",
medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},
orientation:{getValue(b){b=b.viewSize;const t=this.values;return b[1]>=b[0]?t.portrait:t.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},d={xsmall:544,small:768,medium:992,large:1200};h.BreakpointsOwner=b=>{b=function(t){function C(...l){l=t.call(this,...l)||this;l._breakpointsHandles=new q;l.orientation=null;l.widthBreakpoint=null;l.heightBreakpoint=null;l.breakpoints=d;return l}
c._inheritsLoose(C,t);var w=C.prototype;w.initialize=function(){this._breakpointsHandles.add(z.init(this,["breakpoints","size"],this._updateClassNames))};w.destroy=function(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles.destroy(),this._breakpointsHandles=null)};w._updateClassNames=function(){if(this.container){var l=f.acquire(),r=f.acquire(),u=!1,A;for(A in e){const x=this[A],E=e[A].getValue({viewSize:this.size,breakpoints:this.breakpoints});x!==E&&(u=!0,this[A]=E,v(A,
x).forEach(S=>r.push(S)),v(A,E).forEach(S=>l.push(S)))}u&&(this._applyClassNameChanges(l,r),f.release(l),f.release(r))}};w._applyClassNameChanges=function(l,r){const u=this.container;u&&(r.forEach(A=>u.classList.remove(A)),l.forEach(A=>u.classList.add(A)))};w._removeActiveClassNames=function(){const l=this.container;if(l)for(var r in e)v(r,this[r]).forEach(u=>l.classList.remove(u))};c._createClass(C,[{key:"breakpoints",set:function(l){var r=this._get("breakpoints");if(l!==r){r=(r=l)&&r.xsmall<r.small&&
r.small<r.medium&&r.medium<r.large;if(!r){const u=JSON.stringify(d,null,2);console.warn("provided breakpoints are not valid, using defaults:"+u)}l=r?l:d;this._set("breakpoints",{...l})}}}]);return C}(b);p.__decorate([B.property()],b.prototype,"breakpoints",null);p.__decorate([B.property()],b.prototype,"orientation",void 0);p.__decorate([B.property()],b.prototype,"widthBreakpoint",void 0);p.__decorate([B.property()],b.prototype,"heightBreakpoint",void 0);return b=p.__decorate([n.subclass("esri.views.BreakpointsOwner")],
b)};Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/MapViewBase":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../geometry ../Viewpoint ../core/Error ../core/Logger ../core/maybe ../core/promiseUtils ../core/screenUtils ../core/watchUtils ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/ensureType ../core/jsonMap ../core/accessorSupport/decorators/subclass ../geometry/support/webMercatorUtils ../layers/support/TileInfo ./PopupView ./View ./ViewAnimation ./2d/AnimationManager ./2d/FrameTask ./2d/layerViewModuleImportUtils ./2d/MapViewConstraints ./2d/PaddedViewState ./2d/tiling/PagedTileQueue ./2d/tiling/TileInfoView ./2d/tiling/TileKey ./2d/tiling/TileQueue ./2d/tiling/TileStrategy ./2d/viewpointUtils ./2d/support/Timeline ../geometry/Point ../geometry/Extent ../geometry/SpatialReference".split(" "),
function(h,c,p,f,q,z,B,H,F,m,k,n,v,e,d,b,t,C,w,l,r,u,A,x,E,S,aa,da,ja,ba,ea,oa,wa,D,I){const Z=z.getLogger("esri.views.MapView");p=function(M){function U(J){var V=M.call(this,J)||this;V._stationaryTimer=null;V.frameTask=new u(h._assertThisInitialized(V));V.featuresTilingScheme=null;V.fullOpacity=1;V.graphicsView=null;V.initialExtent=null;V.labelManager=null;V.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0};V.resizeAlign="center";V.supportsGround=
!1;V.timeline=new oa.Timeline;V.type="2d";V.constraints=new x;V.padding={top:0,right:0,bottom:0,left:0};const fa=V.handles,ha=()=>V.notifyChange("updating");fa.add([V.watch("viewpoint",()=>{V._lastStationaryEventTimestamp=performance.now();V._flipStationary(160)},!0),V.on("resize",na=>V._resizeHandler(na)),V.watch("animationManager.animation",na=>{V.animation=na}),V.allLayerViews.on("change",()=>{ha();fa.remove("map-view-base-layerViewsUpdating");fa.add(V.allLayerViews.map(na=>na.watch("updating",
ha)),"map-view-base-layerViewsUpdating")})],"map-view-base");return V}h._inheritsLoose(U,M);var W=U.prototype;W.destroy=function(){this.destroyed||(this._set("preconditionsReady",!1),this._gotoTask=this.frameTask=null)};W.goTo=function(J,V){if(J)return this.animation&&(this.animation=null),this._createAnimation(),m.whenTrueOnce(this,"ready",V&&V.signal).then(()=>{const fa={animate:!0,...V},ha=ea.createAsync(J,this);this.animation.update(ha);this._gotoTask={};return fa.animate?this._gotoAnimated(ha,
fa):this._gotoImmediate(ha,fa)});Z.error("#goTo()","target cannot be null or undefined")};W.hitTest=function(J){return Promise.reject("Should be implemented by subclasses")};W.popupHitTest=function(J){return this.hitTest(J).then(V=>({...V,mapPoint:this.toMap(J)}))};W.toMap=function(J){if(!this.ready)return null;const [V,fa]=this.state.toMap([0,0],[J.x,J.y]);return new wa({x:V,y:fa,spatialReference:this.spatialReference})};W.isTileInfoRequired=function(){return!0};W.toScreen=function(J){if(!this.ready)return null;
J=this._normalizeInput(J);J=[J.x,J.y];this.state.toScreen(J,J);return F.createScreenPoint(J[0],J[1])};W.pixelSizeAt=function(){return this.ready?this.state.resolution:(Z.error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)};W.requestUpdate=function(){this.ready&&this.frameTask.requestUpdate()};W.getDefaultSpatialReference=function(){return this.get("map.initialViewProperties.spatialReference")||this.get("defaultsFromMap.spatialReference")||null};W.isSpatialReferenceSupported=
function(J,V){return V||this._get("ready")?!0:null!==this._getDefaultViewpoint()};W.importLayerView=function(J){return A.layerView2DImporter.importLayerView(J)};W.hasLayerViewModule=function(J){return A.layerView2DImporter.hasLayerViewModule(J)};W._createAnimation=function(){if(!this.animation||this.animation.done)this.animation=new l;return this.animation};W._cancellableGoTo=function(J,V,fa){const ha=()=>J===this._gotoTask,na=fa.then(()=>{ha()&&(this.animation=null)}).catch(xa=>{ha()&&(this.animation=
null,V.done||(V.stop(),this.frameTask.animationInProgress=!1));throw xa;}),ua=new Promise(xa=>xa(na));V.when().catch(()=>{ha()&&ua.cancel&&ua.cancel()});return ua};W._gotoImmediate=function(J,V){const fa=this._gotoTask,ha=this.animation;J=J.then(na=>{H.throwIfAborted(V);if(fa!==this._gotoTask)throw new q("view:goto-interrupted","Goto was interrupted");this.viewpoint=ha.target=na;ha.finish()});return this._cancellableGoTo(fa,ha,J)};W._gotoAnimated=function(J,V){const fa=this._gotoTask,ha=this.animation;
J=J.then(na=>{H.throwIfAborted(V);if(fa!==this._gotoTask)throw new q("view:goto-interrupted","Goto was interrupted");ha.update(na);this.animationManager.animate(ha,this.viewpoint,V);return ha.when().then(()=>{},()=>{})});return this._cancellableGoTo(fa,ha,J)};W._resizeHandler=function(J){const V=this.state;if(V){var fa=this.state.paddedViewState.viewpoint,ha=this.state.paddedViewState.size.concat();V.size=[J.width,J.height];ea.resize(fa,fa,ha,this.state.paddedViewState.size,this.resizeAlign);fa=this.constraints.constrain(fa,
null);this.state.viewpoint=fa}};W._startup=function(){const J=this._getDefaultViewpoint();this.constraints.view=this;this.constraints.fit(J);this._set("animationManager",new r({view:this}));this._set("state",new E({padding:this._get("padding"),size:this.size,viewpoint:J}));this._set("featuresTilingScheme",new aa(t.create({spatialReference:this.spatialReference,size:512,numLODs:36})));this._set("ready",!0);this.frameTask&&this.frameTask.start()};W._teardown=function(){this.frameTask&&this.frameTask.stop();
this._set("ready",!1);this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null);const {center:[J,V],spatialReference:fa,rotation:ha,scale:na}=this.state.paddedViewState,ua=new wa({x:J,y:V,spatialReference:fa});this._set("viewpoint",null);this._set("extent",null);this._set("center",ua);this._set("zoom",-1);this._set("rotation",ha);this._set("scale",na);this._set("spatialReference",fa);this.constraints.view=null;this.animationManager.destroy();this._set("animationManager",
null);this._set("state",null);this.animation=null};W._flipStationary=function(J){return null!==this._stationaryTimer?this._stationaryTimer:this._stationaryTimer=setTimeout(()=>{this._stationaryTimer=null;const V=performance.now()-this._lastStationaryEventTimestamp;160>V&&(this._stationaryTimer=this._flipStationary(V))},J)};W._normalizeInput=function(J,V=this.spatialReference){const fa=J&&J.targetGeometry||J;return V?fa?V.equals(fa.spatialReference)?J:b.canProject(fa,V)?J&&"esri.Viewpoint"===J.declaredClass?
(J.targetGeometry=b.project(fa,V),J):b.project(fa,V):null:null:J};W._getDefaultViewpoint=function(){var J=this.constraints,V=this._get("zoom"),fa=this._get("scale"),ha=this._normalizeInput(this._get("center")),na=this._normalizeInput(this._get("extent")),ua=this._get("rotation"),xa=this._normalizeInput(this._get("viewpoint"));J.effectiveLODs?-1!==V&&(fa=J.zoomToScale(V)):V=-1;let sa=null;var a=null;V=0;J=xa&&xa.rotation;var g=xa&&xa.targetGeometry;B.isSome(g)&&("extent"===g.type?sa=g:"point"===g.type&&
(a=g,V=xa.scale));xa=this._normalizeInput(this.get("map.initialViewProperties.viewpoint.targetGeometry.extent"));g=this._normalizeInput(this.initialExtent);na=na||sa||xa||g;ha=ha||a||na&&na.center;a=this.get("map.initialViewProperties.viewpoint.scale");fa=fa||V||a||na&&ea.extentToScale(na,this.size);V=this.get("map.initialViewProperties.viewpoint.rotation");return ha&&fa?new f({targetGeometry:ha,scale:fa,rotation:ua||J||V||0}):null};h._createClass(U,[{key:"animation",set:function(J){var V=this._get("animation");
J!==V&&(V&&V.stop(),!J||J.isFulfilled()?this._set("animation",null):(this._set("animation",J),this.frameTask.animationInProgress=!0,V=()=>{J===this._get("animation")&&(this._set("animation",null),this.frameTask.requestFrame());this.frameTask.animationInProgress=!1},J.when(V,V)))}},{key:"center",get:function(){if(!this.ready)return this._get("center");const {center:J,spatialReference:V}=this.state.paddedViewState;return new wa({x:J[0],y:J[1],spatialReference:V})},set:function(J){if(null!=J)if(this._normalizeInput(J))if(this.ready){var V=
this.viewpoint;ea.centerAt(V,V,J);this.viewpoint=V}else this._set("center",J),this.notifyChange("initialExtentRequired");else Z.error("#center",`incompatible spatialReference ${JSON.stringify(J.spatialReference)} with view's spatialReference ${JSON.stringify(this.spatialReference)}`)}},{key:"constraints",set:function(J){const V=this._get("constraints");V&&(this.handles.remove("map-view-base-constraints"),V.destroy());this._set("constraints",J);J&&(J.view=this,this.ready&&(this.state.viewpoint=J.fit(this.state.paddedViewState.viewpoint)),
this.handles.add(J.on("update",()=>{this.ready&&this.state&&(this.state.viewpoint=J.fit(this.state.paddedViewState.viewpoint))}),"map-view-base-constraints"))}},{key:"extent",get:function(){return this.ready?this.state.paddedViewState.extent.clone():this._get("extent")},set:function(J){if(null!=J){var V=this._normalizeInput(J);V?V.width&&V.height?this.ready?(J=this.viewpoint,ea.setExtent(J,J,V,this.size,{constraints:this.constraints}),this.viewpoint=J):(this._set("extent",V),this._set("center",null),
this._set("viewpoint",null),this._set("scale",0),this._set("zoom",-1),this.notifyChange("initialExtentRequired")):Z.error("#extent","invalid extent size"):Z.error("#center",`incompatible spatialReference ${JSON.stringify(J.spatialReference)} with view's spatialReference ${JSON.stringify(this.spatialReference)}`)}}},{key:"initialExtentRequired",get:function(){const {extent:J,center:V,scale:fa,viewpoint:ha,zoom:na}=this;return this.get("map.initialViewProperties.viewpoint")||J||V&&(0!==fa||-1!==na)||
ha?!1:!0}},{key:"padding",get:function(){return this.ready?this.state.padding:this._get("padding")},set:function(J){this.ready?(this.state.padding=J,this._set("padding",this.state.padding)):this._set("padding",J)}},{key:"resolution",get:function(){return this.state?this.state.resolution:0}},{key:"rotation",get:function(){return this.ready?this.state.rotation:this._get("rotation")},set:function(J){if(!isNaN(J))if(this.ready){var V=this.viewpoint;ea.rotateTo(V,V,J);this.viewpoint=V}else this._set("rotation",
J)}},{key:"scale",get:function(){return this.ready?this.state.scale:this._get("scale")},set:function(J){if(J&&!isNaN(J))if(this.ready){var V=this.viewpoint;ea.scaleTo(V,V,J);this.viewpoint=V}else{this._set("scale",J);this._set("zoom",-1);if(J=this._get("extent"))this._set("extent",null),this._set("center",J.center);this.notifyChange("initialExtentRequired")}}},{key:"stationary",get:function(){return!this.animation&&!this.navigating&&!this._get("resizing")&&!this._stationaryTimer}},{key:"updating",
get:function(){return!this.destroyed&&(!0===this.get("layerViewManager.updating")||!0===this.get("labelManager.updating")||!0===this.get("graphicsView.updating")||this.allLayerViews.some(J=>!J.destroyed&&!("layerViews"in J)&&!0===J.updating))}},{key:"viewpoint",get:function(){if(!this.ready)return this._get("viewpoint");const J=this.state.paddedViewState;return J&&J.viewpoint.clone()},set:function(J){if(null!=J){var V=this._normalizeInput(J);V?this.ready?(J=new f({targetGeometry:new wa,scale:0,rotation:0}),
ea.copy(J,V),this.constraints.constrain(J,this.state.paddedViewState.viewpoint),this.state.viewpoint=J,this.frameTask.requestFrame(),this._set("viewpoint",J)):(this._set("viewpoint",V),this._set("extent",null),this._set("center",null),this._set("zoom",-1),this._set("scale",0),this.notifyChange("initialExtentRequired")):!J.scale||isNaN(J.scale)?Z.error("#viewpoint",`invalid scale value of ${J.scale}`):B.isNone(J.targetGeometry)?Z.error("#viewpoint","geometry not defined"):Z.error("#viewpoint",`incompatible spatialReference ${JSON.stringify(J.targetGeometry.spatialReference)} with view's spatialReference ${JSON.stringify(this.spatialReference)}`)}}},
{key:"zoom",get:function(){return this.ready?this.constraints.scaleToZoom(this.scale):this._get("zoom")},set:function(J){if(null!=J){if(!this.ready){this.notifyChange("initialExtentRequired");this._set("zoom",J);this._set("scale",0);var V=this._get("extent");V&&(this._set("extent",null),this._set("center",V.center))}this.constraints.effectiveLODs&&(V=this.viewpoint,ea.scaleTo(V,V,this.constraints.zoomToScale(J)),this.viewpoint=V,this._set("zoom",this.constraints.scaleToZoom(this.scale)))}}}]);return U}(C.PopupView(w));
c.__decorate([k.property()],p.prototype,"_stationaryTimer",void 0);c.__decorate([k.property()],p.prototype,"animation",null);c.__decorate([k.property({readOnly:!0})],p.prototype,"animationManager",void 0);c.__decorate([k.property({value:null,type:wa,dependsOn:["state.id","ready"]})],p.prototype,"center",null);c.__decorate([k.property({type:x})],p.prototype,"constraints",null);c.__decorate([k.property({value:null,type:D,dependsOn:["state.id","ready"]})],p.prototype,"extent",null);c.__decorate([k.property({readOnly:!0})],
p.prototype,"featuresTilingScheme",void 0);c.__decorate([k.property()],p.prototype,"fullOpacity",void 0);c.__decorate([k.property()],p.prototype,"graphicsView",void 0);c.__decorate([k.property({type:D})],p.prototype,"initialExtent",void 0);c.__decorate([k.property({dependsOn:["map.initialViewProperties?.viewpoint"]})],p.prototype,"initialExtentRequired",null);c.__decorate([k.property()],p.prototype,"labelManager",void 0);c.__decorate([k.property({value:{top:0,right:0,bottom:0,left:0},cast:M=>({top:0,
right:0,bottom:0,left:0,...M})})],p.prototype,"padding",null);c.__decorate([k.property({type:Object})],p.prototype,"renderingOptions",void 0);c.__decorate([k.property()],p.prototype,"resizeAlign",void 0);c.__decorate([k.property({readOnly:!0,dependsOn:["state.id"]})],p.prototype,"resolution",null);c.__decorate([k.property({value:0,type:Number,dependsOn:["state.id","ready"]})],p.prototype,"rotation",null);c.__decorate([k.property({value:0,type:Number,dependsOn:["state.id","ready"]})],p.prototype,"scale",
null);c.__decorate([k.property({type:I,dependsOn:["map.initialViewProperties?.spatialReference","defaultsFromMap.isSpatialReferenceDone"]})],p.prototype,"spatialReference",void 0);c.__decorate([k.property({readOnly:!0})],p.prototype,"state",void 0);c.__decorate([k.property({dependsOn:["animation","navigating","resizing","_stationaryTimer"]})],p.prototype,"stationary",null);c.__decorate([k.property({readOnly:!0})],p.prototype,"supportsGround",void 0);c.__decorate([k.property({type:oa.Timeline,readOnly:!0})],
p.prototype,"timeline",void 0);c.__decorate([k.property({readOnly:!0})],p.prototype,"type",void 0);c.__decorate([k.property({readOnly:!0,dependsOn:["layerViewManager.updating","labelManager.updating","graphicsView?.updating"]})],p.prototype,"updating",null);c.__decorate([k.property({value:null,type:f,dependsOn:["state.id","ready"]})],p.prototype,"viewpoint",null);c.__decorate([k.property({value:-1,dependsOn:["state.id"]})],p.prototype,"zoom",null);return p=c.__decorate([d.subclass("esri.views.MapViewBase")],
p)})},"esri/layers/support/TileInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/unitUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/Point ../../geometry/SpatialReference ../../geometry/support/aaBoundingRect ../../geometry/support/spatialReferenceUtils ../../geometry/support/webMercatorUtils ./LOD".split(" "),
function(h,c,p,f,q,z,B,H,F,m,k,n,v,e,d,b,t,C){var w;p=new p.JSONMap({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});f=w=function(l){function r(A){A=l.call(this,A)||this;A.dpi=96;A.format=null;A.origin=null;A.minScale=0;A.maxScale=0;A.size=null;A.spatialReference=null;return A}h._inheritsLoose(r,l);r.create=function(A=
{}){const {resolutionFactor:x=1,scales:E,size:S=256,spatialReference:aa=e.WebMercator,numLODs:da=24}=A;if(!b.isValid(aa)){A=[];if(E)for(var ja=0;ja<E.length;ja++){var ba=E[ja];A.push({level:ja,scale:ba,resolution:ba})}else for(ja=5E-4,ba=da-1;0<=ba;ba--)A.unshift({level:ba,scale:ja,resolution:ja}),ja*=2;return new w({dpi:96,lods:A,origin:new v(0,0,aa),size:[S,S],spatialReference:aa})}ja=b.getInfo(aa);A=A.origin?new v({x:A.origin.x,y:A.origin.y,spatialReference:aa}):ja?new v({x:ja.origin[0],y:ja.origin[1],
spatialReference:aa}):new v({x:0,y:0,spatialReference:aa});ja=1/(39.37*q.getMetersPerUnitForSR(aa)*96);ba=[];if(E)for(var ea=0;ea<E.length;ea++){var oa=E[ea];ba.push({level:ea,scale:oa,resolution:oa*ja})}else{var wa=b.isGeographic(aa)?512/S*5.916575275917094E8:256/S*5.91657527591555E8;ea=Math.ceil(da/x);ba.push({level:0,scale:wa,resolution:wa*ja});for(oa=1;oa<ea;oa++)wa/=2**x,ba.push({level:oa,scale:wa,resolution:wa*ja})}return new w({dpi:96,lods:ba,origin:A,size:[S,S],spatialReference:aa})};var u=
r.prototype;u.readOrigin=function(A,x){return v.fromJSON({spatialReference:x.spatialReference,...A})};u.readSize=function(A,x){return[x.cols,x.rows]};u.writeSize=function(A,x){x.cols=A[0];x.rows=A[0]};u.zoomToScale=function(A){const x=this.scales;if(0>=A)return x[0];if(A>=x.length-1)return x[x.length-1];{const E=Math.floor(A);return x[E]/(x[E]/x[E+1])**(A-E)}};u.scaleToZoom=function(A){const x=this.scales,E=x.length-1;let S=0;for(;S<E;S++){const aa=x[S],da=x[S+1];if(aa<=A)break;if(da===A)return S+
1;if(aa>A&&da<A)return S+Math.log(aa/A)/Math.log(aa/da)}return S};u.snapScale=function(A,x=.95){A=this.scaleToZoom(A);return A%Math.floor(A)>=x?this.zoomToScale(Math.ceil(A)):this.zoomToScale(Math.floor(A))};u.tileAt=function(A,x,E,S){var aa=this.lodAt(A);if(!aa)return null;let da;if("number"===typeof x)da=x,x=E;else{if(b.equals(x.spatialReference,this.spatialReference))da=x.x,x=x.y;else{S=t.project(x,this.spatialReference);if(!S)return null;da=S.x;x=S.y}S=E}E=aa.resolution*this.size[0];aa=aa.resolution*
this.size[1];S||(S={id:null,level:0,row:0,col:0,extent:d.create()});S.level=A;S.row=Math.floor((this.origin.y-x)/aa+.001);S.col=Math.floor((da-this.origin.x)/E+.001);this.updateTileInfo(S);return S};u.updateTileInfo=function(A,x=0){var E=this.lodAt(A.level);E||1!==x||(x=this.lods[this.lods.length-1],x.level<A.level&&(E=x));if(E){var S=A.level-E.level;x=E.resolution*this.size[0]/2**S;E=E.resolution*this.size[1]/2**S;A.id=`${A.level}/${A.row}/${A.col}`;A.extent||(A.extent=d.create());A.extent[0]=this.origin.x+
A.col*x;A.extent[1]=this.origin.y-(A.row+1)*E;A.extent[2]=A.extent[0]+x;A.extent[3]=A.extent[1]+E}};u.upsampleTile=function(A){const x=this._upsampleLevels[A.level];if(!x||-1===x.parentLevel)return!1;A.level=x.parentLevel;A.row=Math.floor(A.row/x.factor+.001);A.col=Math.floor(A.col/x.factor+.001);this.updateTileInfo(A);return!0};u.getTileBounds=function(A,x){var {resolution:E}=this.lodAt(x.level);const S=E*this.size[0];E*=this.size[1];A[0]=this.origin.x+x.col*S;A[1]=this.origin.y-(x.row+1)*E;A[2]=
A[0]+S;A[3]=A[1]+E;return A};u.lodAt=function(A){return this._levelToLOD&&this._levelToLOD[A]||null};u.clone=function(){return w.fromJSON(this.write({}))};u._initializeUpsampleLevels=function(){const A=this.lods;this._upsampleLevels=[];let x=null;for(let E=0;E<A.length;E++){const S=A[E];this._upsampleLevels[S.level]={parentLevel:x?x.level:-1,factor:x?x.resolution/S.resolution:0};x=S}};h._createClass(r,[{key:"isWrappable",get:function(){const {spatialReference:A,origin:x}=this;if(A&&x){const E=b.getInfo(A);
return A.isWrappable&&Math.abs(E.origin[0]-x.x)<=E.dx}return!1}},{key:"lods",set:function(A){let x=0,E=0;const S=[];this._levelToLOD={};A&&(x=-Infinity,E=Infinity,A.forEach(aa=>{S.push(aa.scale);x=aa.scale>x?aa.scale:x;E=aa.scale<E?aa.scale:E;this._levelToLOD[aa.level]=aa}));this._set("scales",S);this._set("minScale",x);this._set("maxScale",E);this._set("lods",A);this._initializeUpsampleLevels()}}]);return r}(f.JSONSupport);c.__decorate([z.property({type:Number,json:{write:!0}})],f.prototype,"compressionQuality",
void 0);c.__decorate([z.property({type:Number,json:{write:!0}})],f.prototype,"dpi",void 0);c.__decorate([z.property({type:String,json:{read:p.read,write:p.write,origins:{"web-scene":{read:!1,write:!1}}}})],f.prototype,"format",void 0);c.__decorate([z.property({readOnly:!0})],f.prototype,"isWrappable",null);c.__decorate([z.property({type:v,json:{write:!0}})],f.prototype,"origin",void 0);c.__decorate([m.reader("origin")],f.prototype,"readOrigin",null);c.__decorate([z.property({type:[C],value:null,json:{write:!0}})],
f.prototype,"lods",null);c.__decorate([z.property({readOnly:!0})],f.prototype,"minScale",void 0);c.__decorate([z.property({readOnly:!0})],f.prototype,"maxScale",void 0);c.__decorate([z.property({readOnly:!0})],f.prototype,"scales",void 0);c.__decorate([z.property({cast:l=>Array.isArray(l)?l:"number"===typeof l?[l,l]:[256,256]})],f.prototype,"size",void 0);c.__decorate([m.reader("size",["rows","cols"])],f.prototype,"readSize",null);c.__decorate([n.writer("size",{cols:{type:H.Integer},rows:{type:H.Integer}})],
f.prototype,"writeSize",null);c.__decorate([z.property({type:e,json:{write:!0}})],f.prototype,"spatialReference",void 0);return f=w=c.__decorate([k.subclass("esri.layers.support.TileInfo")],f)})},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../../core/maybe","../Extent"],function(h,c,p,f){function q(e=v){return[e[0],e[1],e[2],e[3]]}function z(e){return e[0]>=e[2]?0:e[2]-e[0]}function B(e){return e[1]>=e[3]?0:e[3]-e[1]}function H(e,d,b){return d>=e[0]&&b>=e[1]&&
d<=e[2]&&b<=e[3]}function F(e,d){e[0]=d[0];e[1]=d[1];e[2]=d[2];e[3]=d[3];return e}function m(e){return 4===e.length}function k(e,d,b){return e<d?d:e>b?b:e}const n=[Infinity,Infinity,-Infinity,-Infinity],v=[0,0,0,0];h.NEGATIVE_INFINITY=n;h.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];h.UNIT=[0,0,1,1];h.ZERO=v;h.allFinite=function(e){for(let d=0;4>d;d++)if(!isFinite(e[d]))return!1;return!0};h.area=function(e){return z(e)*B(e)};h.center=function(e,d=[0,0]){d[0]=(e[0]+e[2])/2;d[1]=(e[1]+
e[3])/2;return d};h.clone=function(e){return[e[0],e[1],e[2],e[3]]};h.contains=function(e,d){return d[0]>=e[0]&&d[2]<=e[2]&&d[1]>=e[1]&&d[3]<=e[3]};h.containsPoint=function(e,d){return H(e,d[0],d[1])};h.containsPointObject=function(e,d){return H(e,d.x,d.y)};h.containsPointWithMargin=function(e,d,b){return d[0]>=e[0]-b&&d[1]>=e[1]-b&&d[0]<=e[2]+b&&d[1]<=e[3]+b};h.containsXY=H;h.create=q;h.diameter=function(e){const d=z(e);e=B(e);return Math.sqrt(d*d+e*e)};h.distance=function(e,d){const b=(e[1]+e[3])/
2,t=Math.max(Math.abs(d[0]-(e[0]+e[2])/2)-z(e)/2,0);e=Math.max(Math.abs(d[1]-b)-B(e)/2,0);return Math.sqrt(t*t+e*e)};h.empty=function(e){return e?F(e,n):q(n)};h.equals=function(e,d,b){if(p.isNone(e)||p.isNone(d))return e===d;if(!m(e)||!m(d))return!1;if(b)for(let t=0;t<e.length;t++){if(!b(e[t],d[t]))return!1}else for(b=0;b<e.length;b++)if(e[b]!==d[b])return!1;return!0};h.expand=function(e,d,b=e){if("length"in d)if(m(d))b[0]=Math.min(e[0],d[0]),b[1]=Math.min(e[1],d[1]),b[2]=Math.max(e[2],d[2]),b[3]=
Math.max(e[3],d[3]);else{if(2===d.length||3===d.length)b[0]=Math.min(e[0],d[0]),b[1]=Math.min(e[1],d[1]),b[2]=Math.max(e[2],d[0]),b[3]=Math.max(e[3],d[1])}else switch(d.type){case "extent":b[0]=Math.min(e[0],d.xmin);b[1]=Math.min(e[1],d.ymin);b[2]=Math.max(e[2],d.xmax);b[3]=Math.max(e[3],d.ymax);break;case "point":b[0]=Math.min(e[0],d.x),b[1]=Math.min(e[1],d.y),b[2]=Math.max(e[2],d.x),b[3]=Math.max(e[3],d.y)}return b};h.expandPointInPlace=function(e,d){d[0]<e[0]&&(e[0]=d[0]);d[0]>e[2]&&(e[2]=d[0]);
d[1]<e[1]&&(e[1]=d[1]);d[1]>e[3]&&(e[3]=d[1])};h.expandWithNestedArray=function(e,d,b=e){const t=d.length;let C=e[0],w=e[1],l=e[2];e=e[3];for(let r=0;r<t;r++){const u=d[r];C=Math.min(C,u[0]);w=Math.min(w,u[1]);l=Math.max(l,u[0]);e=Math.max(e,u[1])}b[0]=C;b[1]=w;b[2]=l;b[3]=e;return b};h.fromExtent=function(e,d=q()){d[0]=e.xmin;d[1]=e.ymin;d[2]=e.xmax;d[3]=e.ymax;return d};h.fromValues=function(e,d,b,t,C=q()){C[0]=e;C[1]=d;C[2]=b;C[3]=t;return C};h.height=B;h.intersection=function(e,d,b=e){const t=
d[0],C=d[1],w=d[2];d=d[3];b[0]=k(e[0],t,w);b[1]=k(e[1],C,d);b[2]=k(e[2],t,w);b[3]=k(e[3],C,d);return b};h.intersects=function(e,d){return Math.max(d[0],e[0])<=Math.min(d[2],e[2])&&Math.max(d[1],e[1])<=Math.min(d[3],e[3])};h.is=m;h.isPoint=function(e){return(0===z(e)||!isFinite(e[0]))&&(0===B(e)||!isFinite(e[1]))};h.offset=function(e,d,b,t=e){t[0]=e[0]+d;t[1]=e[1]+b;t[2]=e[2]+d;t[3]=e[3]+b;return t};h.pad=function(e,d,b=e){b[0]=e[0]-d;b[1]=e[1]-d;b[2]=e[2]+d;b[3]=e[3]+d;return b};h.set=F;h.setMax=
function(e,d,b=e){b[2]=d[0];b[3]=d[1];b!==e&&(b[0]=e[0],b[1]=e[1]);return e};h.setMin=function(e,d,b=e){b[0]=d[0];b[1]=d[1];b!==e&&(b[2]=e[2],b[3]=e[3]);return b};h.size=function(e,d){d[0]=e[2]-e[0];d[1]=e[3]-e[1]};h.toExtent=function(e,d){return new f({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:d})};h.width=z;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/layers/support/LOD":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass".split(" "),
function(h,c,p,f,q,z,B,H,F){var m;p=m=function(k){function n(v){v=k.call(this,v)||this;v.level=0;v.levelValue=null;v.resolution=0;v.scale=0;return v}h._inheritsLoose(n,k);n.prototype.clone=function(){return new m({level:this.level,levelValue:this.levelValue,resolution:this.resolution,scale:this.scale})};return n}(p.JSONSupport);c.__decorate([f.property({type:z.Integer,json:{write:!0}})],p.prototype,"level",void 0);c.__decorate([f.property({type:String,json:{write:!0}})],p.prototype,"levelValue",void 0);
c.__decorate([f.property({type:Number,json:{write:!0}})],p.prototype,"resolution",void 0);c.__decorate([f.property({type:Number,json:{write:!0}})],p.prototype,"scale",void 0);return p=m=c.__decorate([F.subclass("esri.layers.support.LOD")],p)})},"esri/views/PopupView":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/arrayUtils ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/ensureType ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/subclass".split(" "),
function(h,c,p,f,q,z,B,H,F,m,k,n){h.PopupView=v=>{v=function(e){function d(){return e.apply(this,arguments)||this}c._inheritsLoose(d,e);var b=d.prototype;b.fetchPopupFeatures=function(){var t=c._asyncToGenerator(function*(C,w){yield this.when();const {location:l,queryArea:r,layerViewsAndGraphics:u,clientOnlyGraphics:A}=yield this._prepareFetchPopupFeatures(C,w);C=Promise.resolve(A);w=this._queryLayerPopupFeatures({queryArea:r,layerViewsAndGraphics:u,options:w});const x=w.map(E=>E.promise);C=z.eachAlwaysValues([C,
...x]).then(f.flatten);return{location:l,clientOnlyGraphics:A,allGraphicsPromise:C,promisesPerLayerView:w}});return function(C,w){return t.apply(this,arguments)}}();b._queryLayerPopupFeatures=function({queryArea:t,layerViewsAndGraphics:C,options:w}){return C.map(({layerView:l,graphics:r})=>{r={clientGraphics:r,event:q.isSome(w)?w.event:null,signal:q.isSome(w)?w.signal:null,defaultPopupTemplateEnabled:q.isSome(w)?!!w.defaultPopupTemplateEnabled:!1};r=l.fetchPopupFeatures(t,r);return{layerView:l,promise:r}})};
b._isValidPopupGraphic=function(t,C){return t&&!!t.getEffectivePopupTemplate(q.isSome(C)&&C.defaultPopupTemplateEnabled)};b._prepareFetchPopupFeatures=function(){var t=c._asyncToGenerator(function*(C,w){const {clientGraphics:l,queryArea:r,location:u}=yield this._popupHitTestGraphics(C,w);C=this._getFetchPopupLayerViews();const {layerViewsAndGraphics:A,clientOnlyGraphics:x}=this._graphicsPerFetchPopupLayerView(l,C);return{clientOnlyGraphics:x,layerViewsAndGraphics:A,queryArea:r,location:u}});return function(C,
w){return t.apply(this,arguments)}}();b._popupHitTestGraphics=function(){var t=c._asyncToGenerator(function*(C,w){const {results:l,mapPoint:r}=yield this.popupHitTest(C);C=l.filter(A=>this._isValidPopupGraphic(A.graphic,w));const u=C.length?C[0].mapPoint:null;return{clientGraphics:C.map(A=>A.graphic),queryArea:r,location:r||u}});return function(C,w){return t.apply(this,arguments)}}();b._getFetchPopupLayerViews=function(){const t=[];this.allLayerViews.forEach(C=>{this._isValidPopupLayerView(C)&&t.push(C)});
q.isSome(this.graphicsView)&&this._isValidPopupLayerView(this.graphicsView)&&t.push(this.graphicsView);return t.reverse()};b._isValidPopupLayerView=function(t){return q.isSome(t)&&(!("layer"in t)||!t.suspended)&&"fetchPopupFeatures"in t};b._graphicsPerFetchPopupLayerView=function(t,C){const w=[],l=new Map;C=C.map(r=>{const u=[];"layer"in r?l.set(r.layer,u):l.set(r.graphics,u);return{layerView:r,graphics:u}});for(const r of t)(t=l.get(r.layer)||l.get(r.sourceLayer)||null)?t.push(r):w.push(r);return{layerViewsAndGraphics:C,
clientOnlyGraphics:w}};return d}(v);return v=p.__decorate([n.subclass("esri.views.PopupView")],v)};Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/2d/AnimationManager":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../Viewpoint ../../core/Accessor ../../core/scheduling ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../ViewAnimation ./unitBezier ./viewpointUtils ../../geometry/Point".split(" "),
function(h,c,p,f,q,z,B,H,F,m,k,n,v,e,d,b){let t=function(){function C(w,l,r,u){const A=w.targetGeometry,x=l.targetGeometry;u?"string"===typeof u&&(u=e.parse(u)||e.easingFunctions.ease):u=e.easingFunctions.ease;this.easing=u;this.duration=r;this.sCenterX=A.x;this.sCenterY=A.y;this.sScale=w.scale;this.sRotation=w.rotation;this.tCenterX=x.x;this.tCenterY=x.y;this.tScale=l.scale;this.tRotation=l.rotation;this.dCenterX=this.tCenterX-this.sCenterX;this.dCenterY=this.tCenterY-this.sCenterY;this.dScale=this.tScale-
this.sScale;this.dRotation=this.tRotation-this.sRotation;180<this.dRotation?this.dRotation-=360:-180>this.dRotation&&(this.dRotation+=360)}C.prototype.applyRatio=function(w,l){var r=this.easing(l);let u,A;1<=l?(l=this.tCenterX,u=this.tCenterY,A=this.tRotation,r=this.tScale):(l=this.sCenterX+r*this.dCenterX,u=this.sCenterY+r*this.dCenterY,A=this.sRotation+r*this.dRotation,r=this.sScale+r*this.dScale);w.targetGeometry.x=l;w.targetGeometry.y=u;w.scale=r;w.rotation=A};return C}();p=function(C){function w(r){r=
C.call(this,r)||this;r.duration=200;r.transition=null;r.easing=e.easingFunctions.ease;r.view=null;r.viewpoint=null;r.viewpoint=new f({targetGeometry:new b,scale:0,rotation:0});r._updateTask=z.addFrameTask({postRender:r._postRender.bind(h._assertThisInitialized(r))});r._updateTask.pause();return r}h._inheritsLoose(w,C);var l=w.prototype;l.destroy=function(){this._updateTask.remove();this._updateTask=null};l.animate=function(r,u,A){this.stop();d.copy(this.viewpoint,u);this.transition=new t(this.viewpoint,
r.target,A&&A.duration||this.duration,A&&A.easing||this.easing);u=()=>{this.animation===r&&this._updateTask&&("finished"===r.state&&(this.transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.updateFunction=this.animation=null)};r.when(u,u);this._startTime=performance.now();this._updateTask.resume();return this.animation=r};l.animateContinous=function(r,u){this.stop();this.updateFunction=u;this.viewpoint=r;const A=new v({target:r.clone()});
r=()=>{this.animation===A&&this._updateTask&&(this.updateFunction=this.animation=null)};A.when(r,r);this._startTime=performance.now();this._updateTask.resume();return this.animation=A};l.stop=function(){this.animation&&(this.animation.stop(),this.updateFunction=this.animation=null)};l._postRender=function(r){var u=this.animation;u&&u.state!==v.State.STOPPED?(this.updateFunction?this.updateFunction(this.viewpoint,r.deltaTime):(r=(performance.now()-this._startTime)/this.transition.duration,u=1<=r,this.transition.applyRatio(this.viewpoint,
r),u&&this.animation.finish()),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())):this._updateTask.pause()};return w}(q);c.__decorate([B.property()],p.prototype,"animation",void 0);c.__decorate([B.property()],p.prototype,"duration",void 0);c.__decorate([B.property()],p.prototype,"transition",void 0);c.__decorate([B.property()],p.prototype,"easing",void 0);c.__decorate([B.property()],p.prototype,"view",void 0);c.__decorate([B.property()],p.prototype,"viewpoint",void 0);return p=c.__decorate([n.subclass("esri.views.2d.AnimationManager")],
p)})},"esri/views/2d/unitBezier":function(){define(["exports"],function(h){function c(q,z,B,H){function F(b,t){var C;let w,l;w=b;for(C=0;8>C;C++){l=((n*w+k)*w+m)*w-b;if(Math.abs(l)<t)return w;var r=(3*n*w+2*k)*w+m;if(1E-6>Math.abs(r))break;w-=l/r}r=0;C=1;w=b;if(w<r)return r;if(w>C)return C;for(;r<C;){l=((n*w+k)*w+m)*w;if(Math.abs(l-b)<t)break;b>l?r=w:C=w;w=.5*(C-r)+r}return w}const m=3*q,k=3*(B-q)-m,n=1-m-k,v=3*z,e=3*(H-z)-v,d=1-v-e;return function(b,t=1E-6){b=F(b,t);return((d*b+e)*b+v)*b}}const p=
/^cubic-bezier\((.*)\)/,f={};f.ease=c(.25,.1,.25,1);f.linear=c(0,0,1,1);f.easeIn=f["ease-in"]=c(.42,0,1,1);f.easeOut=f["ease-out"]=c(0,0,.58,1);f.easeInOut=f["ease-in-out"]=c(.42,0,.58,1);h.easingFunctions=f;h.parse=function(q){let z=f[q]||null;!z&&(q=p.exec(q))&&(q=q[1].split(",").map(B=>parseFloat(B.trim())),4!==q.length||q.some(B=>isNaN(B))||(z=c.apply(c,q)));return z};h.unitBezier=c;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/2d/viewpointUtils":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../Viewpoint ../../core/Collection ../../core/maybe ../../core/unitUtils ../../chunks/common ../../chunks/mat2d ../../chunks/mat2df64 ../../chunks/vec2 ../../chunks/vec2f64 ../../geometry/Extent ../../geometry/Geometry ../../geometry/Point ../../geometry/SpatialReference ../../geometry/support/Ellipsoid ../../geometry/support/spatialReferenceUtils ../../geometry/support/webMercatorUtils".split(" "),
function(h,c,p,f,q,z,B,H,F,m,k,n,v,e,d,b,t,C){function w(y,G,N,R){return R&&N&&!R.equals(N)&&C.canProject(R,N)&&R.isWebMercator?(R.isWebMercator?(N=G[1],89.99999<N?N=89.99999:-89.99999>N&&(N=-89.99999),N=Math.sin(B.toRadian(N)),y=m.set(y,B.toRadian(G[0])*b.earth.radius,.5*b.earth.radius*Math.log((1+N)/(1-N)))):(N=B.toDegree(G[0]/b.earth.radius),y=m.set(y,N-360*Math.floor((N+180)/360),B.toDegree(.5*Math.PI-2*Math.atan(Math.exp(-1*G[1]/b.earth.radius))))),y):m.copy(y,G)}function l(y){return y.wkid?
y:y.spatialReference||d.WGS84}function r(y,G){return G.type?m.set(y,G.x,G.y):m.copy(y,G)}function u(y,G){return Math.max(y.width/G[0],y.height/G[1])*oa(y.spatialReference)}function A(y,G,N,R){return x.apply(this,arguments)}function x(){x=c._asyncToGenerator(function*(y,G,N,R){if(!y||Array.isArray(y)&&!y.length)return null;f.isCollection(y)&&(y=y.toArray());if(Array.isArray(y)&&y.length&&"object"===typeof y[0]){var T=y.every(qa=>"attributes"in qa);var Y=y.some(qa=>!qa.geometry),ca=y;if(T&&Y&&G&&G.allLayerViews){T=
new Map;for(var ia of y)y=ia.layer,Y=T.get(y)||[],ca=ia.attributes[y.objectIdField],null!=ca&&Y.push(ca),T.set(y,Y);const qa=[];T.forEach((ra,ta)=>{const Ea=G.allLayerViews.find(va=>va.layer.id===ta.id);if("queryFeatures"in Ea){const va=ta.createQuery();va.objectIds=ra;va.returnGeometry=!0;qa.push(Ea.queryFeatures(va))}});ia=yield Promise.all(qa);y=[];for(var ka of ia)if(ka&&ka.features&&ka.features.length)for(var la of ka.features)q.isSome(la.geometry)&&y.push(la.geometry);ca=y}for(const qa of ca)R=
yield A(qa,G,N,R);return R}if(Array.isArray(y)&&2===y.length&&"number"===typeof y[0]&&"number"===typeof y[1])T=new e(y);else if(y instanceof v)T=y;else if("geometry"in y)if(y.geometry)T=y.geometry;else if(y.layer){const qa=y.layer;ka=G.allLayerViews.find(ra=>ra.layer.id===qa.id);"queryFeatures"in ka&&(la=qa.createQuery(),la.objectIds=[y.attributes[qa.objectIdField]],la.returnGeometry=!0,ka=yield ka.queryFeatures(la),T=q.get(ka,"features",0,"geometry"))}if(q.isNone(T))return null;ka="point"===T.type?
new n({xmin:T.x,ymin:T.y,xmax:T.x,ymax:T.y,spatialReference:T.spatialReference}):T.extent;if(!ka)return null;la=C.canProject(ka,N);if(!ka.spatialReference.equals(N)&&la)ka=C.project(ka,N);else if(!la)return null;return R=R?R.union(ka):ka.clone()});return x.apply(this,arguments)}function E(y){if(y&&(!Array.isArray(y)||"number"!==typeof y[0])&&("object"===typeof y||Array.isArray(y)&&"object"===typeof y[0])){if("layer"in y&&y.layer&&y.layer.minScale&&y.layer.maxScale){var G=y.layer;return{min:G.minScale,
max:G.maxScale}}if(Array.isArray(y)&&y.length&&y.every(N=>"layer"in N)){let N=G=0;for(const R of y)(y=R.layer)&&y.minScale&&y.maxScale&&(G=y.minScale<G?y.minScale:G,N=y.maxScale>N?y.maxScale:N);return G&&N?{min:G,max:N}:null}}}function S(y,G){return aa.apply(this,arguments)}function aa(){aa=c._asyncToGenerator(function*(y,G){if(!y||!G)return new p({targetGeometry:new e,scale:0,rotation:0});let N=G.spatialReference;const {constraints:R,padding:T,viewpoint:Y,size:ca}=G,ia=[T?ca[0]-T.left-T.right:ca[0],
T?ca[1]-T.top-T.bottom:ca[1]];let ka=null;y instanceof p?ka=y:y.viewpoint?ka=y.viewpoint:y.target&&"esri.Viewpoint"===y.target.declaredClass&&(ka=y.target);let la=null;if(ka&&ka.targetGeometry)la=ka.targetGeometry;else if(y instanceof n)la=y;else if(y||y&&("center"in y||"extent"in y||"target"in y))la=(yield A(y.center,G,N))||(yield A(y.extent,G,N))||(yield A(y.target,G,N))||(yield A(y,G,N));!la&&Y&&Y.targetGeometry?la=Y.targetGeometry:!la&&G.extent&&(la=G.extent);var qa=l(la);N||(N=l(G.spatialReference||
G.extent||la));if(!C.canProject(la,N)&&qa&&!qa.equals(N))return null;var ra=r(k.create(),la.center?la.center:la);qa=new e(w(ra,ra,qa,N),N);ra=null;ra=ka&&q.isSome(ka.targetGeometry)&&"point"===ka.targetGeometry.type?ka.scale:y.hasOwnProperty("scale")&&y.scale?y.scale:y.hasOwnProperty("zoom")&&-1!==y.zoom&&R&&R.effectiveLODs?R.zoomToScale(y.zoom):Array.isArray(la)||"point"===la.type||"extent"===la.type&&0===la.width&&0===la.height?G.extent&&C.canProject(G.extent,N)?u(C.project(G.extent,N),ia):G.extent?
u(G.extent,ia):Y.scale:C.canProject(la.extent,N)?u(C.project(la.extent,N),ia):u(la.extent,ia);if(G=E(y))G.min&&G.min>ra?ra=G.min:G.max&&G.max<ra&&(ra=G.max);G=0;ka?G=ka.rotation:y.hasOwnProperty("rotation")?G=y.rotation:Y&&(G=Y.rotation);y=new p({targetGeometry:qa,scale:ra,rotation:G});R&&(y=R.fit(y),R.constrainByGeometry(y),R.rotationEnabled||(y.rotation=G));return y});return aa.apply(this,arguments)}function da(y,G){const N=y.targetGeometry,R=G.targetGeometry;N.x=R.x;N.y=R.y;N.spatialReference=
R.spatialReference;y.scale=G.scale;y.rotation=G.rotation;return y}function ja(y,G,N){return N?m.set(y,.5*(G[0]-N.right+N.left),.5*(G[1]-N.bottom+N.top)):m.scale(y,G,.5)}function ba(y,G,N,R){W(y,G,N,R);return H.invert(y,y)}function ea(y){var G=y.scale;y=y.targetGeometry;y=q.isSome(y)&&t.isValid(y.spatialReference)?1/(39.37*z.getMetersPerUnitForSR(y.spatialReference)*96):1;return G*y}function oa(y){return t.isValid(y)?39.37*z.getMetersPerUnitForSR(y)*96:1}function wa(y){return y.isWrappable?(y=t.getInfo(y),
y.valid[1]-y.valid[0]):0}const D=180/Math.PI,I=function(){const y=k.create();return function(G,N,R){const T=N.targetGeometry;r(y,T);N=.5*ea(N);G.xmin=y[0]-N*R[0];G.ymin=y[1]-N*R[1];G.xmax=y[0]+N*R[0];G.ymax=y[1]+N*R[1];G.spatialReference=T.spatialReference;return G}}(),Z=function(){const y=k.create();return function(G,N,R){return m.sub(G,m.scale(G,N,.5),ja(y,N,R))}}(),M=function(){const y=F.create(),G=k.create();return function(N,R,T,Y){const ca=ea(R);R=B.toRadian(R.rotation)||0;m.set(G,ca,ca);H.fromScaling(y,
G);H.rotate(y,y,R);H.translate(y,y,Z(G,T,Y));H.translate(y,y,[0,Y.top-Y.bottom]);return m.set(N,y[4],y[5])}}(),U=function(){const y=k.create(),G=k.create(),N=k.create();return function(R,T,Y,ca,ia,ka){m.negate(y,T);m.scale(G,Y,.5*ka);m.set(N,1/ca*ka,-1/ca*ka);H.identity(R);H.translate(R,R,G);ia&&H.rotate(R,R,ia);H.scale(R,R,N);H.translate(R,R,y);return R}}(),W=function(){const y=k.create();return function(G,N,R,T){const Y=ea(N),ca=B.toRadian(N.rotation)||0;r(y,N.targetGeometry);return U(G,y,R,Y,ca,
T)}}(),J=function(){const y=k.create();return function(G,N,R,T){const Y=ea(N);r(y,N.targetGeometry);return U(G,y,R,Y,0,T)}}(),V=function(){const y=k.create(),G=k.create(),N=[0,0,0];return function(R,T,Y){m.subtract(y,R,T);m.normalize(y,y);m.subtract(G,R,Y);m.normalize(G,G);m.cross(N,y,G);R=Math.acos(m.dot(y,G)/(m.length(y)*m.length(G)))*D;0>N[2]&&(R=-R);isNaN(R)&&(R=0);return R}}(),fa=function(){const y=k.create();return function(G,N,R,T){const Y=G.targetGeometry;da(G,N);M(y,N,R,T);Y.x+=y[0];Y.y+=
y[1];return G}}(),ha=function(){const y=k.create();return function(G,N,R,T){const Y=G.targetGeometry;da(G,N);M(y,N,R,T);Y.x-=y[0];Y.y-=y[1];return G}}(),na=function(){const y=k.create();return function(G,N,R){da(G,N);N=G.targetGeometry;const T=l(R),Y=l(N);r(y,R);w(y,y,T,Y);N.x=y[0];N.y=y[1];return G}}(),ua=function(){const y=k.create();return function(G,N,R,T,Y){Y||(Y="center");m.sub(y,R,T);m.scale(y,y,.5);R=y[0];T=y[1];switch(Y){case "center":m.set(y,0,0);break;case "left":m.set(y,-R,0);break;case "top":m.set(y,
0,T);break;case "right":m.set(y,R,0);break;case "bottom":m.set(y,0,-T);break;case "top-left":m.set(y,-R,T);break;case "bottom-left":m.set(y,-R,-T);break;case "top-right":m.set(y,R,T);break;case "bottom-right":m.set(y,R,-T)}Q(G,N,y);return G}}(),xa=function(){const y=k.create();return function(G,N,R,T,Y){da(G,N);isNaN(R)||0===R||(g(y,T,N,Y),G.scale=N.scale*R,K(y,y,G,Y),Q(G,G,m.set(y,y[0]-T[0],T[1]-y[1])));return G}}(),sa=function(){const y=k.create();return function(G,N,R,T,Y,ca){da(G,N);isNaN(R)||
0===R||(g(y,Y,N,ca),G.scale=N.scale*R,G.rotation+=T,K(y,y,G,ca),Q(G,G,m.set(y,y[0]-Y[0],Y[1]-y[1])));return G}}(),a=function(){const y=k.create(),G=k.create();return function(N,R,T,Y,ca,ia,ka){Z(G,ia,ka);m.add(y,ca,G);return Y?sa(N,R,T,Y,y,ia):xa(N,R,T,y,ia)}}(),g=function(){const y=F.create();return function(G,N,R,T){return m.transformMat2d(G,N,ba(y,R,T,1))}}(),K=function(){const y=F.create();return function(G,N,R,T){return m.transformMat2d(G,N,W(y,R,T,1))}}(),Q=function(){const y=k.create(),G=F.create();
return function(N,R,T){da(N,R);const Y=ea(R),ca=N.targetGeometry;H.fromRotation(G,B.toRadian(R.rotation)||0);H.scale(G,G,k.fromValues(Y,Y));m.transformMat2d(y,T,G);ca.x+=y[0];ca.y+=y[1];return N}}();h.addPadding=fa;h.angleBetween=V;h.centerAt=na;h.copy=da;h.create=S;h.createAsync=function(y,G){return S(y,G)};h.extentToScale=u;h.getAnchor=ja;h.getExtent=I;h.getMatrix=U;h.getOuterSize=function(y,G,N){var R=B.toRadian(G.rotation)||0;G=Math.abs(Math.cos(R));R=Math.abs(Math.sin(R));return m.set(y,Math.round(N[1]*
R+N[0]*G),Math.round(N[1]*G+N[0]*R))};h.getPaddingMapTranslation=M;h.getPaddingScreenTranslation=Z;h.getResolution=ea;h.getResolutionToScaleFactor=oa;h.getTransform=W;h.getTransformNoRotation=J;h.getWorldScreenWidth=function(y,G){return Math.round(wa(y)/G)};h.getWorldWidth=wa;h.padAndScaleAndRotateBy=a;h.pixelSize=function(y){return ea(y)};h.removePadding=ha;h.resize=ua;h.rotateBy=function(y,G,N){da(y,G);y.rotation+=N;return y};h.rotateTo=function(y,G,N){da(y,G);y.rotation=N;return y};h.scaleAndRotateBy=
sa;h.scaleBy=xa;h.scaleTo=function(y,G,N){da(y,G);y.scale=N;return y};h.setExtent=function(y,G,N,R,T){na(y,G,N.center);y.scale=u(N,R);T&&T.constraints&&T.constraints.constrain(y);return y};h.toMap=g;h.toScreen=K;h.translateBy=Q;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/chunks/mat2d":function(){define(["exports","./common"],function(h,c){function p(x,E){x[0]=E[0];x[1]=E[1];x[2]=E[2];x[3]=E[3];x[4]=E[4];x[5]=E[5];return x}function f(x){x[0]=1;x[1]=0;x[2]=0;x[3]=1;x[4]=0;x[5]=0;return x}
function q(x,E,S,aa,da,ja,ba){x[0]=E;x[1]=S;x[2]=aa;x[3]=da;x[4]=ja;x[5]=ba;return x}function z(x,E){const S=E[0],aa=E[1],da=E[2],ja=E[3],ba=E[4];E=E[5];let ea=S*ja-aa*da;if(!ea)return null;ea=1/ea;x[0]=ja*ea;x[1]=-aa*ea;x[2]=-da*ea;x[3]=S*ea;x[4]=(da*E-ja*ba)*ea;x[5]=(aa*ba-S*E)*ea;return x}function B(x){return x[0]*x[3]-x[1]*x[2]}function H(x,E,S){const aa=E[0],da=E[1],ja=E[2],ba=E[3],ea=E[4];E=E[5];const oa=S[0],wa=S[1],D=S[2],I=S[3],Z=S[4];S=S[5];x[0]=aa*oa+ja*wa;x[1]=da*oa+ba*wa;x[2]=aa*D+ja*
I;x[3]=da*D+ba*I;x[4]=aa*Z+ja*S+ea;x[5]=da*Z+ba*S+E;return x}function F(x,E,S){const aa=E[0],da=E[1],ja=E[2],ba=E[3],ea=E[4];E=E[5];const oa=Math.sin(S);S=Math.cos(S);x[0]=aa*S+ja*oa;x[1]=da*S+ba*oa;x[2]=aa*-oa+ja*S;x[3]=da*-oa+ba*S;x[4]=ea;x[5]=E;return x}function m(x,E,S){const aa=E[1],da=E[2],ja=E[3],ba=E[4],ea=E[5],oa=S[0];S=S[1];x[0]=E[0]*oa;x[1]=aa*oa;x[2]=da*S;x[3]=ja*S;x[4]=ba;x[5]=ea;return x}function k(x,E,S){const aa=E[0],da=E[1],ja=E[2],ba=E[3],ea=E[4];E=E[5];const oa=S[0];S=S[1];x[0]=
aa;x[1]=da;x[2]=ja;x[3]=ba;x[4]=aa*oa+ja*S+ea;x[5]=da*oa+ba*S+E;return x}function n(x,E){const S=Math.sin(E);E=Math.cos(E);x[0]=E;x[1]=S;x[2]=-S;x[3]=E;x[4]=0;x[5]=0;return x}function v(x,E){x[0]=E[0];x[1]=0;x[2]=0;x[3]=E[1];x[4]=0;x[5]=0;return x}function e(x,E){x[0]=1;x[1]=0;x[2]=0;x[3]=1;x[4]=E[0];x[5]=E[1];return x}function d(x){return"mat2d("+x[0]+", "+x[1]+", "+x[2]+", "+x[3]+", "+x[4]+", "+x[5]+")"}function b(x){return Math.sqrt(x[0]**2+x[1]**2+x[2]**2+x[3]**2+x[4]**2+x[5]**2+1)}function t(x,
E,S){x[0]=E[0]+S[0];x[1]=E[1]+S[1];x[2]=E[2]+S[2];x[3]=E[3]+S[3];x[4]=E[4]+S[4];x[5]=E[5]+S[5];return x}function C(x,E,S){x[0]=E[0]-S[0];x[1]=E[1]-S[1];x[2]=E[2]-S[2];x[3]=E[3]-S[3];x[4]=E[4]-S[4];x[5]=E[5]-S[5];return x}function w(x,E,S){x[0]=E[0]*S;x[1]=E[1]*S;x[2]=E[2]*S;x[3]=E[3]*S;x[4]=E[4]*S;x[5]=E[5]*S;return x}function l(x,E,S,aa){x[0]=E[0]+S[0]*aa;x[1]=E[1]+S[1]*aa;x[2]=E[2]+S[2]*aa;x[3]=E[3]+S[3]*aa;x[4]=E[4]+S[4]*aa;x[5]=E[5]+S[5]*aa;return x}function r(x,E){return x[0]===E[0]&&x[1]===
E[1]&&x[2]===E[2]&&x[3]===E[3]&&x[4]===E[4]&&x[5]===E[5]}function u(x,E){const S=x[0],aa=x[1],da=x[2],ja=x[3],ba=x[4];x=x[5];const ea=E[0],oa=E[1],wa=E[2],D=E[3],I=E[4];E=E[5];return Math.abs(S-ea)<=c.EPSILON*Math.max(1,Math.abs(S),Math.abs(ea))&&Math.abs(aa-oa)<=c.EPSILON*Math.max(1,Math.abs(aa),Math.abs(oa))&&Math.abs(da-wa)<=c.EPSILON*Math.max(1,Math.abs(da),Math.abs(wa))&&Math.abs(ja-D)<=c.EPSILON*Math.max(1,Math.abs(ja),Math.abs(D))&&Math.abs(ba-I)<=c.EPSILON*Math.max(1,Math.abs(ba),Math.abs(I))&&
Math.abs(x-E)<=c.EPSILON*Math.max(1,Math.abs(x),Math.abs(E))}var A=Object.freeze({__proto__:null,copy:p,identity:f,set:q,invert:z,determinant:B,multiply:H,rotate:F,scale:m,translate:k,fromRotation:n,fromScaling:v,fromTranslation:e,str:d,frob:b,add:t,subtract:C,multiplyScalar:w,multiplyScalarAndAdd:l,exactEquals:r,equals:u,mul:H,sub:C});h.add=t;h.copy=p;h.determinant=B;h.equals=u;h.exactEquals=r;h.frob=b;h.fromRotation=n;h.fromScaling=v;h.fromTranslation=e;h.identity=f;h.invert=z;h.mat2d=A;h.mul=H;
h.multiply=H;h.multiplyScalar=w;h.multiplyScalarAndAdd=l;h.rotate=F;h.scale=m;h.set=q;h.str=d;h.sub=C;h.subtract=C;h.translate=k})},"esri/chunks/mat2df64":function(){define(["exports"],function(h){function c(){return[1,0,0,1,0,0]}function p(B){return[B[0],B[1],B[2],B[3],B[4],B[5]]}function f(B,H,F,m,k,n){return[B,H,F,m,k,n]}function q(B,H){return new Float64Array(B,H,6)}var z=Object.freeze({__proto__:null,create:c,clone:p,fromValues:f,createView:q});h.clone=p;h.create=c;h.createView=q;h.fromValues=
f;h.mat2df64=z})},"esri/chunks/vec2":function(){define(["exports","./common"],function(h,c){function p(M,U){M[0]=U[0];M[1]=U[1];return M}function f(M,U,W){M[0]=U;M[1]=W;return M}function q(M,U,W){M[0]=U[0]+W[0];M[1]=U[1]+W[1];return M}function z(M,U,W){M[0]=U[0]-W[0];M[1]=U[1]-W[1];return M}function B(M,U,W){M[0]=U[0]*W[0];M[1]=U[1]*W[1];return M}function H(M,U,W){M[0]=U[0]/W[0];M[1]=U[1]/W[1];return M}function F(M,U){M[0]=Math.ceil(U[0]);M[1]=Math.ceil(U[1]);return M}function m(M,U){M[0]=Math.floor(U[0]);
M[1]=Math.floor(U[1]);return M}function k(M,U,W){M[0]=Math.min(U[0],W[0]);M[1]=Math.min(U[1],W[1]);return M}function n(M,U,W){M[0]=Math.max(U[0],W[0]);M[1]=Math.max(U[1],W[1]);return M}function v(M,U){M[0]=Math.round(U[0]);M[1]=Math.round(U[1]);return M}function e(M,U,W){M[0]=U[0]*W;M[1]=U[1]*W;return M}function d(M,U,W,J){M[0]=U[0]+W[0]*J;M[1]=U[1]+W[1]*J;return M}function b(M,U){const W=U[0]-M[0];M=U[1]-M[1];return Math.sqrt(W*W+M*M)}function t(M,U){const W=U[0]-M[0];M=U[1]-M[1];return W*W+M*M}
function C(M){const U=M[0];M=M[1];return Math.sqrt(U*U+M*M)}function w(M){const U=M[0];M=M[1];return U*U+M*M}function l(M,U){M[0]=-U[0];M[1]=-U[1];return M}function r(M,U){M[0]=1/U[0];M[1]=1/U[1];return M}function u(M,U){var W=U[0];const J=U[1];W=W*W+J*J;0<W&&(W=1/Math.sqrt(W),M[0]=U[0]*W,M[1]=U[1]*W);return M}function A(M,U){return M[0]*U[0]+M[1]*U[1]}function x(M,U,W){U=U[0]*W[1]-U[1]*W[0];M[0]=M[1]=0;M[2]=U;return M}function E(M,U,W,J){const V=U[0];U=U[1];M[0]=V+J*(W[0]-V);M[1]=U+J*(W[1]-U);return M}
function S(M,U){U=U||1;const W=2*c.RANDOM()*Math.PI;M[0]=Math.cos(W)*U;M[1]=Math.sin(W)*U;return M}function aa(M,U,W){const J=U[0];U=U[1];M[0]=W[0]*J+W[2]*U;M[1]=W[1]*J+W[3]*U;return M}function da(M,U,W){const J=U[0];U=U[1];M[0]=W[0]*J+W[2]*U+W[4];M[1]=W[1]*J+W[3]*U+W[5];return M}function ja(M,U,W){const J=U[0];U=U[1];M[0]=W[0]*J+W[3]*U+W[6];M[1]=W[1]*J+W[4]*U+W[7];return M}function ba(M,U,W){const J=U[0];U=U[1];M[0]=W[0]*J+W[4]*U+W[12];M[1]=W[1]*J+W[5]*U+W[13];return M}function ea(M,U,W,J){const V=
U[0]-W[0];U=U[1]-W[1];const fa=Math.sin(J);J=Math.cos(J);M[0]=V*J-U*fa+W[0];M[1]=V*fa+U*J+W[1];return M}function oa(M,U){var W=M[0];M=M[1];const J=U[0];U=U[1];let V=W*W+M*M;0<V&&(V=1/Math.sqrt(V));let fa=J*J+U*U;0<fa&&(fa=1/Math.sqrt(fa));W=(W*J+M*U)*V*fa;return 1<W?0:-1>W?Math.PI:Math.acos(W)}function wa(M){return"vec2("+M[0]+", "+M[1]+")"}function D(M,U){return M[0]===U[0]&&M[1]===U[1]}function I(M,U){const W=M[0];M=M[1];const J=U[0];U=U[1];return Math.abs(W-J)<=c.EPSILON*Math.max(1,Math.abs(W),
Math.abs(J))&&Math.abs(M-U)<=c.EPSILON*Math.max(1,Math.abs(M),Math.abs(U))}var Z=Object.freeze({__proto__:null,copy:p,set:f,add:q,subtract:z,multiply:B,divide:H,ceil:F,floor:m,min:k,max:n,round:v,scale:e,scaleAndAdd:d,distance:b,squaredDistance:t,length:C,squaredLength:w,negate:l,inverse:r,normalize:u,dot:A,cross:x,lerp:E,random:S,transformMat2:aa,transformMat2d:da,transformMat3:ja,transformMat4:ba,rotate:ea,angle:oa,str:wa,exactEquals:D,equals:I,len:C,sub:z,mul:B,div:H,dist:b,sqrDist:t,sqrLen:w});
h.add=q;h.angle=oa;h.ceil=F;h.copy=p;h.cross=x;h.dist=b;h.distance=b;h.div=H;h.divide=H;h.dot=A;h.equals=I;h.exactEquals=D;h.floor=m;h.inverse=r;h.len=C;h.length=C;h.lerp=E;h.max=n;h.min=k;h.mul=B;h.multiply=B;h.negate=l;h.normalize=u;h.random=S;h.rotate=ea;h.round=v;h.scale=e;h.scaleAndAdd=d;h.set=f;h.sqrDist=t;h.sqrLen=w;h.squaredDistance=t;h.squaredLength=w;h.str=wa;h.sub=z;h.subtract=z;h.transformMat2=aa;h.transformMat2d=da;h.transformMat3=ja;h.transformMat4=ba;h.vec2=Z})},"esri/chunks/vec2f64":function(){define(["exports"],
function(h){function c(){return[0,0]}function p(b){return[b[0],b[1]]}function f(b,t){return[b,t]}function q(b){const t=[0,0],C=Math.min(2,b.length);for(let w=0;w<C;++w)t[w]=b[w];return t}function z(b,t){return new Float64Array(b,t,2)}function B(){return[0,0]}function H(){return[1,1]}function F(){return[1,0]}function m(){return[0,1]}const k=[0,0],n=[1,1],v=[1,0],e=[0,1];var d=Object.freeze({__proto__:null,create:c,clone:p,fromValues:f,fromArray:q,createView:z,zeros:B,ones:H,unitX:F,unitY:m,ZEROS:k,
ONES:n,UNIT_X:v,UNIT_Y:e});h.ONES=n;h.UNIT_X=v;h.UNIT_Y=e;h.ZEROS=k;h.clone=p;h.create=c;h.createView=z;h.fromArray=q;h.fromValues=f;h.ones=H;h.unitX=F;h.unitY=m;h.vec2f64=d;h.zeros=B})},"esri/views/2d/FrameTask":function(){define(["../../core/maybe","../../core/scheduling"],function(h,c){return function(){function p(q){this.view=q;this._frameTaskHandle=null;this._updateRequested=!1;this.updateEnabled=this.stationary=!0;this.animationInProgress=!1;this.prepare=()=>{this._updateParameters.state=this.view.state;
this._updateParameters.stationary=this.view.stationary;this._updateParameters.pixelRatio=window.devicePixelRatio;this._updateParameters.renderingOptions=this.view.renderingOptions};this.update=()=>{this._updateRequested=!1;if(this.updateEnabled){var {basemapView:z,graphicsView:B,labelManager:H,layerViews:F,state:{id:m}}=this.view;z.baseLayerViews.forEach(this._updateLayerView,this);F.forEach(this._updateLayerView,this);z.referenceLayerViews.forEach(this._updateLayerView,this);h.isSome(H)&&(H.lastUpdateId!==
m&&(H.viewChange(),H.lastUpdateId=m),H.updateRequested&&H.processUpdate(this._updateParameters));h.isSome(B)&&(B.lastUpdateId!==m&&(B.viewChange(),B.lastUpdateId=m),B.updateRequested&&B.processUpdate(this._updateParameters));this.animationInProgress||this._updateRequested||this._frameTaskHandle.pause()}}}var f=p.prototype;f.destroy=function(){this.stop()};f.start=function(){this.stationary=this.view.stationary;this._updateParameters={state:this.view.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,
renderingOptions:this.view.renderingOptions};this._stationaryHandle=this.view.watch("stationary",q=>{this.stationary=q;this.requestFrame()});this._frameTaskHandle=c.addFrameTask(this)};f.stop=function(){this._frameTaskHandle&&(this._stationaryHandle.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)};f.requestUpdate=function(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())};
f.requestFrame=function(){this._frameTaskHandle&&this._frameTaskHandle.resume()};f._updateLayerView=function(q){const z=this.view.state,B=q.lastUpdateId;if(null==B||!this.stationary&&!q.moving)q.moving=!0,q.moveStart();B!==z.id&&q.viewChange();this.stationary&&q.moving&&(q.moving=!1,q.moveEnd());q.lastUpdateId=z.id;q.updateRequested&&q.processUpdate(this._updateParameters);"layerViews"in q&&q.layerViews.forEach(this._updateLayerView,this)};return p}()})},"esri/views/2d/layerViewModuleImportUtils":function(){define(["require",
"exports","../../core/Error","../../core/maybe"],function(h,c,p,f){function q(m){return Object.freeze({__proto__:null,"default":m})}function z(){return Promise.all([new Promise(function(m,k){h(["../webgl"],m,k)}),new Promise(function(m,k){h(["./mapViewDeps"],m,k)})])}const B=()=>z().then(()=>new Promise(function(m,k){h(["./layers/TileLayerView2D"],function(n){m(q(n))},k)})),H=()=>z().then(()=>new Promise(function(m,k){h(["./layers/FeatureLayerView2D"],function(n){m(q(n))},k)})),F={"base-dynamic":()=>
z().then(()=>new Promise(function(m,k){h(["./layers/BaseDynamicLayerView2D"],function(n){m(q(n))},k)})),"base-tile":B,"bing-maps":B,csv:H,"geo-rss":()=>z().then(()=>new Promise(function(m,k){h(["./layers/GeoRSSLayerView2D"],function(n){m(q(n))},k)})),feature:H,geojson:H,graphics:()=>z().then(()=>new Promise(function(m,k){h(["./layers/GraphicsLayerView2D"],function(n){m(q(n))},k)})),group:()=>z().then(()=>new Promise(function(m,k){h(["./layers/GroupLayerView2D"],function(n){m(q(n))},k)})),imagery:()=>
z().then(()=>new Promise(function(m,k){h(["./layers/ImageryLayerView2D"],function(n){m(q(n))},k)})),"imagery-tile":()=>z().then(()=>new Promise(function(m,k){h(["./layers/ImageryTileLayerView2D"],function(n){m(q(n))},k)})),kml:()=>z().then(()=>new Promise(function(m,k){h(["./layers/KMLLayerView2D"],function(n){m(q(n))},k)})),"map-image":()=>z().then(()=>new Promise(function(m,k){h(["./layers/MapImageLayerView2D"],function(n){m(q(n))},k)})),"map-notes":()=>z().then(()=>new Promise(function(m,k){h(["./layers/MapNotesLayerView2D"],
function(n){m(q(n))},k)})),"ogc-feature":()=>z().then(()=>new Promise(function(m,k){h(["./layers/OGCFeatureLayerView2D"],function(n){m(q(n))},k)})),"open-street-map":B,route:()=>z().then(()=>new Promise(function(m,k){h(["./layers/RouteLayerView2D"],function(n){m(q(n))},k)})),stream:()=>z().then(()=>new Promise(function(m,k){h(["./layers/StreamLayerView2D"],function(n){m(q(n))},k)})),"subtype-group":()=>z().then(()=>new Promise(function(m,k){h(["./layers/SubtypeGroupLayerView2D"],function(n){m(q(n))},
k)})),tile:B,"vector-tile":()=>z().then(()=>new Promise(function(m,k){h(["./layers/VectorTileLayerView2D"],function(n){m(q(n))},k)})),wcs:()=>z().then(()=>new Promise(function(m,k){h(["./layers/ImageryTileLayerView2D"],function(n){m(q(n))},k)})),"web-tile":B,wfs:H,wms:()=>z().then(()=>new Promise(function(m,k){h(["./layers/WMSLayerView2D"],function(n){m(q(n))},k)})),wmts:()=>z().then(()=>new Promise(function(m,k){h(["./layers/WMTSLayerView2D"],function(n){m(q(n))},k)})),slice:null,"base-elevation":null,
"building-scene":null,"direct-line-measurement":null,"area-measurement":null,elevation:null,"integrated-mesh":null,"line-of-sight":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};c.layerView2DImporter={hasLayerViewModule:m=>f.isSome(F[m.type]),importLayerView:m=>{var k=F[m.type];if(!f.isSome(k))throw m=m.declaredClass?m.declaredClass.slice(m.declaredClass.lastIndexOf(".")+1):"Unknown",k=m.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),m=new p(`${k}:view-not-supported`,
`${m} is not supported in 2D`),m;return k(m)}};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/views/2d/MapViewConstraints":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../core/Evented ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../layers/support/LOD ./constraints/GeometryConstraint ./constraints/RotationConstraint ./constraints/ZoomConstraint ../../geometry/Extent ../../geometry/Polygon".split(" "),
function(h,c,p,f,q,z,B,H,F,m,k,n,v,e,d,b){p={base:null,key:"type",typeMap:{extent:d,polygon:b}};f=function(t){function C(){var l=t.apply(this,arguments)||this;l.lods=null;l.minScale=0;l.maxScale=0;l.minZoom=-1;l.maxZoom=-1;l.rotationEnabled=!0;l.snapToZoom=!0;return l}h._inheritsLoose(C,t);var w=C.prototype;w.initialize=function(){this.watch(["_zoom","_rotation"],this.emit.bind(this,"update"),!0)};w.destroy=function(){this.view=null;this._set("_zoom",null);this._set("_rotation",null)};w.canZoomInTo=
function(l){const r=this.effectiveMaxScale;return 0===r||l>=r};w.canZoomOutTo=function(l){const r=this.effectiveMinScale;return 0===r||l<=r};w.constrain=function(l,r){this._zoom.constrain(l,r);this._rotation.constrain(l,r);this._geometry.constrain(l,r);return l};w.constrainByGeometry=function(l){return this._geometry.constrain(l)};w.fit=function(l){return this._zoom.fit(l)};w.zoomToScale=function(l){return this._zoom.zoomToScale(l)};w.scaleToZoom=function(l){return this._zoom.scaleToZoom(l)};w.snapScale=
function(l){return this._zoom.snapToClosestScale(l)};w.snapToNextScale=function(l){return this._zoom.snapToNextScale(l)};w.snapToPreviousScale=function(l){return this._zoom.snapToPreviousScale(l)};h._createClass(C,[{key:"geometry",set:function(l){l?this._set("geometry",l):this._set("geometry",null)}},{key:"_defaultLODs",get:function(){const l=this.get("view.defaultsFromMap.tileInfo"),r=this.get("view.spatialReference");return l&&r&&l.spatialReference.equals(r)?l.lods:null}},{key:"_geometry",get:function(){return new n.GeometryConstraint({geometry:this.geometry,
spatialReference:this.view.spatialReference})}},{key:"_rotation",get:function(){return new v({rotationEnabled:this.rotationEnabled})}},{key:"_zoom",get:function(){return new e({lods:this.lods||this._defaultLODs,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale,snapToZoom:this.snapToZoom})}}]);return C}(f.EventedAccessor);c.__decorate([q.property({readOnly:!0,aliasOf:"_zoom.effectiveLODs"})],f.prototype,"effectiveLODs",void 0);c.__decorate([q.property({readOnly:!0,
aliasOf:"_zoom.effectiveMinScale"})],f.prototype,"effectiveMinScale",void 0);c.__decorate([q.property({readOnly:!0,aliasOf:"_zoom.effectiveMaxScale"})],f.prototype,"effectiveMaxScale",void 0);c.__decorate([q.property({readOnly:!0,aliasOf:"_zoom.effectiveMinZoom"})],f.prototype,"effectiveMinZoom",void 0);c.__decorate([q.property({readOnly:!0,aliasOf:"_zoom.effectiveMaxZoom"})],f.prototype,"effectiveMaxZoom",void 0);c.__decorate([q.property({types:p,value:null})],f.prototype,"geometry",null);c.__decorate([q.property({type:[k]})],
f.prototype,"lods",void 0);c.__decorate([q.property()],f.prototype,"minScale",void 0);c.__decorate([q.property()],f.prototype,"maxScale",void 0);c.__decorate([q.property()],f.prototype,"minZoom",void 0);c.__decorate([q.property()],f.prototype,"maxZoom",void 0);c.__decorate([q.property()],f.prototype,"rotationEnabled",void 0);c.__decorate([q.property()],f.prototype,"snapToZoom",void 0);c.__decorate([q.property()],f.prototype,"view",void 0);c.__decorate([q.property()],f.prototype,"_defaultLODs",null);
c.__decorate([q.property({type:n.GeometryConstraint})],f.prototype,"_geometry",null);c.__decorate([q.property({type:v})],f.prototype,"_rotation",null);c.__decorate([q.property({readOnly:!0,type:e})],f.prototype,"_zoom",null);return f=c.__decorate([m.subclass("esri.views.2d.MapViewConstraints")],f)})},"esri/views/2d/constraints/GeometryConstraint":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/Logger ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../geometry/projection ../../../geometry/support/contains ../../../geometry/support/near ../../../geometry/support/webMercatorUtils".split(" "),
function(h,c,p,f,q,z,B,H,F,m,k,n,v,e){var d;const b=q.getLogger("esri.views.MapView");h.GeometryConstraint=d=function(t){function C(l){l=t.call(this,l)||this;l.geometry=null;l.spatialReference=null;return l}c._inheritsLoose(C,t);var w=C.prototype;w.constrain=function(l,r){if(!this.normalizedGeometry)return l;r=l.targetGeometry;if("extent"===this.normalizedGeometry.type?n.extentContainsPoint(this.normalizedGeometry,r):n.polygonContainsPoint(this.normalizedGeometry,r))return l;({coordinate:r}=v.nearestCoordinate(this.normalizedGeometry,
r));if(!r)return l;l.targetGeometry=r;return l};w.clone=function(){var l,r;return new d({geometry:null==(l=this.geometry)?void 0:l.clone(),spatialReference:null==(r=this.spatialReference)?void 0:r.clone()})};c._createClass(C,[{key:"normalizedGeometry",get:function(){if(!this.geometry||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference)){if(e.canProject(this.geometry,this.spatialReference))return e.project(this.geometry,this.spatialReference);if(k.isLoaded())return k.project(this.geometry,
this.spatialReference);b.error("#constraints.geometry","unsupported coordinate system. The source geometry cannot be projected to the view's coordinate system. The projection engine cannot be loaded.",{geometry:this.geometry});return null}return this.geometry}}]);return C}(f);p.__decorate([z.property({constructOnly:!0})],h.GeometryConstraint.prototype,"geometry",void 0);p.__decorate([z.property({readOnly:!0})],h.GeometryConstraint.prototype,"normalizedGeometry",null);p.__decorate([z.property({constructOnly:!0})],
h.GeometryConstraint.prototype,"spatialReference",void 0);h.GeometryConstraint=d=p.__decorate([m.subclass("esri.views.2d.constraints.GeometryConstraint")],h.GeometryConstraint);Object.defineProperty(h,"__esModule",{value:!0})})},"esri/geometry/projection":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../core/Error ../core/mathUtils ../core/maybe ../core/promiseUtils ../core/unitUtils ../chunks/mat4 ../chunks/vec3 ../chunks/vec3f64 ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./projectionEllipsoid ./support/aaBoundingRect ./support/Ellipsoid ./support/geodesicConstants ./support/GeographicTransformation ./support/spatialReferenceUtils".split(" "),
function(h,c,p,f,q,z,B,H,F,m,k,n,v,e,d,b,t,C,w,l,r,u,A){function x(){return!!va&&e.isLoaded()}function E(L){z.isNone(Ba)&&(Ba=Promise.all([e.load(),(new Promise(function(P,O){h(["../chunks/geometryEngineBase"],P,O)})).then(function(P){return P.geometryEngineBase}),new Promise(function(P,O){h(["./geometryAdapters/hydrated"],P,O)})]));return Ba.then(([,P,{hydratedAdapter:O}])=>{B.throwIfAborted(L);Aa=O;va=P.default;va._enableProjection(e.pe)})}function S(L,P,O,X,ma=null){if(z.isNone(O)||z.isNone(X))return P;
if(da(O,X,ma))return P.map(pa=>ba(pa,O,X));if(z.isNone(ma)){const pa=u.cacheKey(O,X);void 0!==Ca[pa]?ma=Ca[pa]:(ma=aa(O,X,null),z.isNone(ma)&&(ma=new u),Ca[pa]=ma)}if(z.isNone(va))throw new Na;return va._project(L,P,O,X,ma)}function aa(L,P,O=null){if(z.isNone(va))throw new Na;if(z.isNone(L)||z.isNone(P))return null;L=va._getTransformation(Aa,L,P,O,null==O?void 0:O.spatialReference);return null!==L?u.fromGE(L):null}function da(L,P,O){return O?!1:A.equals(L,P)?!0:A.isValid(L)&&A.isValid(P)&&!!ra(L,
P,Oa)}function ja(){ja=p._asyncToGenerator(function*(L,P,O,X){if(!x())if(Array.isArray(L))for(const {source:ma,dest:pa,geographicTransformation:ya}of L){if(!da(ma,pa,ya))return E(X)}else if(!da(L,P,O))return E(X)});return ja.apply(this,arguments)}function ba(L,P,O){if(!L)return L;if("x"in L){var X=new d;return ea(L,P,X,O)?X:null}return"xmin"in L?(X=new n,I(L,P,X,O)?X:null):"rings"in L?(X=new b,D(L,P,X,O)?X:null):"paths"in L?(X=new t,wa(L,P,X,O)?X:null):"points"in L?(X=new v,oa(L,P,X,O)?X:null):null}
function ea(L,P,O,X,ma=0){Da[0]=L.x;Da[1]=L.y;const pa=L.z;Da[2]=void 0!==pa?pa:ma;if(!W(Da,P,0,Da,X,0,1))return!1;O.x=Da[0];O.y=Da[1];O.spatialReference=X;void 0===pa?(O.z=void 0,O.hasZ=!1):(O.z=Da[2],O.hasZ=!0);void 0===L.m?(O.m=void 0,O.hasM=!1):(O.m=L.m,O.hasM=!0);return!0}function oa(L,P,O,X,ma=0){const {points:pa,hasZ:ya,hasM:za}=L;L=[];const Ka=pa.length,Ia=[];for(var Ha of pa)Ia.push(Ha[0],Ha[1],ya?Ha[2]:ma);if(!W(Ia,P,0,Ia,X,0,Ka))return!1;for(P=0;P<Ka;++P){ma=3*P;Ha=Ia[ma];const Pa=Ia[ma+
1];ya&&za?L.push([Ha,Pa,Ia[ma+2],pa[P][3]]):ya?L.push([Ha,Pa,Ia[ma+2]]):za?L.push([Ha,Pa,pa[P][2]]):L.push([Ha,Pa])}O.points=L;O.spatialReference=X;O.hasZ=ya;O.hasM=za;return!0}function wa(L,P,O,X,ma=0){const {paths:pa,hasZ:ya,hasM:za}=L;L=[];if(!J(pa,ya,za,P,L,X,ma))return!1;O.paths=L;O.spatialReference=X;O.hasZ=ya;O.hasM=za;return!0}function D(L,P,O,X,ma=0){const {rings:pa,hasZ:ya,hasM:za}=L;L=[];if(!J(pa,ya,za,P,L,X,ma))return!1;O.rings=L;O.spatialReference=X;O.hasZ=ya;O.hasM=za;return!0}function I(L,
P,O,X,ma=0){const {xmin:pa,ymin:ya,xmax:za,ymax:Ka,hasZ:Ia,hasM:Ha}=L;if(!Z(pa,ya,Ia?L.zmin:ma,P,Da,X))return!1;O.xmin=Da[0];O.ymin=Da[1];Ia&&(O.zmin=Da[2]);if(!Z(za,Ka,Ia?L.zmax:ma,P,Da,X))return!1;O.xmax=Da[0];O.ymax=Da[1];Ia&&(O.zmax=Da[2]);Ha&&(O.mmin=L.mmin,O.mmax=L.mmax);O.spatialReference=X;return!0}function Z(L,P,O,X,ma,pa){Fa[0]=L;Fa[1]=P;Fa[2]=O;return W(Fa,X,0,ma,pa,0,1)}function M(L,P,O,X){if(z.isNone(P)||z.isNone(X)||2>L.length)return!1;2===L.length&&(Fa[0]=L[0],Fa[1]=L[1],Fa[2]=0,L=
Fa);return W(L,P,0,O,X,0,1)}function U(L,P,O){if(z.isNone(P))return!1;P=fa(P,Ma);P=La[P][6];if(z.isNone(P))return!1;P(L,0,Fa,0);O!==Fa&&(O[0]=Fa[0],O[1]=Fa[1],2<O.length&&(O[2]=Fa[2]));return!0}function W(L,P,O,X,ma,pa,ya=1){P=ra(P,ma,Oa);if(z.isNone(P))return!1;if(P===ha){if(L===X&&O===pa)return!0;ya=O+3*ya;for(let za=O,Ka=pa;za<ya;za++,Ka++)X[Ka]=L[za];return!0}ya=O+3*ya;for(let za=O,Ka=pa;za<ya;za+=3,Ka+=3)P(L,za,X,Ka);return!0}function J(L,P,O,X,ma,pa,ya=0){const za=[];for(const Ka of L)for(const Ia of Ka)za.push(Ia[0],
Ia[1],P?Ia[2]:ya);if(!W(za,X,0,za,pa,0,za.length/3))return!1;X=0;ma.length=0;for(const Ka of L){L=[];for(const Ia of Ka)P&&O?L.push([za[X++],za[X++],za[X++],Ia[3]]):P?L.push([za[X++],za[X++],za[X++]]):(O?L.push([za[X++],za[X++],Ia[2]]):L.push([za[X++],za[X++]]),X++);ma.push(L)}return!0}function V(L,P,O){const X=Math.sin(P);P=Math.cos(P);const ma=Math.sin(L);L=Math.cos(L);O[0]=-X;O[4]=-ma*P;O[8]=L*P;O[12]=0;O[1]=P;O[5]=-ma*X;O[9]=L*X;O[13]=0;O[2]=0;O[6]=L;O[10]=ma;O[14]=0;O[3]=0;O[7]=0;O[11]=0;O[15]=
1;return O}function fa(L,P){if(P.spatialReference===L)return P.spatialReferenceId;P.spatialReference=L;"metersPerUnit"in P&&(P.metersPerUnit=H.getMetersPerUnitForSR(L,1));return L.wkt===C.SphericalECEFSpatialReference.wkt?P.spatialReferenceId=1:A.isWGS84(L)?P.spatialReferenceId=2:A.isWebMercator(L)?P.spatialReferenceId=3:L.wkt===C.WGS84ECEFSpatialReference.wkt?P.spatialReferenceId=4:4490===L.wkid?P.spatialReferenceId=5:L.wkt===C.SphericalPCPFMars.wkt?P.spatialReferenceId=7:L.wkt===C.SphericalPCPFMoon.wkt?
P.spatialReferenceId=9:A.isMars(L)?P.spatialReferenceId=8:A.isMoon(L)?P.spatialReferenceId=10:P.spatialReferenceId=0}function ha(L,P,O,X){L!==O&&(O[X++]=L[P++],O[X++]=L[P++],O[X]=L[P])}function na(L,P,O,X){O[X++]=Ga*(L[P++]/l.earth.radius);O[X++]=Ga*(Math.PI/2-2*Math.atan(Math.exp(-1*L[P++]/l.earth.radius)));O[X]=L[P]}function ua(L,P,O,X){na(L,P,O,X);y(O,X,O,X)}function xa(L,P,O,X){na(L,P,O,X);ia(O,X,O,X)}function sa(L,P,O,X,ma){var pa=.4999999*Math.PI;pa=q.clamp(Ja*L[P+1],-pa,pa);pa=Math.sin(pa);
O[X++]=Ja*L[P]*ma.radius;O[X++]=ma.halfSemiMajorAxis*Math.log((1+pa)/(1-pa));O[X]=L[P+2]}function a(L,P,O,X){sa(L,P,O,X,l.earth)}function g(L,P,O,X,ma){ma+=L[P+2];const pa=Ja*L[P+1];L=Ja*L[P];P=Math.cos(pa);O[X++]=Math.cos(L)*P*ma;O[X++]=Math.sin(L)*P*ma;O[X]=Math.sin(pa)*ma}function K(L,P,O,X){g(L,P,O,X,l.moon.radius)}function Q(L,P,O,X){g(L,P,O,X,l.mars.radius)}function y(L,P,O,X){g(L,P,O,X,l.earth.radius)}function G(L,P,O,X,ma){var pa=L[P];const ya=L[P+1];P=L[P+2];L=Math.sqrt(pa*pa+ya*ya+P*P);
P=q.asinClamped(P/(0===L?1:L));pa=Math.atan2(ya,pa);O[X++]=Ga*pa;O[X++]=Ga*P;O[X]=L-ma}function N(L,P,O,X){G(L,P,O,X,l.moon.radius)}function R(L,P,O,X){G(L,P,O,X,l.mars.radius)}function T(L,P,O,X){G(L,P,O,X,l.earth.radius)}function Y(L,P,O,X){T(L,P,O,X);a(O,X,O,X)}function ca(L,P,O,X){T(L,P,O,X);ia(O,X,O,X)}function ia(L,P,O,X){{var ma=l.earth;const ya=Ja*L[P];var pa=Ja*L[P+1];L=L[P+2];P=Math.sin(pa);pa=Math.cos(pa);const za=ma.radius/Math.sqrt(1-ma.eccentricitySquared*P*P);O[X++]=(za+L)*pa*Math.cos(ya);
O[X++]=(za+L)*pa*Math.sin(ya);O[X++]=(za*(1-ma.eccentricitySquared)+L)*P}}function ka(L,P,O,X){var ma=r.earthEllipsoidConstants,pa=L[P],ya=L[P+1];L=L[P+2];let za;P=Math.abs(L);var Ka=pa*pa+ya*ya;var Ia=Math.sqrt(Ka);var Ha=Ka+L*L;var Pa=Math.sqrt(Ha);pa=Math.atan2(ya,pa);var Ta=L*L/Ha;Ha=Ka/Ha;ya=ma.a2/Pa;Ka=ma.a3-ma.a4/Pa;.3<Ha?(Ta=P/Pa*(1+Ha*(ma.a1+ya+Ta*Ka)/Pa),Pa=Math.asin(Ta),ya=Ta*Ta,Ha=Math.sqrt(1-ya)):(Ha=Ia/Pa*(1-Ta*(ma.a5-ya-Ha*Ka)/Pa),Pa=Math.acos(Ha),ya=1-Ha*Ha,Ta=Math.sqrt(ya));za=1-
l.earth.eccentricitySquared*ya;ya=l.earth.radius/Math.sqrt(za);ma=ma.a6*ya;ya=Ia-ya*Ha;Ka=P-ma*Ta;P=Ha*ya+Ta*Ka;Ia=Ha*Ka-Ta*ya;ma=Ia/(ma/za+P);Pa+=ma;0>L&&(Pa=-Pa);O[X++]=Ga*pa;O[X++]=Ga*Pa;O[X]=P+Ia*ma/2}function la(L,P,O,X){ka(L,P,O,X);y(O,X,O,X)}function qa(L,P,O,X){ka(L,P,O,X);a(O,X,O,X)}function ra(L,P,O=Ea()){return z.isNone(L)||z.isNone(P)?null:ta(L,P,O).projector}function ta(L,P,O){if(z.isNone(L)||z.isNone(P)||O.source.spatialReference===L&&O.dest.spatialReference===P)return O;const X=fa(L,
O.source),ma=fa(P,O.dest);0===X&&0===ma?A.equals(L,P)?O.projector=ha:O.projector=null:O.projector=La[X][ma];return O}function Ea(){return{source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:ha}}let va=null,Aa=null,Ba=null,Ca={},Na=function(L){function P(){return L.call(this,"projection:not-loaded","projection engine not fully loaded yet, please call load()")||this}p._inheritsLoose(P,L);return P}(f);const La=
{[2]:{[5]:null,[8]:null,[10]:null,[11]:ha,[6]:ha,[1]:y,[7]:null,[9]:null,[0]:null,[3]:a,[2]:ha,[4]:ia},[5]:{[5]:ha,[8]:null,[10]:null,[11]:ha,[6]:ha,[1]:y,[7]:null,[9]:null,[0]:null,[3]:null,[2]:null,[4]:ia},[8]:{[5]:null,[8]:ha,[10]:null,[11]:ha,[6]:null,[1]:null,[7]:Q,[9]:null,[0]:null,[3]:null,[2]:null,[4]:null},[10]:{[5]:null,[8]:null,[10]:ha,[11]:ha,[6]:null,[1]:null,[7]:null,[9]:K,[0]:null,[3]:null,[2]:null,[4]:null},[3]:{[5]:null,[8]:null,[10]:null,[11]:na,[6]:na,[1]:ua,[7]:null,[9]:null,[0]:null,
[3]:ha,[2]:na,[4]:xa},[4]:{[5]:ka,[8]:null,[10]:null,[11]:ka,[6]:ka,[1]:la,[7]:null,[9]:null,[0]:null,[3]:qa,[2]:ka,[4]:ha},[1]:{[5]:T,[8]:null,[10]:null,[11]:T,[6]:T,[1]:ha,[7]:null,[9]:null,[0]:null,[3]:Y,[2]:T,[4]:ca},[7]:{[5]:null,[8]:R,[10]:null,[11]:R,[6]:null,[1]:null,[7]:ha,[9]:null,[0]:null,[3]:null,[2]:null,[4]:null},[9]:{[5]:null,[8]:null,[10]:N,[11]:N,[6]:null,[1]:null,[7]:null,[9]:ha,[0]:null,[3]:null,[2]:null,[4]:null},[0]:{[5]:null,[8]:null,[10]:null,[11]:null,[6]:null,[1]:null,[7]:null,
[9]:null,[0]:ha,[3]:null,[2]:null,[4]:null},[11]:{[5]:ha,[8]:ha,[10]:ha,[11]:ha,[6]:ha,[1]:y,[7]:Q,[9]:K,[0]:null,[3]:a,[2]:ha,[4]:ia},[6]:{[5]:null,[8]:null,[10]:null,[11]:ha,[6]:ha,[1]:y,[7]:null,[9]:null,[0]:null,[3]:null,[2]:ha,[4]:ia}},Ma={spatialReference:null,spatialReferenceId:0},Qa={spatialReference:null,spatialReferenceId:0},Oa=Ea(),Ra=Ea(),Ja=q.deg2rad(1),Ga=q.rad2deg(1),Fa=k.create(),Sa=k.create(),Ua=k.create(),Da=k.create(),Va=k.create();c.canProjectToWGS84ComparableLonLat=function(L){if(z.isNone(L))return!1;
L=fa(L,Ma);return!!La[L][6]};c.canProjectWithoutEngine=da;c.computeLatLonToENURotation=V;c.computeLinearTransformation=function(L,P,O,X){if(z.isNone(L)||z.isNone(X))return!1;var ma=fa(L,Ma),pa=fa(X,Qa);if(ma===pa&&1!==pa&&7!==pa&&9!==pa&&(0!==ma||A.equals(L,X)))return F.identity(O),F.translate(O,O,P),!0;if(1===pa||7===pa||9===pa){X=L=0;ma=La[ma][11];pa=La[11][pa];if(z.isNone(ma)||z.isNone(pa))return!1;ma(P,0,Sa,0);pa(Sa,0,Ua,0);L=Ja*Sa[0];X=Ja*Sa[1];V(X,L,O);O[12]=Ua[0];O[13]=Ua[1];O[14]=Ua[2];return!0}if(3===
pa&&(2===ma||1===ma)){pa=La[ma][11];if(z.isNone(pa))return!1;pa(P,0,Sa,0);P=Ja*Sa[1];a(Sa,0,Ua,0);F.identity(O);F.translate(O,O,Ua);P=1/Math.cos(P);F.scale(O,O,[P,P,1]);return!0}return!1};c.getProjectorName=function(L,P){switch(ra(L,P,Oa)){case ha:return"copy3";case y:return"wgs84ToSphericalECEF";case a:return"wgs84ToWebMercator";case ia:return"wgs84ToWGS84ECEF";case na:return"webMercatorToWGS84";case ua:return"webMercatorToSphericalECEF";case xa:return"webMercatorToWGS84ECEF";case ka:return"wgs84ECEFToWGS84";
case la:return"wgs84ECEFToSphericalECEF";case qa:return"wgs84ECEFToWebMercator";case T:return"sphericalECEFToWGS84";case Y:return"sphericalECEFToWebMercator";case R:return"sphericalMarsPCPFToMars2000";case N:return"sphericalMoonPCPFToMoon2000";case ca:return"sphericalECEFToWGS84ECEF";case Q:return"mars2000ToSphericalPCPF";case K:return"moon2000ToSphericalPCPF";default:return null}};c.getTransformation=aa;c.getTransformations=function(L,P,O=null){if(z.isNone(va))throw new Na;L=va._getTransformationBySuitability(Aa,
L,P,O,null==O?void 0:O.spatialReference);if(null!==L){P=[];for(const X of L)P.push(u.fromGE(X));return P}return[]};c.initializeProjection=function(L,P,O,X){return ja.apply(this,arguments)};c.isLoaded=x;c.isSupported=function(){return!0};c.load=E;c.localLinearScaleFactors=function(L,P,O,X){if(z.isNone(P)||z.isNone(X))return!1;const ma=fa(P,Ma);var pa=fa(X,Qa);if(ma===pa&&0!==ma||A.equals(P,X))return O[0]=1,O[1]=1,O[2]=1,!0;if(1===ma){P=m.length(L);L=P/Math.sqrt(L[0]*L[0]+L[1]*L[1]);P/=l.earth.radius;
if(3===pa)return O[0]=L*P,O[1]=L*P,O[2]=1,!0;if(2===pa||5===pa)return pa=180/(l.earth.radius*Math.PI),O[0]=pa*L*P,O[1]=pa*P,O[2]=1,!0}return!1};c.lonLatToSphericalPCPF=function(L,P,O,X,ma=0){X+=ma;ma=Math.cos(O);L[0]=Math.cos(P)*ma*X;L[1]=Math.sin(P)*ma*X;L[2]=Math.sin(O)*X};c.lonLatToWebMercatorComparable=sa;c.project=function(L,P,O=null){return Array.isArray(L)?0===L.length?[]:S(Aa,L,L[0].spatialReference,P,O):S(Aa,[L],L.spatialReference,P,O)[0]};c.projectBoundingRect=function(L,P,O,X){if(null==
L)return!1;if(A.equals(P,X))return w.set(O,L),!0;Fa[0]=L[0];Fa[1]=L[1];Fa[2]=0;if(!W(Fa,P,0,Fa,X,0,1))return!1;O[0]=Fa[0];O[1]=Fa[1];Fa[0]=L[2];Fa[1]=L[3];Fa[2]=0;if(!W(Fa,P,0,Fa,X,0,1))return!1;O[2]=Fa[0];O[3]=Fa[1];return!0};c.projectBoundingSphere=function(L,P,O,X){if(z.isNone(P)||z.isNone(X))return!1;P=ta(P,X,Ra);if(P.projector===ha)return O[0]=L[0],O[1]=L[1],O[2]=L[2],O[3]=L[3],!0;if(z.isNone(P.projector))return!1;const {source:ma,dest:pa}=P;if(3===pa.spatialReferenceId){P=La[ma.spatialReferenceId][2];
if(z.isNone(P))return!1;P(L,0,Sa,0);P=Math.abs(Ja*Sa[1])+Math.asin(L[3]/(l.earth.radius+L[2]));a(Sa,0,O,0);O[3]=P>.9999*Math.PI?Number.MAX_VALUE:1/Math.cos(P)*L[3];return!0}P.projector(L,0,O,0);O[3]=L[3]*ma.metersPerUnit/pa.metersPerUnit;return!0};c.projectBuffer=W;c.projectDirection=function(L,P,O,X,ma){m.copy(Da,L);m.add(Va,L,P);M(Da,O,Da,ma);M(Va,O,Va,ma);m.subtract(X,Va,Da);m.normalize(X,X)};c.projectExtent=function(L,P,O=P.spatialReference,X=0){return z.isNone(O)?!1:I(L,L.spatialReference,P,
O,X)};c.projectMany=S;c.projectMultipoint=function(L,P,O=P.spatialReference,X=0){return z.isNone(O)?!1:oa(L,L.spatialReference,P,O,X)};c.projectPoint=function(L,P,O=P.spatialReference,X=0){return z.isNone(O)?!1:ea(L,L.spatialReference,P,O,X)};c.projectPointToVector=function(L,P,O,X=0){Da[0]=L.x;Da[1]=L.y;const ma=L.z;Da[2]=void 0!==ma?ma:X;return W(Da,L.spatialReference,0,P,O,0,1)};c.projectPointToWGS84ComparableLonLat=function(L,P){Da[0]=L.x;Da[1]=L.y;const O=L.z;Da[2]=void 0!==O?O:0;return U(Da,
L.spatialReference,P)};c.projectPolygon=function(L,P,O=P.spatialReference,X=0){return z.isNone(O)?!1:D(L,L.spatialReference,P,O,X)};c.projectPolyline=function(L,P,O=P.spatialReference,X=0){return z.isNone(O)?!1:wa(L,L.spatialReference,P,O,X)};c.projectVectorToDehydratedPoint=function(L,P,O){return W(L,P,0,Da,O.spatialReference,0,1)?(O.x=Da[0],O.y=Da[1],O.z=Da[2],O):null};c.projectVectorToPoint=function(L,P,O){if(z.isNone(P)||z.isNone(O))return null;const X=new d({spatialReference:O});return W(L,P,
0,Da,O,0,1)?(X.x=Da[0],X.y=Da[1],X.z=Da[2],X):null};c.projectVectorToVector=M;c.projectVectorToWGS84ComparableLonLat=function(L,P,O){return U(L,P,O)};c.projectXYZToVector=Z;c.sphericalPCPFtoLonLatElevation=G;c.unload=function(){Ba=Aa=va=null;Ca={}};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],function(h,c,p){function f(a,g){a[0]=g[0];a[1]=g[1];a[2]=g[2];a[3]=g[3];a[4]=g[4];a[5]=g[5];a[6]=g[6];a[7]=g[7];a[8]=g[8];a[9]=g[9];
a[10]=g[10];a[11]=g[11];a[12]=g[12];a[13]=g[13];a[14]=g[14];a[15]=g[15];return a}function q(a,g,K,Q,y,G,N,R,T,Y,ca,ia,ka,la,qa,ra,ta){a[0]=g;a[1]=K;a[2]=Q;a[3]=y;a[4]=G;a[5]=N;a[6]=R;a[7]=T;a[8]=Y;a[9]=ca;a[10]=ia;a[11]=ka;a[12]=la;a[13]=qa;a[14]=ra;a[15]=ta;return a}function z(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function B(a,g){if(a===g){const K=g[1],Q=g[2],y=g[3],G=g[6],N=g[7],R=g[11];a[1]=g[4];a[2]=g[8];
a[3]=g[12];a[4]=K;a[6]=g[9];a[7]=g[13];a[8]=Q;a[9]=G;a[11]=g[14];a[12]=y;a[13]=N;a[14]=R}else a[0]=g[0],a[1]=g[4],a[2]=g[8],a[3]=g[12],a[4]=g[1],a[5]=g[5],a[6]=g[9],a[7]=g[13],a[8]=g[2],a[9]=g[6],a[10]=g[10],a[11]=g[14],a[12]=g[3],a[13]=g[7],a[14]=g[11],a[15]=g[15];return a}function H(a,g){const K=g[0],Q=g[1],y=g[2],G=g[3],N=g[4],R=g[5],T=g[6],Y=g[7],ca=g[8],ia=g[9],ka=g[10],la=g[11],qa=g[12],ra=g[13],ta=g[14];g=g[15];const Ea=K*R-Q*N,va=K*T-y*N,Aa=K*Y-G*N,Ba=Q*T-y*R,Ca=Q*Y-G*R,Na=y*Y-G*T,La=ca*ra-
ia*qa,Ma=ca*ta-ka*qa,Qa=ca*g-la*qa,Oa=ia*ta-ka*ra,Ra=ia*g-la*ra,Ja=ka*g-la*ta;let Ga=Ea*Ja-va*Ra+Aa*Oa+Ba*Qa-Ca*Ma+Na*La;if(!Ga)return null;Ga=1/Ga;a[0]=(R*Ja-T*Ra+Y*Oa)*Ga;a[1]=(y*Ra-Q*Ja-G*Oa)*Ga;a[2]=(ra*Na-ta*Ca+g*Ba)*Ga;a[3]=(ka*Ca-ia*Na-la*Ba)*Ga;a[4]=(T*Qa-N*Ja-Y*Ma)*Ga;a[5]=(K*Ja-y*Qa+G*Ma)*Ga;a[6]=(ta*Aa-qa*Na-g*va)*Ga;a[7]=(ca*Na-ka*Aa+la*va)*Ga;a[8]=(N*Ra-R*Qa+Y*La)*Ga;a[9]=(Q*Qa-K*Ra-G*La)*Ga;a[10]=(qa*Ca-ra*Aa+g*Ea)*Ga;a[11]=(ia*Aa-ca*Ca-la*Ea)*Ga;a[12]=(R*Ma-N*Oa-T*La)*Ga;a[13]=(K*Oa-
Q*Ma+y*La)*Ga;a[14]=(ra*va-qa*Ba-ta*Ea)*Ga;a[15]=(ca*Ba-ia*va+ka*Ea)*Ga;return a}function F(a,g){const K=g[0],Q=g[1],y=g[2],G=g[3],N=g[4],R=g[5],T=g[6],Y=g[7],ca=g[8],ia=g[9],ka=g[10],la=g[11],qa=g[12],ra=g[13],ta=g[14];g=g[15];a[0]=R*(ka*g-la*ta)-ia*(T*g-Y*ta)+ra*(T*la-Y*ka);a[1]=-(Q*(ka*g-la*ta)-ia*(y*g-G*ta)+ra*(y*la-G*ka));a[2]=Q*(T*g-Y*ta)-R*(y*g-G*ta)+ra*(y*Y-G*T);a[3]=-(Q*(T*la-Y*ka)-R*(y*la-G*ka)+ia*(y*Y-G*T));a[4]=-(N*(ka*g-la*ta)-ca*(T*g-Y*ta)+qa*(T*la-Y*ka));a[5]=K*(ka*g-la*ta)-ca*(y*g-
G*ta)+qa*(y*la-G*ka);a[6]=-(K*(T*g-Y*ta)-N*(y*g-G*ta)+qa*(y*Y-G*T));a[7]=K*(T*la-Y*ka)-N*(y*la-G*ka)+ca*(y*Y-G*T);a[8]=N*(ia*g-la*ra)-ca*(R*g-Y*ra)+qa*(R*la-Y*ia);a[9]=-(K*(ia*g-la*ra)-ca*(Q*g-G*ra)+qa*(Q*la-G*ia));a[10]=K*(R*g-Y*ra)-N*(Q*g-G*ra)+qa*(Q*Y-G*R);a[11]=-(K*(R*la-Y*ia)-N*(Q*la-G*ia)+ca*(Q*Y-G*R));a[12]=-(N*(ia*ta-ka*ra)-ca*(R*ta-T*ra)+qa*(R*ka-T*ia));a[13]=K*(ia*ta-ka*ra)-ca*(Q*ta-y*ra)+qa*(Q*ka-y*ia);a[14]=-(K*(R*ta-T*ra)-N*(Q*ta-y*ra)+qa*(Q*T-y*R));a[15]=K*(R*ka-T*ia)-N*(Q*ka-y*ia)+
ca*(Q*T-y*R);return a}function m(a){const g=a[0],K=a[1],Q=a[2],y=a[3],G=a[4],N=a[5],R=a[6],T=a[7],Y=a[8],ca=a[9],ia=a[10],ka=a[11],la=a[12],qa=a[13],ra=a[14];a=a[15];return(g*N-K*G)*(ia*a-ka*ra)-(g*R-Q*G)*(ca*a-ka*qa)+(g*T-y*G)*(ca*ra-ia*qa)+(K*R-Q*N)*(Y*a-ka*la)-(K*T-y*N)*(Y*ra-ia*la)+(Q*T-y*R)*(Y*qa-ca*la)}function k(a,g,K){const Q=g[0],y=g[1],G=g[2],N=g[3],R=g[4],T=g[5],Y=g[6],ca=g[7],ia=g[8],ka=g[9],la=g[10],qa=g[11],ra=g[12],ta=g[13],Ea=g[14];g=g[15];let va=K[0],Aa=K[1],Ba=K[2],Ca=K[3];a[0]=
va*Q+Aa*R+Ba*ia+Ca*ra;a[1]=va*y+Aa*T+Ba*ka+Ca*ta;a[2]=va*G+Aa*Y+Ba*la+Ca*Ea;a[3]=va*N+Aa*ca+Ba*qa+Ca*g;va=K[4];Aa=K[5];Ba=K[6];Ca=K[7];a[4]=va*Q+Aa*R+Ba*ia+Ca*ra;a[5]=va*y+Aa*T+Ba*ka+Ca*ta;a[6]=va*G+Aa*Y+Ba*la+Ca*Ea;a[7]=va*N+Aa*ca+Ba*qa+Ca*g;va=K[8];Aa=K[9];Ba=K[10];Ca=K[11];a[8]=va*Q+Aa*R+Ba*ia+Ca*ra;a[9]=va*y+Aa*T+Ba*ka+Ca*ta;a[10]=va*G+Aa*Y+Ba*la+Ca*Ea;a[11]=va*N+Aa*ca+Ba*qa+Ca*g;va=K[12];Aa=K[13];Ba=K[14];Ca=K[15];a[12]=va*Q+Aa*R+Ba*ia+Ca*ra;a[13]=va*y+Aa*T+Ba*ka+Ca*ta;a[14]=va*G+Aa*Y+Ba*la+
Ca*Ea;a[15]=va*N+Aa*ca+Ba*qa+Ca*g;return a}function n(a,g,K){const Q=K[0],y=K[1];K=K[2];let G=void 0,N=void 0,R=void 0,T=void 0,Y=void 0,ca=void 0,ia=void 0,ka=void 0,la=void 0,qa=void 0,ra=void 0,ta=void 0;g===a?(a[12]=g[0]*Q+g[4]*y+g[8]*K+g[12],a[13]=g[1]*Q+g[5]*y+g[9]*K+g[13],a[14]=g[2]*Q+g[6]*y+g[10]*K+g[14],a[15]=g[3]*Q+g[7]*y+g[11]*K+g[15]):(G=g[0],N=g[1],R=g[2],T=g[3],Y=g[4],ca=g[5],ia=g[6],ka=g[7],la=g[8],qa=g[9],ra=g[10],ta=g[11],a[0]=G,a[1]=N,a[2]=R,a[3]=T,a[4]=Y,a[5]=ca,a[6]=ia,a[7]=ka,
a[8]=la,a[9]=qa,a[10]=ra,a[11]=ta,a[12]=G*Q+Y*y+la*K+g[12],a[13]=N*Q+ca*y+qa*K+g[13],a[14]=R*Q+ia*y+ra*K+g[14],a[15]=T*Q+ka*y+ta*K+g[15]);return a}function v(a,g,K){const Q=K[0],y=K[1];K=K[2];a[0]=g[0]*Q;a[1]=g[1]*Q;a[2]=g[2]*Q;a[3]=g[3]*Q;a[4]=g[4]*y;a[5]=g[5]*y;a[6]=g[6]*y;a[7]=g[7]*y;a[8]=g[8]*K;a[9]=g[9]*K;a[10]=g[10]*K;a[11]=g[11]*K;a[12]=g[12];a[13]=g[13];a[14]=g[14];a[15]=g[15];return a}function e(a,g,K,Q){let y=Q[0],G=Q[1];Q=Q[2];let N=Math.sqrt(y*y+G*G+Q*Q);var R=void 0,T=void 0;let Y=void 0,
ca=void 0,ia=void 0,ka=void 0,la=void 0,qa=void 0,ra=void 0,ta=void 0,Ea=void 0,va=void 0,Aa=void 0,Ba=void 0,Ca=void 0,Na=void 0,La=void 0,Ma=void 0,Qa=void 0,Oa=void 0,Ra=void 0,Ja=void 0;T=R=void 0;if(N<p.EPSILON)return null;N=1/N;y*=N;G*=N;Q*=N;R=Math.sin(K);T=Math.cos(K);Y=1-T;ca=g[0];ia=g[1];ka=g[2];la=g[3];qa=g[4];ra=g[5];ta=g[6];Ea=g[7];va=g[8];Aa=g[9];Ba=g[10];Ca=g[11];Na=y*y*Y+T;La=G*y*Y+Q*R;Ma=Q*y*Y-G*R;Qa=y*G*Y-Q*R;Oa=G*G*Y+T;Ra=Q*G*Y+y*R;Ja=y*Q*Y+G*R;R=G*Q*Y-y*R;T=Q*Q*Y+T;a[0]=ca*Na+
qa*La+va*Ma;a[1]=ia*Na+ra*La+Aa*Ma;a[2]=ka*Na+ta*La+Ba*Ma;a[3]=la*Na+Ea*La+Ca*Ma;a[4]=ca*Qa+qa*Oa+va*Ra;a[5]=ia*Qa+ra*Oa+Aa*Ra;a[6]=ka*Qa+ta*Oa+Ba*Ra;a[7]=la*Qa+Ea*Oa+Ca*Ra;a[8]=ca*Ja+qa*R+va*T;a[9]=ia*Ja+ra*R+Aa*T;a[10]=ka*Ja+ta*R+Ba*T;a[11]=la*Ja+Ea*R+Ca*T;g!==a&&(a[12]=g[12],a[13]=g[13],a[14]=g[14],a[15]=g[15]);return a}function d(a,g,K){const Q=Math.sin(K);K=Math.cos(K);const y=g[4],G=g[5],N=g[6],R=g[7],T=g[8],Y=g[9],ca=g[10],ia=g[11];g!==a&&(a[0]=g[0],a[1]=g[1],a[2]=g[2],a[3]=g[3],a[12]=g[12],
a[13]=g[13],a[14]=g[14],a[15]=g[15]);a[4]=y*K+T*Q;a[5]=G*K+Y*Q;a[6]=N*K+ca*Q;a[7]=R*K+ia*Q;a[8]=T*K-y*Q;a[9]=Y*K-G*Q;a[10]=ca*K-N*Q;a[11]=ia*K-R*Q;return a}function b(a,g,K){const Q=Math.sin(K);K=Math.cos(K);const y=g[0],G=g[1],N=g[2],R=g[3],T=g[8],Y=g[9],ca=g[10],ia=g[11];g!==a&&(a[4]=g[4],a[5]=g[5],a[6]=g[6],a[7]=g[7],a[12]=g[12],a[13]=g[13],a[14]=g[14],a[15]=g[15]);a[0]=y*K-T*Q;a[1]=G*K-Y*Q;a[2]=N*K-ca*Q;a[3]=R*K-ia*Q;a[8]=y*Q+T*K;a[9]=G*Q+Y*K;a[10]=N*Q+ca*K;a[11]=R*Q+ia*K;return a}function t(a,
g,K){const Q=Math.sin(K);K=Math.cos(K);const y=g[0],G=g[1],N=g[2],R=g[3],T=g[4],Y=g[5],ca=g[6],ia=g[7];g!==a&&(a[8]=g[8],a[9]=g[9],a[10]=g[10],a[11]=g[11],a[12]=g[12],a[13]=g[13],a[14]=g[14],a[15]=g[15]);a[0]=y*K+T*Q;a[1]=G*K+Y*Q;a[2]=N*K+ca*Q;a[3]=R*K+ia*Q;a[4]=T*K-y*Q;a[5]=Y*K-G*Q;a[6]=ca*K-N*Q;a[7]=ia*K-R*Q;return a}function C(a,g){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=g[0];a[13]=g[1];a[14]=g[2];a[15]=1;return a}function w(a,g){a[0]=g[0];a[1]=
0;a[2]=0;a[3]=0;a[4]=0;a[5]=g[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=g[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function l(a,g,K){let Q=K[0],y=K[1];K=K[2];let G=Math.sqrt(Q*Q+y*y+K*K),N=void 0,R=void 0,T=void 0;if(G<p.EPSILON)return null;G=1/G;Q*=G;y*=G;K*=G;N=Math.sin(g);R=Math.cos(g);T=1-R;a[0]=Q*Q*T+R;a[1]=y*Q*T+K*N;a[2]=K*Q*T-y*N;a[3]=0;a[4]=Q*y*T-K*N;a[5]=y*y*T+R;a[6]=K*y*T+Q*N;a[7]=0;a[8]=Q*K*T+y*N;a[9]=y*K*T-Q*N;a[10]=K*K*T+R;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function r(a,
g){const K=Math.sin(g);g=Math.cos(g);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=g;a[6]=K;a[7]=0;a[8]=0;a[9]=-K;a[10]=g;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function u(a,g){const K=Math.sin(g);g=Math.cos(g);a[0]=g;a[1]=0;a[2]=-K;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=K;a[9]=0;a[10]=g;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function A(a,g){const K=Math.sin(g);g=Math.cos(g);a[0]=g;a[1]=K;a[2]=0;a[3]=0;a[4]=-K;a[5]=g;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=
0;a[15]=1;return a}function x(a,g,K){var Q=g[0],y=g[1],G=g[2],N=g[3],R=Q+Q,T=y+y;const Y=G+G;g=Q*R;const ca=Q*T;Q*=Y;const ia=y*T;y*=Y;G*=Y;R*=N;T*=N;N*=Y;a[0]=1-(ia+G);a[1]=ca+N;a[2]=Q-T;a[3]=0;a[4]=ca-N;a[5]=1-(g+G);a[6]=y+R;a[7]=0;a[8]=Q+T;a[9]=y-R;a[10]=1-(g+ia);a[11]=0;a[12]=K[0];a[13]=K[1];a[14]=K[2];a[15]=1;return a}function E(a,g){const K=sa,Q=-g[0],y=-g[1],G=-g[2],N=g[3],R=g[4],T=g[5],Y=g[6],ca=g[7],ia=Q*Q+y*y+G*G+N*N;0<ia?(K[0]=2*(R*N+ca*Q+T*G-Y*y)/ia,K[1]=2*(T*N+ca*y+Y*Q-R*G)/ia,K[2]=2*
(Y*N+ca*G+R*y-T*Q)/ia):(K[0]=2*(R*N+ca*Q+T*G-Y*y),K[1]=2*(T*N+ca*y+Y*Q-R*G),K[2]=2*(Y*N+ca*G+R*y-T*Q));x(a,g,K);return a}function S(a,g){a[0]=g[12];a[1]=g[13];a[2]=g[14];return a}function aa(a,g){const K=g[0],Q=g[1],y=g[2],G=g[4],N=g[5],R=g[6],T=g[8],Y=g[9];g=g[10];a[0]=Math.sqrt(K*K+Q*Q+y*y);a[1]=Math.sqrt(G*G+N*N+R*R);a[2]=Math.sqrt(T*T+Y*Y+g*g);return a}function da(a,g){const K=g[0]+g[5]+g[10];let Q=0;0<K?(Q=2*Math.sqrt(K+1),a[3]=.25*Q,a[0]=(g[6]-g[9])/Q,a[1]=(g[8]-g[2])/Q,a[2]=(g[1]-g[4])/Q):
g[0]>g[5]&&g[0]>g[10]?(Q=2*Math.sqrt(1+g[0]-g[5]-g[10]),a[3]=(g[6]-g[9])/Q,a[0]=.25*Q,a[1]=(g[1]+g[4])/Q,a[2]=(g[8]+g[2])/Q):g[5]>g[10]?(Q=2*Math.sqrt(1+g[5]-g[0]-g[10]),a[3]=(g[8]-g[2])/Q,a[0]=(g[1]+g[4])/Q,a[1]=.25*Q,a[2]=(g[6]+g[9])/Q):(Q=2*Math.sqrt(1+g[10]-g[0]-g[5]),a[3]=(g[1]-g[4])/Q,a[0]=(g[8]+g[2])/Q,a[1]=(g[6]+g[9])/Q,a[2]=.25*Q);return a}function ja(a,g,K,Q){var y=g[0],G=g[1],N=g[2],R=g[3],T=y+y,Y=G+G,ca=N+N;g=y*T;const ia=y*Y;y*=ca;const ka=G*Y;G*=ca;N*=ca;T*=R;Y*=R;R*=ca;ca=Q[0];const la=
Q[1];Q=Q[2];a[0]=(1-(ka+N))*ca;a[1]=(ia+R)*ca;a[2]=(y-Y)*ca;a[3]=0;a[4]=(ia-R)*la;a[5]=(1-(g+N))*la;a[6]=(G+T)*la;a[7]=0;a[8]=(y+Y)*Q;a[9]=(G-T)*Q;a[10]=(1-(g+ka))*Q;a[11]=0;a[12]=K[0];a[13]=K[1];a[14]=K[2];a[15]=1;return a}function ba(a,g,K,Q,y){var G=g[0],N=g[1],R=g[2],T=g[3],Y=G+G,ca=N+N,ia=R+R;g=G*Y;var ka=G*ca,la=G*ia;G=N*ca;N*=ia;var qa=R*ia;R=T*Y;ca*=T;const ra=T*ia;var ta=Q[0],Ea=Q[1];ia=Q[2];Q=y[0];T=y[1];y=y[2];Y=(1-(G+qa))*ta;const va=(ka+ra)*ta;ta*=la-ca;ka=(ka-ra)*Ea;qa=(1-(g+qa))*Ea;
Ea*=N+R;la=(la+ca)*ia;N=(N-R)*ia;g=(1-(g+G))*ia;a[0]=Y;a[1]=va;a[2]=ta;a[3]=0;a[4]=ka;a[5]=qa;a[6]=Ea;a[7]=0;a[8]=la;a[9]=N;a[10]=g;a[11]=0;a[12]=K[0]+Q-(Y*Q+ka*T+la*y);a[13]=K[1]+T-(va*Q+qa*T+N*y);a[14]=K[2]+y-(ta*Q+Ea*T+g*y);a[15]=1;return a}function ea(a,g){var K=g[0],Q=g[1],y=g[2];g=g[3];var G=K+K,N=Q+Q;const R=y+y;K*=G;const T=Q*G;Q*=N;const Y=y*G,ca=y*N;y*=R;G*=g;N*=g;g*=R;a[0]=1-Q-y;a[1]=T+g;a[2]=Y-N;a[3]=0;a[4]=T-g;a[5]=1-K-y;a[6]=ca+G;a[7]=0;a[8]=Y+N;a[9]=ca-G;a[10]=1-K-Q;a[11]=0;a[12]=0;
a[13]=0;a[14]=0;a[15]=1;return a}function oa(a,g,K,Q,y,G,N){const R=1/(K-g),T=1/(y-Q),Y=1/(G-N);a[0]=2*G*R;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*G*T;a[6]=0;a[7]=0;a[8]=(K+g)*R;a[9]=(y+Q)*T;a[10]=(N+G)*Y;a[11]=-1;a[12]=0;a[13]=0;a[14]=N*G*2*Y;a[15]=0;return a}function wa(a,g,K,Q,y){g=1/Math.tan(g/2);let G=void 0;a[0]=g/K;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=g;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=y&&Infinity!==y?(G=1/(Q-y),a[10]=(y+Q)*G,a[14]=2*y*Q*G):(a[10]=-1,a[14]=-2*Q);return a}
function D(a,g,K,Q){const y=Math.tan(g.upDegrees*Math.PI/180),G=Math.tan(g.downDegrees*Math.PI/180),N=Math.tan(g.leftDegrees*Math.PI/180);g=Math.tan(g.rightDegrees*Math.PI/180);const R=2/(N+g),T=2/(y+G);a[0]=R;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=T;a[6]=0;a[7]=0;a[8]=-((N-g)*R*.5);a[9]=(y-G)*T*.5;a[10]=Q/(K-Q);a[11]=-1;a[12]=0;a[13]=0;a[14]=Q*K/(K-Q);a[15]=0;return a}function I(a,g,K,Q,y,G,N){const R=1/(g-K),T=1/(Q-y),Y=1/(G-N);a[0]=-2*R;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*T;a[6]=0;a[7]=0;a[8]=0;a[9]=
0;a[10]=2*Y;a[11]=0;a[12]=(g+K)*R;a[13]=(y+Q)*T;a[14]=(N+G)*Y;a[15]=1;return a}function Z(a,g,K,Q){let y=void 0,G=void 0;var N=void 0,R=void 0;let T=void 0,Y=void 0;var ca=void 0,ia=void 0;let ka=void 0,la=void 0;const qa=g[0],ra=g[1];g=g[2];N=Q[0];R=Q[1];Q=Q[2];ca=K[0];ia=K[1];K=K[2];if(Math.abs(qa-ca)<p.EPSILON&&Math.abs(ra-ia)<p.EPSILON&&Math.abs(g-K)<p.EPSILON)return z(a);ca=qa-ca;ia=ra-ia;ka=g-K;la=1/Math.sqrt(ca*ca+ia*ia+ka*ka);ca*=la;ia*=la;ka*=la;y=R*ka-Q*ia;G=Q*ca-N*ka;N=N*ia-R*ca;(la=Math.sqrt(y*
y+G*G+N*N))?(la=1/la,y*=la,G*=la,N*=la):N=G=y=0;R=ia*N-ka*G;T=ka*y-ca*N;Y=ca*G-ia*y;(la=Math.sqrt(R*R+T*T+Y*Y))?(la=1/la,R*=la,T*=la,Y*=la):Y=T=R=0;a[0]=y;a[1]=R;a[2]=ca;a[3]=0;a[4]=G;a[5]=T;a[6]=ia;a[7]=0;a[8]=N;a[9]=Y;a[10]=ka;a[11]=0;a[12]=-(y*qa+G*ra+N*g);a[13]=-(R*qa+T*ra+Y*g);a[14]=-(ca*qa+ia*ra+ka*g);a[15]=1;return a}function M(a,g,K,Q){const y=g[0],G=g[1];g=g[2];var N=Q[0];const R=Q[1];var T=Q[2];Q=y-K[0];let Y=G-K[1];K=g-K[2];let ca=Q*Q+Y*Y+K*K;0<ca&&(ca=1/Math.sqrt(ca),Q*=ca,Y*=ca,K*=ca);
let ia=R*K-T*Y;T=T*Q-N*K;N=N*Y-R*Q;ca=ia*ia+T*T+N*N;0<ca&&(ca=1/Math.sqrt(ca),ia*=ca,T*=ca,N*=ca);a[0]=ia;a[1]=T;a[2]=N;a[3]=0;a[4]=Y*N-K*T;a[5]=K*ia-Q*N;a[6]=Q*T-Y*ia;a[7]=0;a[8]=Q;a[9]=Y;a[10]=K;a[11]=0;a[12]=y;a[13]=G;a[14]=g;a[15]=1;return a}function U(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function W(a){return Math.sqrt(a[0]**2+a[1]**2+a[2]**2+a[3]**2+
a[4]**2+a[5]**2+a[6]**2+a[7]**2+a[8]**2+a[9]**2+a[10]**2+a[11]**2+a[12]**2+a[13]**2+a[14]**2+a[15]**2)}function J(a,g,K){a[0]=g[0]+K[0];a[1]=g[1]+K[1];a[2]=g[2]+K[2];a[3]=g[3]+K[3];a[4]=g[4]+K[4];a[5]=g[5]+K[5];a[6]=g[6]+K[6];a[7]=g[7]+K[7];a[8]=g[8]+K[8];a[9]=g[9]+K[9];a[10]=g[10]+K[10];a[11]=g[11]+K[11];a[12]=g[12]+K[12];a[13]=g[13]+K[13];a[14]=g[14]+K[14];a[15]=g[15]+K[15];return a}function V(a,g,K){a[0]=g[0]-K[0];a[1]=g[1]-K[1];a[2]=g[2]-K[2];a[3]=g[3]-K[3];a[4]=g[4]-K[4];a[5]=g[5]-K[5];a[6]=
g[6]-K[6];a[7]=g[7]-K[7];a[8]=g[8]-K[8];a[9]=g[9]-K[9];a[10]=g[10]-K[10];a[11]=g[11]-K[11];a[12]=g[12]-K[12];a[13]=g[13]-K[13];a[14]=g[14]-K[14];a[15]=g[15]-K[15];return a}function fa(a,g,K){a[0]=g[0]*K;a[1]=g[1]*K;a[2]=g[2]*K;a[3]=g[3]*K;a[4]=g[4]*K;a[5]=g[5]*K;a[6]=g[6]*K;a[7]=g[7]*K;a[8]=g[8]*K;a[9]=g[9]*K;a[10]=g[10]*K;a[11]=g[11]*K;a[12]=g[12]*K;a[13]=g[13]*K;a[14]=g[14]*K;a[15]=g[15]*K;return a}function ha(a,g,K,Q){a[0]=g[0]+K[0]*Q;a[1]=g[1]+K[1]*Q;a[2]=g[2]+K[2]*Q;a[3]=g[3]+K[3]*Q;a[4]=g[4]+
K[4]*Q;a[5]=g[5]+K[5]*Q;a[6]=g[6]+K[6]*Q;a[7]=g[7]+K[7]*Q;a[8]=g[8]+K[8]*Q;a[9]=g[9]+K[9]*Q;a[10]=g[10]+K[10]*Q;a[11]=g[11]+K[11]*Q;a[12]=g[12]+K[12]*Q;a[13]=g[13]+K[13]*Q;a[14]=g[14]+K[14]*Q;a[15]=g[15]+K[15]*Q;return a}function na(a,g){return a[0]===g[0]&&a[1]===g[1]&&a[2]===g[2]&&a[3]===g[3]&&a[4]===g[4]&&a[5]===g[5]&&a[6]===g[6]&&a[7]===g[7]&&a[8]===g[8]&&a[9]===g[9]&&a[10]===g[10]&&a[11]===g[11]&&a[12]===g[12]&&a[13]===g[13]&&a[14]===g[14]&&a[15]===g[15]}function ua(a,g){const K=a[0],Q=a[1],
y=a[2],G=a[3],N=a[4],R=a[5],T=a[6],Y=a[7],ca=a[8],ia=a[9],ka=a[10],la=a[11],qa=a[12],ra=a[13],ta=a[14];a=a[15];const Ea=g[0],va=g[1],Aa=g[2],Ba=g[3],Ca=g[4],Na=g[5],La=g[6],Ma=g[7],Qa=g[8],Oa=g[9],Ra=g[10],Ja=g[11],Ga=g[12],Fa=g[13],Sa=g[14];g=g[15];return Math.abs(K-Ea)<=p.EPSILON*Math.max(1,Math.abs(K),Math.abs(Ea))&&Math.abs(Q-va)<=p.EPSILON*Math.max(1,Math.abs(Q),Math.abs(va))&&Math.abs(y-Aa)<=p.EPSILON*Math.max(1,Math.abs(y),Math.abs(Aa))&&Math.abs(G-Ba)<=p.EPSILON*Math.max(1,Math.abs(G),Math.abs(Ba))&&
Math.abs(N-Ca)<=p.EPSILON*Math.max(1,Math.abs(N),Math.abs(Ca))&&Math.abs(R-Na)<=p.EPSILON*Math.max(1,Math.abs(R),Math.abs(Na))&&Math.abs(T-La)<=p.EPSILON*Math.max(1,Math.abs(T),Math.abs(La))&&Math.abs(Y-Ma)<=p.EPSILON*Math.max(1,Math.abs(Y),Math.abs(Ma))&&Math.abs(ca-Qa)<=p.EPSILON*Math.max(1,Math.abs(ca),Math.abs(Qa))&&Math.abs(ia-Oa)<=p.EPSILON*Math.max(1,Math.abs(ia),Math.abs(Oa))&&Math.abs(ka-Ra)<=p.EPSILON*Math.max(1,Math.abs(ka),Math.abs(Ra))&&Math.abs(la-Ja)<=p.EPSILON*Math.max(1,Math.abs(la),
Math.abs(Ja))&&Math.abs(qa-Ga)<=p.EPSILON*Math.max(1,Math.abs(qa),Math.abs(Ga))&&Math.abs(ra-Fa)<=p.EPSILON*Math.max(1,Math.abs(ra),Math.abs(Fa))&&Math.abs(ta-Sa)<=p.EPSILON*Math.max(1,Math.abs(ta),Math.abs(Sa))&&Math.abs(a-g)<=p.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))}function xa(a){const g=p.EPSILON,K=a[0],Q=a[1],y=a[2],G=a[4],N=a[5],R=a[6],T=a[8],Y=a[9];a=a[10];return Math.abs(1-(K*K+G*G+T*T))<=g&&Math.abs(1-(Q*Q+N*N+Y*Y))<=g&&Math.abs(1-(y*y+R*R+a*a))<=g}const sa=c.create();c=Object.freeze({__proto__:null,
copy:f,set:q,identity:z,transpose:B,invert:H,adjoint:F,determinant:m,multiply:k,translate:n,scale:v,rotate:e,rotateX:d,rotateY:b,rotateZ:t,fromTranslation:C,fromScaling:w,fromRotation:l,fromXRotation:r,fromYRotation:u,fromZRotation:A,fromRotationTranslation:x,fromQuat2:E,getTranslation:S,getScaling:aa,getRotation:da,fromRotationTranslationScale:ja,fromRotationTranslationScaleOrigin:ba,fromQuat:ea,frustum:oa,perspective:wa,perspectiveFromFieldOfView:D,ortho:I,lookAt:Z,targetTo:M,str:U,frob:W,add:J,
subtract:V,multiplyScalar:fa,multiplyScalarAndAdd:ha,exactEquals:na,equals:ua,isOrthoNormal:xa,mul:k,sub:V});h.add=J;h.adjoint=F;h.copy=f;h.determinant=m;h.equals=ua;h.exactEquals=na;h.frob=W;h.fromQuat=ea;h.fromQuat2=E;h.fromRotation=l;h.fromRotationTranslation=x;h.fromRotationTranslationScale=ja;h.fromRotationTranslationScaleOrigin=ba;h.fromScaling=w;h.fromTranslation=C;h.fromXRotation=r;h.fromYRotation=u;h.fromZRotation=A;h.frustum=oa;h.getRotation=da;h.getScaling=aa;h.getTranslation=S;h.identity=
z;h.invert=H;h.isOrthoNormal=xa;h.lookAt=Z;h.mat4=c;h.mul=k;h.multiply=k;h.multiplyScalar=fa;h.multiplyScalarAndAdd=ha;h.ortho=I;h.perspective=wa;h.perspectiveFromFieldOfView=D;h.rotate=e;h.rotateX=d;h.rotateY=b;h.rotateZ=t;h.scale=v;h.set=q;h.str=U;h.sub=V;h.subtract=V;h.targetTo=M;h.translate=n;h.transpose=B})},"esri/chunks/pe":function(){define(["require","exports","./_rollupPluginBabelHelpers","../assets","../core/has"],function(h,c,p,f,q){function z(){return!!c._pe}function B(){return!!q("esri-wasm")}
function H(){return e?e:e=(new Promise(function(b,t){h(["./pe-wasm"],b,t)})).then(function(b){return b.peWasm}).then(({default:b})=>b({locateFile:t=>f.getAssetUrl(`esri/geometry/support/${t}`)})).then(b=>{F(b)})}function F(b){function t(l,r,u){l[r]=u(l[r])}c._pe=b;c.PeDefs.init();c.PeGTlistExtended.init();c.PeNotationMgrs.init();c.PeNotationUtm.init();c.PePCSInfo.init();c.PeGCSExtent=function(l){function r(){return l.apply(this,arguments)||this}p._inheritsLoose(r,l);r.prototype.destroy=function(){c._pe.destroy(this)};
return r}(c._pe.PeGCSExtent);b=[c._pe.PeDatum,c._pe.PeGeogcs,c._pe.PeGeogtran,c._pe.PeObject,c._pe.PeParameter,c._pe.PePrimem,c._pe.PeProjcs,c._pe.PeSpheroid,c._pe.PeUnit];for(var C of b)t(C.prototype,"getName",l=>function(){return l.call(this,Array(c.PeDefs.PE_NAME_MAX))});for(const l of[c._pe.PeGeogtran,c._pe.PeProjcs])t(l.prototype,"getParameters",r=>function(){const u=Array(c.PeDefs.PE_PARM_MAX);let A=r.call(this);for(let x=0;x<u.length;x++){const E=c._pe.getValue(A,"*");u[x]=E?c._pe.wrapPointer(E,
c._pe.PeParameter):null;A+=Int32Array.BYTES_PER_ELEMENT}return u});t(c._pe.PeHorizon.prototype,"getCoord",l=>function(){const r=this.getSize();if(!r)return null;const u=[],A=l.call(this);v(u,r,A);return u});t(c._pe.PeGTlistExtendedEntry.prototype,"getEntries",l=>{const r=c._pe._pe_getPeGTlistExtendedGTsSize();return function(){let u=null;var A=l.call(this);if(!c._pe.compare(A,c._pe.NULL)){u=[A];const x=this.getSteps();if(1<x){A=c._pe.getPointer(A);for(let E=1;E<x;E++)u.push(c._pe.wrapPointer(A+r*
E,c._pe.PeGTlistExtendedGTs))}}return u}});const w=c._pe._pe_getPeHorizonSize();C=l=>function(){let r=this._cache;r||(this._cache=r=new Map);if(r.has(l))return r.get(l);let u=null;var A=l.call(this);if(!c._pe.compare(A,c._pe.NULL)){u=[A];const x=A.getNump();if(1<x){A=c._pe.getPointer(A);for(let E=1;E<x;E++)u.push(c._pe.wrapPointer(A+w*E,c._pe.PeHorizon))}}r.set(l,u);return u};t(c._pe.PeProjcs.prototype,"horizonGcsGenerate",C);t(c._pe.PeProjcs.prototype,"horizonPcsGenerate",C);c._pe.PeObject.prototype.toString=
function(l=c.PeDefs.PE_STR_OPTS_NONE){c._pe.ensureCache.prepare();const r=c._pe.getPointer(this),u=c._pe.ensureInt8(Array(c.PeDefs.PE_BUFFER_MAX));return c._pe.UTF8ToString(c._pe._pe_object_to_string_ext(r,l,u))}}function m(b){if(b){var t=c._pe.getClass(b);t&&(t=c._pe.getCache(t))&&(b=c._pe.getPointer(b))&&delete t[b]}}function k(b,t){const C=[];t=Array(t);for(let w=0;w<b;w++)C.push(c._pe.ensureInt8(t));return C}function n(b){let t;Array.isArray(b[0])?(t=[],b.forEach(C=>{t.push(C[0],C[1])})):t=b;
return t}function v(b,t,C,w=!1){if(w)for(w=0;w<2*t;w++)b[w]=c._pe.getValue(C+w*Float64Array.BYTES_PER_ELEMENT,"double");else{w=0===b.length;for(let l=0;l<t;l++)w&&(b[l]=Array(2)),b[l][0]=c._pe.getValue(C,"double"),b[l][1]=c._pe.getValue(C+Float64Array.BYTES_PER_ELEMENT,"double"),C+=2*Float64Array.BYTES_PER_ELEMENT}}let e;c._pe=null;c.PeCSTransformations=void 0;(function(b){function t(l,r,u){c._pe.ensureCache.prepare();var A=n(u);const x=u===A;A=c._pe.ensureFloat64(A);(l=c._pe._pe_geog_to_proj(c._pe.getPointer(l),
r,A))&&v(u,r,A,x);return l}function C(l,r,u){return w(l,r,u,0)}function w(l,r,u,A){c._pe.ensureCache.prepare();var x=n(u);const E=u===x;x=c._pe.ensureFloat64(x);(l=c._pe._pe_proj_to_geog_center(c._pe.getPointer(l),r,x,A))&&v(u,r,x,E);return l}b.geogToProj=t;b.projGeog=function(l,r,u,A){switch(A){case c.PeDefs.PE_TRANSFORM_P_TO_G:return C(l,r,u);case c.PeDefs.PE_TRANSFORM_G_TO_P:return t(l,r,u)}return 0};b.projToGeog=C;b.projToGeogCenter=w})(c.PeCSTransformations||(c.PeCSTransformations={}));c.PeDefs=
void 0;(function(b){b.init=function(){b.PE_BUFFER_MAX=c._pe.PeDefs.prototype.PE_BUFFER_MAX;b.PE_NAME_MAX=c._pe.PeDefs.prototype.PE_NAME_MAX;b.PE_MGRS_MAX=c._pe.PeDefs.prototype.PE_MGRS_MAX;b.PE_USNG_MAX=c._pe.PeDefs.prototype.PE_USNG_MAX;b.PE_DD_MAX=c._pe.PeDefs.prototype.PE_DD_MAX;b.PE_DDM_MAX=c._pe.PeDefs.prototype.PE_DDM_MAX;b.PE_DMS_MAX=c._pe.PeDefs.prototype.PE_DMS_MAX;b.PE_UTM_MAX=c._pe.PeDefs.prototype.PE_UTM_MAX;b.PE_PARM_MAX=c._pe.PeDefs.prototype.PE_PARM_MAX;b.PE_TYPE_NONE=c._pe.PeDefs.prototype.PE_TYPE_NONE;
b.PE_TYPE_GEOGCS=c._pe.PeDefs.prototype.PE_TYPE_GEOGCS;b.PE_TYPE_PROJCS=c._pe.PeDefs.prototype.PE_TYPE_PROJCS;b.PE_TYPE_GEOGTRAN=c._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;b.PE_TYPE_COORDSYS=c._pe.PeDefs.prototype.PE_TYPE_COORDSYS;b.PE_TYPE_UNIT=c._pe.PeDefs.prototype.PE_TYPE_UNIT;b.PE_TYPE_LINUNIT=c._pe.PeDefs.prototype.PE_TYPE_LINUNIT;b.PE_STR_OPTS_NONE=c._pe.PeDefs.prototype.PE_STR_OPTS_NONE;b.PE_STR_AUTH_NONE=c._pe.PeDefs.prototype.PE_STR_AUTH_NONE;b.PE_STR_AUTH_TOP=c._pe.PeDefs.prototype.PE_STR_AUTH_TOP;
b.PE_STR_NAME_CANON=c._pe.PeDefs.prototype.PE_STR_NAME_CANON;b.PE_PARM_X0=c._pe.PeDefs.prototype.PE_PARM_X0;b.PE_PARM_ND=c._pe.PeDefs.prototype.PE_PARM_ND;b.PE_TRANSFORM_1_TO_2=c._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;b.PE_TRANSFORM_2_TO_1=c._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;b.PE_TRANSFORM_P_TO_G=c._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;b.PE_TRANSFORM_G_TO_P=c._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;b.PE_HORIZON_RECT=c._pe.PeDefs.prototype.PE_HORIZON_RECT;b.PE_HORIZON_POLY=c._pe.PeDefs.prototype.PE_HORIZON_POLY;
b.PE_HORIZON_LINE=c._pe.PeDefs.prototype.PE_HORIZON_LINE;b.PE_HORIZON_DELTA=c._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(c.PeDefs||(c.PeDefs={}));c.PeFactory=void 0;(function(b){function t(r,u){let A=null,x=C[r];x||(x={},C[r]=x);x.hasOwnProperty(String(u))?A=x[u]:(r=c._pe.PeFactory.prototype.factoryByType(r,u),c._pe.compare(r,c._pe.NULL)||(A=r,x[u]=A));return A=l(A)}const C={},w={},l=r=>{if(r){const u=r.getType();switch(u){case c.PeDefs.PE_TYPE_GEOGCS:r=c._pe.castObject(r,c._pe.PeGeogcs);break;case c.PeDefs.PE_TYPE_PROJCS:r=
c._pe.castObject(r,c._pe.PeProjcs);break;case c.PeDefs.PE_TYPE_GEOGTRAN:r=c._pe.castObject(r,c._pe.PeGeogtran);break;default:u&c.PeDefs.PE_TYPE_UNIT&&(r=c._pe.castObject(r,c._pe.PeUnit))}}return r};b.initialize=function(){c._pe.PeFactory.prototype.initialize(null)};b.coordsys=function(r){return t(c.PeDefs.PE_TYPE_COORDSYS,r)};b.factoryByType=t;b.fromString=function(r,u){let A=null,x=w[r];x||(x={},w[r]=x);x.hasOwnProperty(u)?A=x[u]:(r=c._pe.PeFactory.prototype.fromString(r,u),c._pe.compare(r,c._pe.NULL)||
(A=r,x[u]=A));return A=l(A)};b.geogcs=function(r){return t(c.PeDefs.PE_TYPE_GEOGCS,r)};b.geogtran=function(r){return t(c.PeDefs.PE_TYPE_GEOGTRAN,r)};b.getCode=function(r){return c._pe.PeFactory.prototype.getCode(r)};b.projcs=function(r){return t(c.PeDefs.PE_TYPE_PROJCS,r)};b.unit=function(r){return t(c.PeDefs.PE_TYPE_UNIT,r)}})(c.PeFactory||(c.PeFactory={}));c.PeGCSExtent=null;c.PeGTlistExtended=void 0;(function(b){let t;b.init=function(){b.PE_GTLIST_OPTS_COMMON=c._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;
t=c._pe._pe_getPeGTlistExtendedEntrySize()};b.getGTlist=function(C,w,l,r,u,A){let x=null;const E=new c._pe.PeInteger(A);try{const S=c._pe.PeGTlistExtended.prototype.getGTlist(C,w,l,r,u,E);if(A=E.val)if(x=[S],1<A){const aa=c._pe.getPointer(S);for(C=1;C<A;C++)x.push(c._pe.wrapPointer(aa+t*C,c._pe.PeGTlistExtendedEntry))}}finally{c._pe.destroy(E)}return x}})(c.PeGTlistExtended||(c.PeGTlistExtended={}));c.PeGTlistExtendedEntry=void 0;(function(b){b.destroy=function(t){if(t&&t.length){for(const C of t)m(C),
C.getEntries().forEach(w=>{m(w);w=w.getGeogtran();m(w);w.getParameters().forEach(m);[w.getGeogcs1(),w.getGeogcs2()].forEach(l=>{m(l);const r=l.getDatum();m(r);m(r.getSpheroid());m(l.getPrimem());m(l.getUnit())})});c._pe.PeGTlistExtendedEntry.prototype.Delete(t[0])}}})(c.PeGTlistExtendedEntry||(c.PeGTlistExtendedEntry={}));c.PeGTTransformations=void 0;(function(b){b.geogToGeog=function(t,C,w,l,r){c._pe.ensureCache.prepare();var u=n(w);const A=w===u;u=c._pe.ensureFloat64(u);let x=0;l&&(x=c._pe.ensureFloat64(l));
(t=c._pe._pe_geog_to_geog(c._pe.getPointer(t),C,u,x,r))&&v(w,C,u,A);return t}})(c.PeGTTransformations||(c.PeGTTransformations={}));c.PeNotationDms=void 0;(function(b){const t=(w,l,r,u,A,x)=>{c._pe.ensureCache.prepare();switch(w){case "dd":var E=c._pe._pe_geog_to_dd;var S=c.PeDefs.PE_DD_MAX;break;case "ddm":E=c._pe._pe_geog_to_ddm;S=c.PeDefs.PE_DDM_MAX;break;case "dms":E=c._pe._pe_geog_to_dms,S=c.PeDefs.PE_DMS_MAX}w=0;l&&(w=c._pe.getPointer(l));l=n(u);l=c._pe.ensureFloat64(l);S=k(r,S);u=c._pe.ensureInt32(S);
if(A=E(w,r,l,A,u))for(E=0;E<r;E++)x[E]=c._pe.UTF8ToString(S[E]);return A},C=(w,l,r,u,A)=>{c._pe.ensureCache.prepare();switch(w){case "dd":var x=c._pe._pe_dd_to_geog;break;case "ddm":x=c._pe._pe_ddm_to_geog;break;case "dms":x=c._pe._pe_dms_to_geog}w=0;l&&(w=c._pe.getPointer(l));l=u.map(E=>c._pe.ensureString(E));u=c._pe.ensureInt32(l);l=c._pe.ensureFloat64(Array(2*r));(x=x(w,r,u,l))&&v(A,r,l);return x};b.geog_to_dms=function(w,l,r,u,A){return t("dms",w,l,r,u,A)};b.dms_to_geog=function(w,l,r,u){return C("dms",
w,l,r,u)};b.geog_to_ddm=function(w,l,r,u,A){return t("ddm",w,l,r,u,A)};b.ddm_to_geog=function(w,l,r,u){return C("ddm",w,l,r,u)};b.geog_to_dd=function(w,l,r,u,A){return t("dd",w,l,r,u,A)};b.dd_to_geog=function(w,l,r,u){return C("dd",w,l,r,u)}})(c.PeNotationDms||(c.PeNotationDms={}));c.PeNotationMgrs=void 0;(function(b){b.init=function(){b.PE_MGRS_STYLE_NEW=c._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;b.PE_MGRS_STYLE_OLD=c._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;b.PE_MGRS_STYLE_AUTO=c._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;
b.PE_MGRS_180_ZONE_1_PLUS=c._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;b.PE_MGRS_ADD_SPACES=c._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};b.geog_to_mgrs_extended=function(t,C,w,l,r,u,A){c._pe.ensureCache.prepare();let x=0;t&&(x=c._pe.getPointer(t));t=n(w);w=c._pe.ensureFloat64(t);t=k(C,c.PeDefs.PE_MGRS_MAX);const E=c._pe.ensureInt32(t);if(l=c._pe._pe_geog_to_mgrs_extended(x,C,w,l,r,u,E))for(r=0;r<C;r++)A[r]=c._pe.UTF8ToString(t[r]);return l};b.mgrs_to_geog_extended=function(t,C,w,l,
r){c._pe.ensureCache.prepare();let u=0;t&&(u=c._pe.getPointer(t));t=w.map(A=>c._pe.ensureString(A));w=c._pe.ensureInt32(t);t=c._pe.ensureFloat64(Array(2*C));(l=c._pe._pe_mgrs_to_geog_extended(u,C,w,l,t))&&v(r,C,t);return l}})(c.PeNotationMgrs||(c.PeNotationMgrs={}));c.PeNotationUsng=void 0;(function(b){b.geog_to_usng=function(t,C,w,l,r,u,A){c._pe.ensureCache.prepare();let x=0;t&&(x=c._pe.getPointer(t));t=n(w);w=c._pe.ensureFloat64(t);t=k(C,c.PeDefs.PE_MGRS_MAX);const E=c._pe.ensureInt32(t);if(l=c._pe._pe_geog_to_usng(x,
C,w,l,r,u,E))for(r=0;r<C;r++)A[r]=c._pe.UTF8ToString(t[r]);return l};b.usng_to_geog=function(t,C,w,l){c._pe.ensureCache.prepare();var r=0;t&&(r=c._pe.getPointer(t));t=w.map(u=>c._pe.ensureString(u));w=c._pe.ensureInt32(t);t=c._pe.ensureFloat64(Array(2*C));(r=c._pe._pe_usng_to_geog(r,C,w,t))&&v(l,C,t);return r}})(c.PeNotationUsng||(c.PeNotationUsng={}));c.PeNotationUtm=void 0;(function(b){b.init=function(){b.PE_UTM_OPTS_NONE=c._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;b.PE_UTM_OPTS_ADD_SPACES=c._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;
b.PE_UTM_OPTS_NS=c._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};b.geog_to_utm=function(t,C,w,l,r){c._pe.ensureCache.prepare();var u=0;t&&(u=c._pe.getPointer(t));t=n(w);w=c._pe.ensureFloat64(t);t=k(C,c.PeDefs.PE_UTM_MAX);const A=c._pe.ensureInt32(t);if(l=c._pe._pe_geog_to_utm(u,C,w,l,A))for(u=0;u<C;u++)r[u]=c._pe.UTF8ToString(t[u]);return l};b.utm_to_geog=function(t,C,w,l,r){c._pe.ensureCache.prepare();let u=0;t&&(u=c._pe.getPointer(t));t=w.map(A=>c._pe.ensureString(A));w=c._pe.ensureInt32(t);t=c._pe.ensureFloat64(Array(2*
C));(l=c._pe._pe_utm_to_geog(u,C,w,l,t))&&v(r,C,t);return l}})(c.PeNotationUtm||(c.PeNotationUtm={}));c.PePCSInfo=void 0;(function(b){const t=new Map;b.init=function(){b.PE_PCSINFO_OPTION_NONE=c._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;b.PE_PCSINFO_OPTION_DOMAIN=c._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;b.PE_POLE_OUTSIDE_BOUNDARY=c._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;b.PE_POLE_POINT=c._pe.PePCSInfo.prototype.PE_POLE_POINT};b.generate=function(C,w=b.PE_PCSINFO_OPTION_DOMAIN){let l,
r;t.has(C)&&(r=t.get(C),r[w]&&(l=r[w]));l||(l=c._pe.PePCSInfo.prototype.generate(C,w),r||(r=[],t.set(C,r)),r[w]=l);return l}})(c.PePCSInfo||(c.PePCSInfo={}));c.PeVersion=void 0;(function(b){b.version_string=function(){return c._pe.PeVersion.prototype.version_string()}})(c.PeVersion||(c.PeVersion={}));var d=Object.freeze({__proto__:null,get _pe(){return c._pe},isLoaded:z,isSupported:B,load:H,get PeCSTransformations(){return c.PeCSTransformations},get PeDefs(){return c.PeDefs},get PeFactory(){return c.PeFactory},
get PeGCSExtent(){return c.PeGCSExtent},get PeGTlistExtended(){return c.PeGTlistExtended},get PeGTlistExtendedEntry(){return c.PeGTlistExtendedEntry},get PeGTTransformations(){return c.PeGTTransformations},get PeNotationDms(){return c.PeNotationDms},get PeNotationMgrs(){return c.PeNotationMgrs},get PeNotationUsng(){return c.PeNotationUsng},get PeNotationUtm(){return c.PeNotationUtm},get PePCSInfo(){return c.PePCSInfo},get PeVersion(){return c.PeVersion},_init:F});c._init=F;c.isLoaded=z;c.isSupported=
B;c.load=H;c.pe=d})},"esri/geometry/support/geodesicConstants":function(){define(["exports","./Ellipsoid"],function(h,c){const p=Math.PI/180;var f=c.earth.radius;const q=c.earth.eccentricitySquared;f={a1:f*q,a2:f*q*f*q,a3:f*q*q/2,a4:f*q*f*q*2.5,a5:f*q+f*q*q/2,a6:1-q};c={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:c.earth.radius,f:c.earth.flattening},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:c.moon.radius,f:c.moon.flattening},104904:{a:3393400,
f:.005207166853303471},104905:{a:c.mars.radius,f:c.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},
104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,
f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:c.mars.radius,
f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};h.WKT_SPHEROID_REGEX=/SPHEROID\[([^\]]+)]/i;h.earthEllipsoidConstants=f;h.spheroids=c;h.toRadians=p;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/geometry/support/GeographicTransformation":function(){define(["./GeographicTransformationStep"],function(h){return function(){function c(f){this.steps=[];this._cached_projection={};this._chain="";this._gtlistentry=null;if(f&&f.steps)for(const q of f.steps)q instanceof h?this.steps.push(q):
this.steps.push(new h({wkid:q.wkid,wkt:q.wkt,isInverse:q.isInverse}))}c.cacheKey=function(f,q){return[void 0!==f.wkid&&null!==f.wkid?f.wkid.toString():"-1",void 0!==f.wkt&&null!==f.wkt?f.wkt.toString():"",void 0!==q.wkid&&null!==q.wkid?q.wkid.toString():"-1",void 0!==q.wkt&&null!==q.wkt?q.wkt.toString():""].join()};c.fromGE=function(f){const q=new c;let z="";for(const B of f.steps)f=h.fromGE(B),q.steps.push(f),z+=f.uid.toString()+",";q._cached_projection={};q._gtlistentry=null;q._chain=z;return q};
var p=c.prototype;p.getInverse=function(){const f=new c;f.steps=[];for(let q=this.steps.length-1;0<=q;q--)f.steps.push(this.steps[q].getInverse());return f};p.getGTListEntry=function(){let f="";for(const q of this.steps)f+=q.uid.toString()+",";f!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=f);return this._gtlistentry};p.assignCachedGe=function(f,q,z){this._cached_projection[c.cacheKey(f,q)]=z};p.getCachedGeTransformation=function(f,q){let z="";for(const B of this.steps)z+=
B.uid.toString()+",";z!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=z);f=this._cached_projection[c.cacheKey(f,q)];return void 0===f?null:f};return c}()})},"esri/geometry/support/GeographicTransformationStep":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(h){let c=0;return function(){function p(f=null){this.uid=c++;f?(this._wkt=void 0!==f.wkt?f.wkt:null,this._wkid=void 0!==f.wkid?f.wkid:-1,this._isInverse=void 0!==f.isInverse?!0===f.isInverse:
!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}p.fromGE=function(f){const q=new p;q._wkt=f.wkt;q._wkid=f.wkid;q._isInverse=f.isInverse;return q};p.prototype.getInverse=function(){const f=new p;f._wkt=this.wkt;f._wkid=this._wkid;f._isInverse=!this.isInverse;return f};h._createClass(p,[{key:"wkt",get:function(){return this._wkt},set:function(f){this._wkt=f;this.uid=c++}},{key:"wkid",get:function(){return this._wkid},set:function(f){this._wkid=f;this.uid=c++}},{key:"isInverse",get:function(){return this._isInverse},
set:function(f){this._isInverse=f;this.uid=c++}}]);return p}()})},"esri/geometry/support/near":function(){define(["exports","../../geometry","../../chunks/vec2","./coordsUtils","../Point"],function(h,c,p,f,q){h.nearestCoordinate=function(z,B){const {spatialReference:H}=B;B=[B.x,B.y];let F=Number.POSITIVE_INFINITY,m=0,k=0;const n=[0,0];z="extent"===z.type?[[[z.xmin,z.ymin],[z.xmin,z.ymax],[z.xmax,z.ymax],[z.xmax,z.ymin],[z.xmin,z.ymin]]]:z.rings;for(const v of z)for(z=0;z<v.length-1;z++){f.projectPointOnLine(n,
B,v,z);const e=p.distance(B,n);e<F&&(F=e,m=n[0],k=n[1])}return{coordinate:new q({x:m,y:k,spatialReference:H}),distance:F}};Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/2d/constraints/RotationConstraint":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/Logger ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass".split(" "),
function(h,c,p,f,q,z,B,H,F){var m;p=m=function(k){function n(){var e=k.apply(this,arguments)||this;e.enabled=!0;e.rotationEnabled=!0;return e}h._inheritsLoose(n,k);var v=n.prototype;v.constrain=function(e,d){if(!this.enabled||!d)return e;this.rotationEnabled||(e.rotation=d.rotation);return e};v.clone=function(){return new m({enabled:this.enabled,rotationEnabled:this.rotationEnabled})};return n}(p);c.__decorate([f.property()],p.prototype,"enabled",void 0);c.__decorate([f.property()],p.prototype,"rotationEnabled",
void 0);return p=m=c.__decorate([F.subclass("esri.views.2d.constraints.RotationConstraint")],p)})},"esri/views/2d/constraints/ZoomConstraint":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/Logger ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../layers/support/LOD".split(" "),function(h,
c,p,f,q,z,B,H,F,m){var k;p=k=function(n){function v(d){d=n.call(this,d)||this;d._lodByScale={};d._scales=[];d.effectiveLODs=null;d.effectiveMinZoom=-1;d.effectiveMaxZoom=-1;d.effectiveMinScale=0;d.effectiveMaxScale=0;d.lods=null;d.minZoom=-1;d.maxZoom=-1;d.minScale=0;d.maxScale=0;d.snapToZoom=!0;return d}h._inheritsLoose(v,n);var e=v.prototype;e.initialize=function(){let {lods:d,minScale:b,maxScale:t,minZoom:C,maxZoom:w}=this,l=-1,r=-1,u=!1,A=!1;0!==b&&0!==t&&b<t&&([b,t]=[t,b]);if(d&&d.length){d=
d.map(E=>E.clone());d.sort((E,S)=>S.scale-E.scale);d.forEach((E,S)=>E.level=S);for(const E of d){!u&&0<b&&b>=E.scale&&(l=E.level,u=!0);!A&&0<t&&t>=E.scale&&(r=x?x.level:-1,A=!0);var x=E}-1===C&&(C=0===b?0:l);-1===w&&(w=0===t?d.length-1:r);C=Math.max(C,0);C=Math.min(C,d.length-1);w=Math.max(w,0);w=Math.min(w,d.length-1);C>w&&([C,w]=[w,C]);b=d[C].scale;t=d[w].scale;d.splice(0,C);d.splice(w-C+1,d.length);d.forEach((E,S)=>{this._lodByScale[E.scale]=E;this._scales[S]=E.scale});this._set("effectiveLODs",
d);this._set("effectiveMinZoom",C);this._set("effectiveMaxZoom",w)}this._set("effectiveMinScale",b);this._set("effectiveMaxScale",t)};e.constrain=function(d,b){if(b&&d.scale===b.scale)return d;var t=this.effectiveMinScale;const C=this.effectiveMaxScale,w=d.targetGeometry,l=b&&b.targetGeometry,r=0!==t&&d.scale>t;if(0!==C&&d.scale<C||r)t=r?t:C,l&&(b=(t-b.scale)/(d.scale-b.scale),w.x=l.x+(w.x-l.x)*b,w.y=l.y+(w.y-l.y)*b),d.scale=t;this.snapToZoom&&this.effectiveLODs&&(d.scale=this._getClosestScale(d.scale));
return d};e.fit=function(d){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(d,null);const b=this.scaleToZoom(d.scale);d.scale=this.zoomToScale(.99<Math.abs(b-Math.floor(b))?Math.round(b):Math.floor(b));return d};e.zoomToScale=function(d){if(!this.effectiveLODs)return 0;d-=this.effectiveMinZoom;d=Math.max(0,d);const b=this._scales;if(0>=d)return b[0];if(d>=b.length)return b[b.length-1];const t=Math.round(d);return b[t]+(t-d)*(b[Math.round(d-.5)]-b[t])};e.scaleToZoom=function(d){if(!this.effectiveLODs)return-1;
const b=this._scales;let t,C;if(d>=b[0])return this.effectiveMinZoom;if(d<=b[b.length-1])return this.effectiveMaxZoom;for(let w=0;w<b.length-1;w++){t=b[w];C=b[w+1];if(C===d)return w+this.effectiveMinZoom+1;if(t>d&&C<d)return w+this.effectiveMinZoom+1-(d-C)/(t-C)}};e.snapToClosestScale=function(d){if(!this.effectiveLODs)return d;d=this.scaleToZoom(d);return this.zoomToScale(Math.round(d))};e.snapToNextScale=function(d,b=.5){if(!this.effectiveLODs)return d*b;d=Math.round(this.scaleToZoom(d));return this.zoomToScale(d+
1)};e.snapToPreviousScale=function(d,b=2){if(!this.effectiveLODs)return d*b;d=Math.round(this.scaleToZoom(d));return this.zoomToScale(d-1)};e.clone=function(){return new k({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})};e._getClosestScale=function(d){if(this._lodByScale[d])return this._lodByScale[d].scale;d=this._scales.reduce((b,t)=>Math.abs(t-d)<=Math.abs(b-d)?t:b,this._scales[0]);return this._lodByScale[d].scale};return v}(p);c.__decorate([f.property({readOnly:!0})],
p.prototype,"effectiveLODs",void 0);c.__decorate([f.property({readOnly:!0})],p.prototype,"effectiveMinZoom",void 0);c.__decorate([f.property({readOnly:!0})],p.prototype,"effectiveMaxZoom",void 0);c.__decorate([f.property({readOnly:!0})],p.prototype,"effectiveMinScale",void 0);c.__decorate([f.property({readOnly:!0})],p.prototype,"effectiveMaxScale",void 0);c.__decorate([f.property({type:[m]})],p.prototype,"lods",void 0);c.__decorate([f.property()],p.prototype,"minZoom",void 0);c.__decorate([f.property()],
p.prototype,"maxZoom",void 0);c.__decorate([f.property()],p.prototype,"minScale",void 0);c.__decorate([f.property()],p.prototype,"maxScale",void 0);c.__decorate([f.property()],p.prototype,"snapToZoom",void 0);return p=k=c.__decorate([F.subclass("esri.views.2d.constraints.ZoomConstraint")],p)})},"esri/views/2d/PaddedViewState":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../chunks/vec2 ../../chunks/vec2f64 ./viewpointUtils ./ViewState".split(" "),
function(h,c,p,f,q,z,B,H,F,m,k,n,v){let e=function(d){function b(){var t=d.apply(this,arguments)||this;t.left=0;t.top=0;t.right=0;t.bottom=0;return t}h._inheritsLoose(b,d);return b}(p);c.__decorate([f.property()],e.prototype,"left",void 0);c.__decorate([f.property()],e.prototype,"top",void 0);c.__decorate([f.property()],e.prototype,"right",void 0);c.__decorate([f.property()],e.prototype,"bottom",void 0);e=c.__decorate([F.subclass("esri.views.2d.PaddedViewState.Padding")],e);p=function(d){function b(...t){var C=
d.call(this,...t)||this;C.paddedViewState=new v;C._updateContent=(()=>{const w=k.create();return()=>{var l=C._get("size");const r=C._get("padding");if(l&&r){var u=C.paddedViewState;m.set(w,r.left+r.right,r.top+r.bottom);m.subtract(w,l,w);m.copy(u.size,w);if(l=u.viewpoint)C.viewpoint=l}}})();C.watch(["size","padding"],C._updateContent,!0);C.padding=new e;C.size=[0,0];return C}h._inheritsLoose(b,d);h._createClass(b,[{key:"padding",set:function(t){this._set("padding",t||new e)}},{key:"viewpoint",set:function(t){if(t){const C=
t.clone();this.paddedViewState.viewpoint=t;n.addPadding(C,t,this._get("size"),this._get("padding"));t=this._viewpoint2D;const w=C.targetGeometry;t.center[0]=w.x;t.center[1]=w.y;t.rotation=C.rotation;t.scale=C.scale;t.spatialReference=w.spatialReference;this._update()}}}]);return b}(v);c.__decorate([f.property()],p.prototype,"paddedViewState",void 0);c.__decorate([f.property({type:e})],p.prototype,"padding",null);c.__decorate([f.property()],p.prototype,"viewpoint",null);return p=c.__decorate([F.subclass("esri.views.2d.PaddedViewState")],
p)})},"esri/views/2d/ViewState":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../Viewpoint ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../chunks/common ../../chunks/mat2d ../../chunks/mat2df32 ../../chunks/mat2df64 ../../chunks/mat3 ../../chunks/mat3f32 ../../chunks/vec2 ../../chunks/vec2f32 ../../chunks/vec2f64 ../../core/libs/gl-matrix-2/types/vec2 ./viewpointUtils ../../geometry/Point ../../geometry/Extent".split(" "),
function(h,c,p,f,q,z,B,H,F,m,k,n,v,e,d,b,t,C,w,l,r,u,A,x){var E;const S=[0,0];p=E=function(aa){function da(ba){ba=aa.call(this,ba)||this;ba._viewpoint2D={center:l.create(),rotation:0,scale:0,spatialReference:null};ba.center=[0,0];ba.extent=new x;ba.id=0;ba.inverseTransform=d.create();ba.resolution=0;ba.rotation=0;ba.scale=0;ba.transform=d.create();ba.transformNoRotation=d.create();ba.displayMat3=t.create();ba.displayViewMat3=t.create();ba.viewMat3=t.create();ba.viewMat2d=e.create();ba.worldScreenWidth=
0;ba.size=[0,0];return ba}h._inheritsLoose(da,aa);var ja=da.prototype;ja.copy=function(ba){const ea=this.size,oa=this.viewpoint;oa&&ea?(this.viewpoint=u.copy(oa,ba.viewpoint),this._set("size",C.copy(ea,ba.size))):(this.viewpoint=ba.viewpoint.clone(),this._set("size",[ba.size[0],ba.size[1]]));this._set("pixelRatio",ba.pixelRatio);return this};ja.clone=function(){return new E({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})};ja.toMap=function(ba,ea,oa){if(r.isVec2(ea))return C.transformMat2d(ba,
ea,this.inverseTransform);S[0]=ea;S[1]=oa;return C.transformMat2d(ba,S,this.inverseTransform)};ja.toScreen=function(ba,ea,oa){if(r.isVec2(ea))return C.transformMat2d(ba,ea,this.transform);S[0]=ea;S[1]=oa;return C.transformMat2d(ba,S,this.transform)};ja.toScreenNoRotation=function(ba,ea,oa){if(r.isVec2(ea))return C.transformMat2d(ba,ea,this.transformNoRotation);S[0]=ea;S[1]=oa;return C.transformMat2d(ba,S,this.transformNoRotation)};ja.getScreenTransform=function(ba,ea){const {center:oa}=this._viewpoint2D,
wa=this._get("pixelRatio")||1,D=this._get("size");u.getMatrix(ba,oa,D,ea,0,wa);return ba};ja._update=function(){const {center:ba,spatialReference:ea,scale:oa,rotation:wa}=this._viewpoint2D,D=this._get("pixelRatio")||1,I=this._get("size"),Z=new f({targetGeometry:new A(ba[0],ba[1],ea),scale:oa,rotation:wa});this._set("viewpoint",Z);if(I&&ea&&oa){this.resolution=u.getResolution(Z);this.rotation=wa;this.scale=oa;this.spatialReference=ea;C.copy(this.center,ba);b.set(this.displayMat3,0!==I[0]?2/I[0]:0,
0,0,0,0!==I[1]?-2/I[1]:0,0,-1,1,1);var M=b.identity(this.viewMat3),U=w.fromValues(I[0]/2,I[1]/2),W=w.fromValues(-I[0]/2,-I[1]/2),J=n.toRadian(wa);b.translate(M,M,U);b.rotate(M,M,J);b.translate(M,M,W);b.multiply(this.displayViewMat3,this.displayMat3,M);M=v.identity(this.viewMat2d);v.translate(M,M,U);v.rotate(M,M,J);v.translate(M,M,W);u.getExtent(this.extent,Z,I);u.getTransform(this.transform,Z,I,D);v.invert(this.inverseTransform,this.transform);u.getTransformNoRotation(this.transformNoRotation,Z,I,
D);this.worldScreenWidth=u.getWorldScreenWidth(this.spatialReference,this.resolution);this._set("id",this.id+1);return this}};h._createClass(da,[{key:"pixelRatio",set:function(ba){this._set("pixelRatio",ba);this._update()}},{key:"size",set:function(ba){this._set("size",ba);this._update()}},{key:"viewpoint",set:function(ba){if(ba){const ea=this._viewpoint2D,oa=ba.targetGeometry;ea.center[0]=oa.x;ea.center[1]=oa.y;ea.rotation=ba.rotation;ea.scale=ba.scale;ea.spatialReference=oa.spatialReference}this._update()}}]);
return da}(q.JSONSupport);c.__decorate([z.property({readOnly:!0})],p.prototype,"id",void 0);c.__decorate([z.property({value:1,json:{write:!0}})],p.prototype,"pixelRatio",null);c.__decorate([z.property({json:{write:!0}})],p.prototype,"size",null);c.__decorate([z.property({type:f,json:{write:!0}})],p.prototype,"viewpoint",null);return p=E=c.__decorate([k.subclass("esri.views.2d.ViewState")],p)})},"esri/chunks/mat2df32":function(){define(["exports"],function(h){function c(){const F=new Float32Array(6);
F[0]=1;F[3]=1;return F}function p(F){const m=new Float32Array(6);m[0]=F[0];m[1]=F[1];m[2]=F[2];m[3]=F[3];m[4]=F[4];m[5]=F[5];return m}function f(F,m,k,n,v,e){const d=new Float32Array(6);d[0]=F;d[1]=m;d[2]=k;d[3]=n;d[4]=v;d[5]=e;return d}function q(F,m){return new Float32Array(F,m,6)}function z(F,m,k,n){const v=m[n];m=m[n+1];F[n]=k[0]*v+k[2]*m+k[4];F[n+1]=k[1]*v+k[3]*m+k[5]}function B(F,m,k,n=0,v=0,e=2){for(v=v||m.length/e;n<v;n++)z(F,m,k,n*e)}var H=Object.freeze({__proto__:null,create:c,clone:p,fromValues:f,
createView:q,transform:z,transformMany:B});h.clone=p;h.create=c;h.createView=q;h.fromValues=f;h.mat2df32=H;h.transform=z;h.transformMany=B})},"esri/chunks/mat3":function(){define(["exports","./common"],function(h,c){function p(D,I){D[0]=I[0];D[1]=I[1];D[2]=I[2];D[3]=I[4];D[4]=I[5];D[5]=I[6];D[6]=I[8];D[7]=I[9];D[8]=I[10];return D}function f(D,I){D[0]=I[0];D[1]=I[1];D[2]=I[2];D[3]=I[3];D[4]=I[4];D[5]=I[5];D[6]=I[6];D[7]=I[7];D[8]=I[8];return D}function q(D,I,Z,M,U,W,J,V,fa,ha){D[0]=I;D[1]=Z;D[2]=M;
D[3]=U;D[4]=W;D[5]=J;D[6]=V;D[7]=fa;D[8]=ha;return D}function z(D){D[0]=1;D[1]=0;D[2]=0;D[3]=0;D[4]=1;D[5]=0;D[6]=0;D[7]=0;D[8]=1;return D}function B(D,I){if(D===I){const Z=I[1],M=I[2],U=I[5];D[1]=I[3];D[2]=I[6];D[3]=Z;D[5]=I[7];D[6]=M;D[7]=U}else D[0]=I[0],D[1]=I[3],D[2]=I[6],D[3]=I[1],D[4]=I[4],D[5]=I[7],D[6]=I[2],D[7]=I[5],D[8]=I[8];return D}function H(D,I){const Z=I[0],M=I[1],U=I[2],W=I[3],J=I[4],V=I[5],fa=I[6],ha=I[7];I=I[8];const na=I*J-V*ha,ua=-I*W+V*fa,xa=ha*W-J*fa;let sa=Z*na+M*ua+U*xa;if(!sa)return null;
sa=1/sa;D[0]=na*sa;D[1]=(-I*M+U*ha)*sa;D[2]=(V*M-U*J)*sa;D[3]=ua*sa;D[4]=(I*Z-U*fa)*sa;D[5]=(-V*Z+U*W)*sa;D[6]=xa*sa;D[7]=(-ha*Z+M*fa)*sa;D[8]=(J*Z-M*W)*sa;return D}function F(D,I){const Z=I[0],M=I[1],U=I[2],W=I[3],J=I[4],V=I[5],fa=I[6],ha=I[7];I=I[8];D[0]=J*I-V*ha;D[1]=U*ha-M*I;D[2]=M*V-U*J;D[3]=V*fa-W*I;D[4]=Z*I-U*fa;D[5]=U*W-Z*V;D[6]=W*ha-J*fa;D[7]=M*fa-Z*ha;D[8]=Z*J-M*W;return D}function m(D){const I=D[3],Z=D[4],M=D[5],U=D[6],W=D[7],J=D[8];return D[0]*(J*Z-M*W)+D[1]*(-J*I+M*U)+D[2]*(W*I-Z*U)}
function k(D,I,Z){const M=I[0],U=I[1],W=I[2],J=I[3],V=I[4],fa=I[5],ha=I[6],na=I[7];I=I[8];const ua=Z[0],xa=Z[1],sa=Z[2],a=Z[3],g=Z[4],K=Z[5],Q=Z[6],y=Z[7];Z=Z[8];D[0]=ua*M+xa*J+sa*ha;D[1]=ua*U+xa*V+sa*na;D[2]=ua*W+xa*fa+sa*I;D[3]=a*M+g*J+K*ha;D[4]=a*U+g*V+K*na;D[5]=a*W+g*fa+K*I;D[6]=Q*M+y*J+Z*ha;D[7]=Q*U+y*V+Z*na;D[8]=Q*W+y*fa+Z*I;return D}function n(D,I,Z){const M=I[0],U=I[1],W=I[2],J=I[3],V=I[4],fa=I[5],ha=I[6],na=I[7];I=I[8];const ua=Z[0];Z=Z[1];D[0]=M;D[1]=U;D[2]=W;D[3]=J;D[4]=V;D[5]=fa;D[6]=
ua*M+Z*J+ha;D[7]=ua*U+Z*V+na;D[8]=ua*W+Z*fa+I;return D}function v(D,I,Z){const M=I[0],U=I[1],W=I[2],J=I[3],V=I[4],fa=I[5],ha=I[6],na=I[7];I=I[8];const ua=Math.sin(Z);Z=Math.cos(Z);D[0]=Z*M+ua*J;D[1]=Z*U+ua*V;D[2]=Z*W+ua*fa;D[3]=Z*J-ua*M;D[4]=Z*V-ua*U;D[5]=Z*fa-ua*W;D[6]=ha;D[7]=na;D[8]=I;return D}function e(D,I,Z){const M=Z[0],U=Z[1];Z=Z[2];D[0]=M*I[0];D[1]=M*I[1];D[2]=M*I[2];D[3]=U*I[3];D[4]=U*I[4];D[5]=U*I[5];D[6]=Z*I[6];D[7]=Z*I[7];D[8]=Z*I[8];return D}function d(D,I,Z){const M=Z[0];Z=Z[1];D[0]=
M*I[0];D[1]=M*I[1];D[2]=M*I[2];D[3]=Z*I[3];D[4]=Z*I[4];D[5]=Z*I[5];return D}function b(D,I){D[0]=1;D[1]=0;D[2]=0;D[3]=0;D[4]=1;D[5]=0;D[6]=I[0];D[7]=I[1];D[8]=1;return D}function t(D,I){const Z=Math.sin(I);I=Math.cos(I);D[0]=I;D[1]=Z;D[2]=0;D[3]=-Z;D[4]=I;D[5]=0;D[6]=0;D[7]=0;D[8]=1;return D}function C(D,I){D[0]=I[0];D[1]=0;D[2]=0;D[3]=0;D[4]=I[1];D[5]=0;D[6]=0;D[7]=0;D[8]=1;return D}function w(D,I){D[0]=I[0];D[1]=I[1];D[2]=0;D[3]=I[2];D[4]=I[3];D[5]=0;D[6]=I[4];D[7]=I[5];D[8]=1;return D}function l(D,
I){var Z=I[0],M=I[1],U=I[2];I=I[3];var W=Z+Z,J=M+M;const V=U+U;Z*=W;const fa=M*W;M*=J;const ha=U*W,na=U*J;U*=V;W*=I;J*=I;I*=V;D[0]=1-M-U;D[3]=fa-I;D[6]=ha+J;D[1]=fa+I;D[4]=1-Z-U;D[7]=na-W;D[2]=ha-J;D[5]=na+W;D[8]=1-Z-M;return D}function r(D,I){const Z=I[0],M=I[1],U=I[2],W=I[4],J=I[5],V=I[6],fa=I[8],ha=I[9];I=I[10];const na=I*J-V*ha,ua=-I*W+V*fa,xa=ha*W-J*fa;var sa=Z*na+M*ua+U*xa;if(!sa)return null;sa=1/sa;D[0]=na*sa;D[1]=(-I*M+U*ha)*sa;D[2]=(V*M-U*J)*sa;D[3]=ua*sa;D[4]=(I*Z-U*fa)*sa;D[5]=(-V*Z+U*
W)*sa;D[6]=xa*sa;D[7]=(-ha*Z+M*fa)*sa;D[8]=(J*Z-M*W)*sa;return D}function u(D,I){const Z=I[0],M=I[1],U=I[2],W=I[3],J=I[4],V=I[5],fa=I[6],ha=I[7];var na=I[8],ua=I[9],xa=I[10],sa=I[11];const a=I[12],g=I[13],K=I[14];I=I[15];const Q=Z*V-M*J,y=Z*fa-U*J,G=Z*ha-W*J,N=M*fa-U*V,R=M*ha-W*V,T=U*ha-W*fa,Y=na*g-ua*a,ca=na*K-xa*a;na=na*I-sa*a;const ia=ua*K-xa*g;ua=ua*I-sa*g;xa=xa*I-sa*K;sa=Q*xa-y*ua+G*ia+N*na-R*ca+T*Y;if(!sa)return null;sa=1/sa;D[0]=(V*xa-fa*ua+ha*ia)*sa;D[1]=(fa*na-J*xa-ha*ca)*sa;D[2]=(J*ua-V*
na+ha*Y)*sa;D[3]=(U*ua-M*xa-W*ia)*sa;D[4]=(Z*xa-U*na+W*ca)*sa;D[5]=(M*na-Z*ua-W*Y)*sa;D[6]=(g*T-K*R+I*N)*sa;D[7]=(K*G-a*T-I*y)*sa;D[8]=(a*R-g*G+I*Q)*sa;return D}function A(D,I,Z){D[0]=2/I;D[1]=0;D[2]=0;D[3]=0;D[4]=-2/Z;D[5]=0;D[6]=-1;D[7]=1;D[8]=1;return D}function x(D){return"mat3("+D[0]+", "+D[1]+", "+D[2]+", "+D[3]+", "+D[4]+", "+D[5]+", "+D[6]+", "+D[7]+", "+D[8]+")"}function E(D){return Math.sqrt(D[0]**2+D[1]**2+D[2]**2+D[3]**2+D[4]**2+D[5]**2+D[6]**2+D[7]**2+D[8]**2)}function S(D,I,Z){D[0]=
I[0]+Z[0];D[1]=I[1]+Z[1];D[2]=I[2]+Z[2];D[3]=I[3]+Z[3];D[4]=I[4]+Z[4];D[5]=I[5]+Z[5];D[6]=I[6]+Z[6];D[7]=I[7]+Z[7];D[8]=I[8]+Z[8];return D}function aa(D,I,Z){D[0]=I[0]-Z[0];D[1]=I[1]-Z[1];D[2]=I[2]-Z[2];D[3]=I[3]-Z[3];D[4]=I[4]-Z[4];D[5]=I[5]-Z[5];D[6]=I[6]-Z[6];D[7]=I[7]-Z[7];D[8]=I[8]-Z[8];return D}function da(D,I,Z){D[0]=I[0]*Z;D[1]=I[1]*Z;D[2]=I[2]*Z;D[3]=I[3]*Z;D[4]=I[4]*Z;D[5]=I[5]*Z;D[6]=I[6]*Z;D[7]=I[7]*Z;D[8]=I[8]*Z;return D}function ja(D,I,Z,M){D[0]=I[0]+Z[0]*M;D[1]=I[1]+Z[1]*M;D[2]=I[2]+
Z[2]*M;D[3]=I[3]+Z[3]*M;D[4]=I[4]+Z[4]*M;D[5]=I[5]+Z[5]*M;D[6]=I[6]+Z[6]*M;D[7]=I[7]+Z[7]*M;D[8]=I[8]+Z[8]*M;return D}function ba(D,I){return D[0]===I[0]&&D[1]===I[1]&&D[2]===I[2]&&D[3]===I[3]&&D[4]===I[4]&&D[5]===I[5]&&D[6]===I[6]&&D[7]===I[7]&&D[8]===I[8]}function ea(D,I){const Z=D[0],M=D[1],U=D[2],W=D[3],J=D[4],V=D[5],fa=D[6],ha=D[7];D=D[8];const na=I[0],ua=I[1],xa=I[2],sa=I[3],a=I[4],g=I[5],K=I[6],Q=I[7];I=I[8];return Math.abs(Z-na)<=c.EPSILON*Math.max(1,Math.abs(Z),Math.abs(na))&&Math.abs(M-
ua)<=c.EPSILON*Math.max(1,Math.abs(M),Math.abs(ua))&&Math.abs(U-xa)<=c.EPSILON*Math.max(1,Math.abs(U),Math.abs(xa))&&Math.abs(W-sa)<=c.EPSILON*Math.max(1,Math.abs(W),Math.abs(sa))&&Math.abs(J-a)<=c.EPSILON*Math.max(1,Math.abs(J),Math.abs(a))&&Math.abs(V-g)<=c.EPSILON*Math.max(1,Math.abs(V),Math.abs(g))&&Math.abs(fa-K)<=c.EPSILON*Math.max(1,Math.abs(fa),Math.abs(K))&&Math.abs(ha-Q)<=c.EPSILON*Math.max(1,Math.abs(ha),Math.abs(Q))&&Math.abs(D-I)<=c.EPSILON*Math.max(1,Math.abs(D),Math.abs(I))}function oa(D){const I=
c.EPSILON,Z=D[0],M=D[1],U=D[2],W=D[3],J=D[4],V=D[5],fa=D[6],ha=D[7];D=D[8];return Math.abs(1-(Z*Z+W*W+fa*fa))<=I&&Math.abs(1-(M*M+J*J+ha*ha))<=I&&Math.abs(1-(U*U+V*V+D*D))<=I}var wa=Object.freeze({__proto__:null,fromMat4:p,copy:f,set:q,identity:z,transpose:B,invert:H,adjoint:F,determinant:m,multiply:k,translate:n,rotate:v,scale:e,scaleByVec2:d,fromTranslation:b,fromRotation:t,fromScaling:C,fromMat2d:w,fromQuat:l,normalFromMat4Legacy:r,normalFromMat4:u,projection:A,str:x,frob:E,add:S,subtract:aa,multiplyScalar:da,
multiplyScalarAndAdd:ja,exactEquals:ba,equals:ea,isOrthoNormal:oa,mul:k,sub:aa});h.add=S;h.adjoint=F;h.copy=f;h.determinant=m;h.equals=ea;h.exactEquals=ba;h.frob=E;h.fromMat2d=w;h.fromMat4=p;h.fromQuat=l;h.fromRotation=t;h.fromScaling=C;h.fromTranslation=b;h.identity=z;h.invert=H;h.isOrthoNormal=oa;h.mat3=wa;h.mul=k;h.multiply=k;h.multiplyScalar=da;h.multiplyScalarAndAdd=ja;h.normalFromMat4=u;h.normalFromMat4Legacy=r;h.projection=A;h.rotate=v;h.scale=e;h.scaleByVec2=d;h.set=q;h.str=x;h.sub=aa;h.subtract=
aa;h.translate=n;h.transpose=B})},"esri/chunks/mat3f32":function(){define(["exports"],function(h){function c(){const B=new Float32Array(9);B[0]=1;B[4]=1;B[8]=1;return B}function p(B){const H=new Float32Array(9);H[0]=B[0];H[1]=B[1];H[2]=B[2];H[3]=B[3];H[4]=B[4];H[5]=B[5];H[6]=B[6];H[7]=B[7];H[8]=B[8];return H}function f(B,H,F,m,k,n,v,e,d){const b=new Float32Array(9);b[0]=B;b[1]=H;b[2]=F;b[3]=m;b[4]=k;b[5]=n;b[6]=v;b[7]=e;b[8]=d;return b}function q(B,H){return new Float32Array(B,H,9)}var z=Object.freeze({__proto__:null,
create:c,clone:p,fromValues:f,createView:q});h.clone=p;h.create=c;h.createView=q;h.fromValues=f;h.mat3f32=z})},"esri/chunks/vec2f32":function(){define(["exports"],function(h){function c(){return new Float32Array(2)}function p(d){const b=new Float32Array(2);b[0]=d[0];b[1]=d[1];return b}function f(d,b){const t=new Float32Array(2);t[0]=d;t[1]=b;return t}function q(d,b){return new Float32Array(d,b,2)}function z(){return c()}function B(){return f(1,1)}function H(){return f(1,0)}function F(){return f(0,
1)}const m=c(),k=B(),n=H(),v=F();var e=Object.freeze({__proto__:null,create:c,clone:p,fromValues:f,createView:q,zeros:z,ones:B,unitX:H,unitY:F,ZEROS:m,ONES:k,UNIT_X:n,UNIT_Y:v});h.ONES=k;h.UNIT_X=n;h.UNIT_Y=v;h.ZEROS=m;h.clone=p;h.create=c;h.createView=q;h.fromValues=f;h.ones=B;h.unitX=H;h.unitY=F;h.vec2f32=e;h.zeros=z})},"esri/core/libs/gl-matrix-2/types/vec2":function(){define(["exports"],function(h){function c(f){return f instanceof Float32Array&&2<=f.length}function p(f){return Array.isArray(f)&&
2<=f.length}h.isVec2=function(f){return c(f)||p(f)};h.isVec2f32=c;h.isVec2f64=p;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/2d/tiling/PagedTileQueue":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/Logger ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../chunks/vec2 ../../support/QueueProcessor".split(" "),
function(h,c,p,f,q,z,B,H,F,m,k){function n(t,C){t.length=0;C.forEach(w=>t.push(w));return t}const v=new Set,e=[],d=new Map,b=[0,0];p=function(t){function C(l){l=t.call(this,l)||this;l._keyToItem=new Map;l.concurrency=6;l.strategy="scale-first";l.tileInfoView=null;return l}h._inheritsLoose(C,t);var w=C.prototype;w.initialize=function(){const {concurrency:l,process:r}=this;this._queue=new k.QueueProcessor({concurrency:l,process:(u,A)=>{u=this._keyToItem.get(u);return r(u,{signal:A})},peeker:u=>u.values().next().value})};
w.destroy=function(){this.clear();this._queue.destroy();this._queue=null};w.abort=function(l){this._queue.abort("string"===typeof l?l:l.id)};w.clear=function(){this._queue.clear();this._keyToItem.clear();this.notifyChange("updating")};w.has=function(l){return"string"===typeof l?this._keyToItem.has(l):this._keyToItem.has(l.id)};w.isOngoing=function(l){l="string"===typeof l?l:l.id;return this.has(l)&&this._queue.isOngoing(l)};w.pause=function(){this._queue.pause()};w.push=function(l,r){const u=l.key.id+
"-"+r;if(this.has(u))return this.get(u);r=this._queue.push(u);const A=()=>{this._keyToItem.delete(u);this.notifyChange("updating")};this._keyToItem.set(u,l);r.then(A,A);this.notifyChange("updating");return r};w.reset=function(){this._queue.reset();this.notifyChange("updating")};w.resume=function(){this._queue.resume()};w._peekByScaleFirst=function(l){if(!this.state)return l.values().next().value;const r=this.tileInfoView;let u=Number.NEGATIVE_INFINITY,A=Number.POSITIVE_INFINITY;l.forEach(da=>{da=
this._keyToItem.get(da);const ja=this.tileInfoView.getTileScale(da.key);d.has(ja)||(d.set(ja,[]),u=Math.max(ja,u),A=Math.min(ja,A));d.get(ja).push(da.key);v.add(ja)});let x=this.state.scale;d.has(x)||(n(e,v),e.sort(),x=e.reduce((da,ja)=>Math.abs(ja-x)<Math.abs(da-x)?ja:da,e[0]));x=Math.min(x,u);x=Math.max(x,A);l=d.get(x);const E=r.getClosestInfoForScale(x),S=E.getColumnForX(this.state.center[0]),aa=E.getRowForY(this.state.center[1]);l.sort((da,ja)=>{const ba=E.denormalizeCol(da.col,da.world),ea=E.denormalizeCol(ja.col,
ja.world);return Math.sqrt((S-ba)*(S-ba)+(aa-da.row)*(aa-da.row))-Math.sqrt((S-ea)*(S-ea)+(aa-ja.row)*(aa-ja.row))});v.clear();d.clear();return l[0].id};w._peekByCenterFirst=function(l){if(!this.state)return l.values().next().value;const r=this.tileInfoView,u=this.state.center;let A=Number.POSITIVE_INFINITY,x=null;l.forEach(E=>{E=this._keyToItem.get(E);r.getTileCoords(b,E.key);const S=m.distance(b,u);S<A&&(A=S,x=E.key)});return x.id};h._createClass(C,[{key:"length",get:function(){return this._queue?
this._queue.length:0}},{key:"onGoingCount",get:function(){return this._keyToItem.size}},{key:"updating",get:function(){return 0<this.length||0<this.onGoingCount}}]);return C}(p);c.__decorate([f.property({constructOnly:!0})],p.prototype,"concurrency",void 0);c.__decorate([f.property({constructOnly:!0})],p.prototype,"process",void 0);c.__decorate([f.property()],p.prototype,"state",void 0);c.__decorate([f.property({constructOnly:!0})],p.prototype,"strategy",void 0);c.__decorate([f.property({constructOnly:!0})],
p.prototype,"tileInfoView",void 0);c.__decorate([f.property({readOnly:!0})],p.prototype,"updating",null);return p=c.__decorate([F.subclass("esri.views.2d.tiling.PagedTileQueue")],p)})},"esri/views/support/QueueProcessor":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/maybe ../../core/promiseUtils ../../core/Queue ../../core/scheduling".split(" "),function(h,c,p,f,q,z){let B=function(F,m){this.item=F;this.controller=m;this.promise=null},H=function(){function F(k){this._deferreds=
new Map;this._controllers=new Map;this._processingItems=new Map;this._isPaused=!1;this._task=this._schedule=null;this.concurrency=1;k.concurrency&&(this.concurrency=k.concurrency);this._queue=new q(k.peeker);this.process=k.process;const n=k.scheduler;k.priority&&p.isSome(n)&&(this._task=n.registerTask(k.priority,this))}var m=F.prototype;m.destroy=function(){this.clear();this._schedule&&(this._schedule.remove(),this._schedule=null);this._task&&(this._task.remove(),this._task=null)};m.abort=function(k){(k=
this._controllers.get(k))&&k.abort()};m.clear=function(){this._queue.clear();const k=[];this._controllers.forEach(n=>k.push(n));this._controllers.clear();k.forEach(n=>n.abort());this._processingItems.clear();this._cancelNext()};m.forEach=function(k){this._deferreds.forEach((n,v)=>k(v))};m.get=function(k){return(k=this._deferreds.get(k))?k.promise:void 0};m.isOngoing=function(k){return this._processingItems.has(k)};m.has=function(k){return this._deferreds.has(k)};m.pause=function(){this._isPaused||
(this._isPaused=!0,this._cancelNext())};m.push=function(k,n){const v=this.get(k);if(v)return v;const e=f.createAbortController();let d=null;n&&(d=f.onAbort(n,()=>e.abort()));const b=()=>{t.remove();p.isSome(d)&&d.remove();this._deferreds.delete(k);this._controllers.delete(k);this._queue.remove(k);this._processingItems.delete(k);this._scheduleNext()},t=f.onAbortOrThrow(e.signal,()=>{const w=this._processingItems.get(k);w&&w.controller.abort();b();C.reject(f.createAbortError())}),C=f.createDeferred();
this._deferreds.set(k,C);this._controllers.set(k,e);C.promise.then(b,b);this._queue.push(k);this._scheduleNext();return C.promise};m.last=function(){return this._queue.last()};m.peek=function(){return this._queue.peek()};m.popLast=function(){return this._queue.popLast()};m.reset=function(){const k=[];this._processingItems.forEach(n=>k.push(n));this._processingItems.clear();for(const n of k)this._queue.push(n.item),n.controller.abort();this._scheduleNext()};m.resume=function(){this._isPaused&&(this._isPaused=
!1,this._scheduleNext())};m.takeAll=function(){const k=[];for(;this._queue.length;)k.push(this._queue.pop());this.clear();return k};m.runTask=function(k){for(;!k.done&&0<this._queue.length&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),k.madeProgress()};m._scheduleNext=function(){this._task||this._isPaused||this._schedule||(this._schedule=z.schedule(()=>{this._schedule=null;this._next()}))};m._next=function(){for(;0<this._queue.length&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())};
m._cancelNext=function(){this._schedule&&(this._schedule.remove(),this._schedule=null)};m._processResult=function(k,n){this._canProcessFulfillment(k)&&(this._scheduleNext(),this._deferreds.get(k.item).resolve(n))};m._processError=function(k,n){this._canProcessFulfillment(k)&&(this._scheduleNext(),this._deferreds.get(k.item).reject(n))};m._canProcessFulfillment=function(k){return this._deferreds.get(k.item)&&this._processingItems.get(k.item)===k?!0:!1};m._process=function(k){if(!p.isNone(k)){var n=
f.createAbortController(),v=new B(k,n);this._processingItems.set(k,v);try{var e=this.process(k,n.signal)}catch(d){this._processError(v,d)}f.isPromiseLike(e)?(v.promise=e,e.then(d=>this._processResult(v,d),d=>this._processError(v,d))):this._processResult(v,e)}};c._createClass(F,[{key:"length",get:function(){return this._processingItems.size+this._queue.length}},{key:"running",get:function(){return!this._isPaused&&0<this._queue.length&&this._processingItems.size<this.concurrency}},{key:"test",get:function(){return{update:k=>
this.runTask(k)}}}]);return F}();h.QueueProcessor=H;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/2d/tiling/TileInfoView":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../geometry/support/spatialReferenceUtils ./LODInfo ./TileCoverage ./TileKey ./TileSpan".split(" "),function(h,c,p,f,q,z){const B=new q("0/0/0/0");let H=function(){function m(n,v,e,d,b,t,C,w){this.x=n;this.ymin=v;this.ymax=e;this.invM=d;this.leftAdjust=b;this.rightAdjust=t;this.leftBound=C;this.rightBound=
w}m.create=function(n,v){n[1]>v[1]&&([n,v]=[v,n]);const [e,d]=n,[b,t]=v;n=b-e;v=t-d;v=0!==v?n/v:0;const C=(Math.ceil(d)-d)*v,w=(Math.floor(d)-d)*v;return new m(e,Math.floor(d),Math.ceil(t),v,0>n?C:w,0>n?w:C,0>n?b:e,0>n?e:b)};var k=m.prototype;k.incrRow=function(){this.x+=this.invM};k.getLeftCol=function(){return Math.max(this.x+this.leftAdjust,this.leftBound)};k.getRightCol=function(){return Math.min(this.x+this.rightAdjust,this.rightBound)};return m}();const F=[[0,0],[0,0],[0,0],[0,0]];return function(){function m(n,
v){this.tileInfo=n;this.fullExtent=v;this.scales=[];this._lodInfos=null;this._infoByScale={};this._infoByLevel={};const e=n.lods.slice();e.sort(function(b,t){return t.scale-b.scale});const d=this._lodInfos=e.map(b=>p.create(n,b,v));e.forEach((b,t)=>{this._infoByLevel[b.level]=d[t];this._infoByScale[b.scale]=d[t];this.scales[t]=b.scale},this);this._wrap=n.isWrappable}var k=m.prototype;k.getLODInfoAt=function(n){return this._infoByLevel["number"===typeof n?n:n.level]};k.getTileBounds=function(n,v,e=
!1){B.set(v);return(v=this._infoByLevel[B.level])?v.getTileBounds(n,B,e):n};k.getTileCoords=function(n,v,e=!1){B.set(v);return(v=this._infoByLevel[B.level])?v.getTileCoords(n,B,e):n};k.getTileCoverage=function(n,v=192,e="closest"){e="closest"===e?this.getClosestInfoForScale(n.scale):this.getSmallestInfoForScale(n.scale);const d=f.pool.acquire(e),b=this._wrap;var t=Infinity;let C=-Infinity;const w=d.spans;F[0][0]=F[0][1]=F[1][1]=F[3][0]=-v;F[1][0]=F[2][0]=n.size[0]+v;F[2][1]=F[3][1]=n.size[1]+v;for(l of F)n.toMap(l,
l),l[0]=e.getColumnForX(l[0]),l[1]=e.getRowForY(l[1]);n=[];var l=3;for(v=0;4>v;v++)F[v][1]===F[l][1]?l=v:(l=H.create(F[v],F[l]),t=Math.min(l.ymin,t),C=Math.max(l.ymax,C),void 0===n[l.ymin]&&(n[l.ymin]=[]),n[l.ymin].push(l),l=v);if(null==t||null==C||100<C-t)return null;for(v=[];t<C;){null!=n[t]&&(v=v.concat(n[t]));l=Infinity;var r=-Infinity;for(var u=v.length-1;0<=u;u--){var A=v[u];l=Math.min(l,A.getLeftCol());r=Math.max(r,A.getRightCol())}l=Math.floor(l);r=Math.floor(r);if(t>=e.first[1]&&t<=e.last[1])if(b)if(e.size[0]<
e.worldSize[0])for(u=Math.floor(r/e.worldSize[0]),A=Math.floor(l/e.worldSize[0]);A<=u;A++)w.push(new z(t,Math.max(e.getFirstColumnForWorld(A),l),Math.min(e.getLastColumnForWorld(A),r)));else w.push(new z(t,l,r));else l>e.last[0]||r<e.first[0]||(l=Math.max(l,e.first[0]),r=Math.min(r,e.last[0]),w.push(new z(t,l,r)));t+=1;for(l=v.length-1;0<=l;l--)r=v[l],r.ymax>=t?r.incrRow():v.splice(l,1)}return d};k.getTileParentId=function(n){B.set(n);n=this._lodInfos.indexOf(this._infoByLevel[B.level])-1;if(0>n)return null;
this._getTileIdAtLOD(B,this._lodInfos[n],B);return B.id};k.getTileResolution=function(n){return(n=this._infoByLevel["object"===typeof n?n.level:n])?n.resolution:-1};k.getTileScale=function(n){return(n=this._infoByLevel[n.level])?n.scale:-1};k.intersects=function(n,v){B.set(v);v=this._infoByLevel[B.level];const e=n.lodInfo;if(e.resolution>v.resolution){this._getTileIdAtLOD(B,e,B);var d=e.denormalizeCol(B.col,B.world);for(var b of n.spans)if(b.row===B.row&&b.colFrom<=d&&b.colTo>=d)return!0}if(e.resolution<
v.resolution){const [C,w,l,r]=n.spans.reduce((u,A)=>{u[0]=Math.min(u[0],A.row);u[1]=Math.max(u[1],A.row);u[2]=Math.min(u[2],A.colFrom);u[3]=Math.max(u[3],A.colTo);return u},[Infinity,-Infinity,Infinity,-Infinity]);d=v.denormalizeCol(B.col,B.world);n=e.getColumnForX(v.getXForColumn(d));b=e.getRowForY(v.getYForRow(B.row));d=e.getColumnForX(v.getXForColumn(d+1))-1;v=e.getRowForY(v.getYForRow(B.row+1))-1;return!(n>r||d<l||b>w||v<C)}const t=e.denormalizeCol(B.col,B.world);return n.spans.some(C=>C.row===
B.row&&C.colFrom<=t&&C.colTo>=t)};k.normalizeBounds=function(n,v,e){n[0]=v[0];n[1]=v[1];n[2]=v[2];n[3]=v[3];this._wrap&&(v=c.getInfo(this.tileInfo.spatialReference),e=-e*(v.valid[1]-v.valid[0]),n[0]+=e,n[2]+=e);return n};k.getSmallestInfoForScale=function(n){const v=this.scales;if(this._infoByScale[n])return this._infoByScale[n];if(n>v[0])return this._infoByScale[v[0]];for(let e=1;e<v.length-1;e++)if(n>v[e]+1E-6)return this._infoByScale[v[e-1]];return this._infoByScale[v[v.length-1]]};k.getClosestInfoForScale=
function(n){const v=this.scales;if(this._infoByScale[n])return this._infoByScale[n];n=v.reduce((e,d)=>Math.abs(d-n)<Math.abs(e-n)?d:e,v[0]);return this._infoByScale[n]};k.scaleToLevel=function(n){const v=this.scales;if(this._infoByScale[n])return this._infoByScale[n].level;for(let e=v.length-1;0<=e;e--)if(n<v[e])return e===v.length-1?this._infoByScale[v[v.length-1]].level:this._infoByScale[v[e]].level+(v[e]-n)/(v[e]-v[e+1]);return this._infoByScale[v[0]].level};k.scaleToZoom=function(n){return this.tileInfo.scaleToZoom(n)};
k._getTileIdAtLOD=function(n,v,e){const d=this._infoByLevel[e.level];n.set(e);if(v.resolution<d.resolution)return null;if(v.resolution===d.resolution)return n;n.level=v.level;n.col=Math.floor(e.col*d.resolution/v.resolution+.01);n.row=Math.floor(e.row*d.resolution/v.resolution+.01);return n};h._createClass(m,[{key:"spatialReference",get:function(){return this.tileInfo.spatialReference}}]);return m}()})},"esri/views/2d/tiling/LODInfo":function(){define(["../../../geometry/support/spatialReferenceUtils",
"./TileKey"],function(h,c){function p(q,z,B){q[0]=z;q[1]=B;return q}const f=new c("0/0/0/0");return function(){function q(B,H,F,m,k,n,v,e,d,b,t,C){this.level=B;this.resolution=H;this.scale=F;this.origin=m;this.first=k;this.last=n;this.size=v;this.norm=e;this.worldStart=d;this.worldEnd=b;this.worldSize=t;this.wrap=C}q.create=function(B,H,F){var m=h.getInfo(B.spatialReference);const k=[B.origin.x,B.origin.y],n=[B.size[0]*H.resolution,B.size[1]*H.resolution],v=[-Infinity,-Infinity],e=[Infinity,Infinity],
d=[Infinity,Infinity];F&&(p(v,Math.max(0,Math.floor((F.xmin-k[0])/n[0])),Math.max(0,Math.floor((k[1]-F.ymax)/n[1]))),p(e,Math.max(0,Math.floor((F.xmax-k[0])/n[0])),Math.max(0,Math.floor((k[1]-F.ymin)/n[1]))),p(d,e[0]-v[0]+1,e[1]-v[1]+1));let b;B.isWrappable?(B=[Math.ceil(Math.round((m.valid[1]-m.valid[0])/H.resolution)/B.size[0]),d[1]],m=[Math.floor((m.origin[0]-k[0])/n[0]),v[1]],F=[B[0]+m[0]-1,e[1]],b=!0):(m=v,F=e,B=d,b=!1);return new q(H.level,H.resolution,H.scale,k,v,e,d,n,m,F,B,b)};var z=q.prototype;
z.normalizeCol=function(B){if(!this.wrap)return B;const H=this.worldSize[0];return 0>B?H-1-Math.abs((B+1)%H):B%H};z.denormalizeCol=function(B,H){return this.wrap?this.worldSize[0]*H+B:B};z.getWorldForColumn=function(B){return this.wrap?Math.floor(B/this.worldSize[0]):0};z.getFirstColumnForWorld=function(B){return B*this.worldSize[0]+this.first[0]};z.getLastColumnForWorld=function(B){return B*this.worldSize[0]+this.first[0]+this.size[0]-1};z.getColumnForX=function(B){return(B-this.origin[0])/this.norm[0]};
z.getXForColumn=function(B){return this.origin[0]+B*this.norm[0]};z.getRowForY=function(B){return(this.origin[1]-B)/this.norm[1]};z.getYForRow=function(B){return this.origin[1]-B*this.norm[1]};z.getTileBounds=function(B,H,F=!1){f.set(H);var m=F?f.col:this.denormalizeCol(f.col,f.world),k=f.row;H=this.getXForColumn(m);F=this.getYForRow(k+1);m=this.getXForColumn(m+1);k=this.getYForRow(k);B[0]=H;B[1]=F;B[2]=m;B[3]=k;return B};z.getTileCoords=function(B,H,F=!1){f.set(H);H=F?f.col:this.denormalizeCol(f.col,
f.world);Array.isArray(B)?p(B,this.getXForColumn(H),this.getYForRow(f.row)):(B.x=this.getXForColumn(H),B.y=this.getYForRow(f.row));return B};return q}()})},"esri/views/2d/tiling/TileKey":function(){define(["../../../chunks/_rollupPluginBabelHelpers","../../../core/ObjectPool"],function(h,c){let p=function(){function f(z,B,H,F){this.set(z,B,H,F)}f.getId=function(z,B,H,F){return"object"===typeof z?`${z.level}/${z.row}/${z.col}/${z.world}`:`${z}/${B}/${H}/${F}`};var q=f.prototype;q.acquire=function(z,
B,H,F){this.set(z,B,H,F)};q.contains=function(z){const B=z.level-this.level;return this.row===z.row>>B&&this.col===z.col>>B&&this.world===z.world};q.equals=function(z){return this.level===z.level&&this.row===z.row&&this.col===z.col&&this.world===z.world};q.clone=function(){return new f(this)};q.release=function(){this.world=this.col=this.row=this.level=0};q.set=function(z,B,H,F){if(null==z)this.world=this.col=this.row=this.level=0;else if("object"===typeof z)this.level=z.level||0,this.row=z.row||
0,this.col=z.col||0,this.world=z.world||0;else if("string"===typeof z){const [m,k,n,v]=z.split("/");this.level=parseFloat(m);this.row=parseFloat(k);this.col=parseFloat(n);this.world=parseFloat(v)}else this.level=+z,this.row=+B,this.col=+H,this.world=+F||0;return this};q.toString=function(){return`${this.level}/${this.row}/${this.col}/${this.world}`};q.getParentKey=function(){return 0>=this.level?null:new f(this.level-1,this.row>>1,this.col>>1,this.world)};q.getChildKeys=function(){const z=this.level+
1,B=this.row<<1,H=this.col<<1,F=this.world;return[new f(z,B,H,F),new f(z,B,H+1,F),new f(z,B+1,H,F),new f(z,B+1,H+1,F)]};q.compareRowMajor=function(z){return this.row<z.row?-1:this.row>z.row?1:this.col<z.col?-1:this.col>z.col?1:0};h._createClass(f,[{key:"key",get:function(){return this}},{key:"id",get:function(){return this.toString()},set:function(z){this.set(z)}}]);return f}();p.pool=new c(p,null,null,25,50);return p})},"esri/views/2d/tiling/TileCoverage":function(){define(["../../../core/ObjectPool"],
function(h){let c=function(){function p(){this.spans=[]}var f=p.prototype;f.acquire=function(q){this.lodInfo=q};f.release=function(){this.lodInfo=null;this.spans.length=0};f.forEach=function(q,z){const {spans:B,lodInfo:H}=this,{level:F}=H;if(0!==B.length)for(const {row:m,colFrom:k,colTo:n}of B)for(let v=k;v<=n;v++)q.call(z,F,m,H.normalizeCol(v),H.getWorldForColumn(v))};return p}();c.pool=new h(c);return c})},"esri/views/2d/tiling/TileSpan":function(){define(function(){return function(h,c,p){this.row=
h;this.colFrom=c;this.colTo=p}})},"esri/views/2d/tiling/TileQueue":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/Logger ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../chunks/vec2 ../../support/QueueProcessor".split(" "),function(h,c,p,f,q,z,B,H,F,m,k){function n(t,C){t.length=0;C.forEach(w=>
t.push(w));return t}const v=new Set,e=[],d=new Map,b=[0,0];p=function(t){function C(l){l=t.call(this,l)||this;l._keyToItem=new Map;l.concurrency=6;l.strategy="scale-first";l.tileInfoView=null;return l}h._inheritsLoose(C,t);var w=C.prototype;w.initialize=function(){const {concurrency:l,process:r,strategy:u}=this;this._queue=new k.QueueProcessor({concurrency:l,process:(A,x)=>{A=this._keyToItem.get(A);return r(A,{signal:x})},peeker:"scale-first"===u?A=>this._peekByScaleFirst(A):A=>this._peekByCenterFirst(A)})};
w.destroy=function(){this.clear();this._queue.destroy();this._queue=null};w.abort=function(l){this._queue.abort("string"===typeof l?l:l.id)};w.clear=function(){this._queue.clear();this._keyToItem.clear();this.notifyChange("updating")};w.has=function(l){return"string"===typeof l?this._keyToItem.has(l):this._keyToItem.has(l.id)};w.isOngoing=function(l){l="string"===typeof l?l:l.id;return this.has(l)&&this._queue.isOngoing(l)};w.pause=function(){this._queue.pause()};w.push=function(l){const r=l.key.id;
if(this._queue.has(r))return this._queue.get(r);const u=this._queue.push(r),A=()=>{this._keyToItem.delete(r);this.notifyChange("updating")};this._keyToItem.set(r,l);u.then(A,A);this.notifyChange("updating");return u};w.reset=function(){this._queue.reset()};w.resume=function(){this._queue.resume()};w._peekByScaleFirst=function(l){if(!this.state)return l.values().next().value;const r=this.tileInfoView;let u=Number.NEGATIVE_INFINITY,A=Number.POSITIVE_INFINITY;l.forEach(da=>{da=this._keyToItem.get(da);
const ja=this.tileInfoView.getTileScale(da.key);d.has(ja)||(d.set(ja,[]),u=Math.max(ja,u),A=Math.min(ja,A));d.get(ja).push(da.key);v.add(ja)});let x=this.state.scale;d.has(x)||(n(e,v),e.sort(),x=e.reduce((da,ja)=>Math.abs(ja-x)<Math.abs(da-x)?ja:da,e[0]));x=Math.min(x,u);x=Math.max(x,A);l=d.get(x);const E=r.getClosestInfoForScale(x),S=E.getColumnForX(this.state.center[0]),aa=E.getRowForY(this.state.center[1]);l.sort((da,ja)=>{const ba=E.denormalizeCol(da.col,da.world),ea=E.denormalizeCol(ja.col,ja.world);
return Math.sqrt((S-ba)*(S-ba)+(aa-da.row)*(aa-da.row))-Math.sqrt((S-ea)*(S-ea)+(aa-ja.row)*(aa-ja.row))});v.clear();d.clear();return l[0].id};w._peekByCenterFirst=function(l){if(!this.state)return l.values().next().value;const r=this.tileInfoView,u=this.state.center;let A=Number.POSITIVE_INFINITY,x=null;l.forEach(E=>{E=this._keyToItem.get(E);r.getTileCoords(b,E.key);const S=m.distance(b,u);S<A&&(A=S,x=E.key)});return x.id};h._createClass(C,[{key:"length",get:function(){return this._queue?this._queue.length:
0}},{key:"onGoingCount",get:function(){return this._keyToItem.size}},{key:"updating",get:function(){return 0<this.length||0<this.onGoingCount}}]);return C}(p);c.__decorate([f.property({constructOnly:!0})],p.prototype,"concurrency",void 0);c.__decorate([f.property({constructOnly:!0})],p.prototype,"process",void 0);c.__decorate([f.property()],p.prototype,"state",void 0);c.__decorate([f.property({constructOnly:!0})],p.prototype,"strategy",void 0);c.__decorate([f.property({constructOnly:!0})],p.prototype,
"tileInfoView",void 0);c.__decorate([f.property({readOnly:!0})],p.prototype,"updating",null);return p=c.__decorate([F.subclass("esri.views.2d.tiling.TileQueue")],p)})},"esri/views/2d/tiling/TileStrategy":function(){define(["./TileCache","./TileCoverage","./TileKey"],function(h,c,p){const f=new p(0,0,0,0),q=new Map,z=[],B=[];return function(){function H(m){this._previousScale=Number.POSITIVE_INFINITY;this.cachePolicy="keep";this.coveragePolicy="closest";this.resampling=!0;this.tileIndex=new Map;this.tiles=
[];this.buffer=192;this.acquireTile=m.acquireTile;this.releaseTile=m.releaseTile;this.tileInfoView=m.tileInfoView;this.resampling=null==m.resampling||!!m.resampling;m.cachePolicy&&(this.cachePolicy=m.cachePolicy);m.coveragePolicy&&(this.coveragePolicy=m.coveragePolicy);null!=m.buffer&&(this.buffer=m.buffer);m.cacheSize&&(this._tileCache=new h(m.cacheSize,this.tileInfoView,k=>{this.releaseTile(k)}))}var F=H.prototype;F.destroy=function(){this.tileIndex.clear()};F.update=function(m){const {resampling:k,
tileIndex:n}=this,v=this.tileInfoView.getTileCoverage(m.state,this.buffer,this.coveragePolicy);B.length=0;z.length=0;q.clear();if(v){var {minScale:e,maxScale:d}=this.tileInfoView.tileInfo,{spans:b,lodInfo:t}=v,{level:C}=t,{scale:w,center:l,resolution:r}=m.state,u=!m.stationary&&w>this._previousScale;this._previousScale=w;this.tiles.length=0;if(!k&&(w>e||w<d))return this.tiles.length=0,q.clear(),n.forEach(aa=>{this.releaseTile(aa)}),n.clear(),B.length=0,z.length=0,q.clear(),c.pool.release(v),!0;n.forEach(aa=>
aa.visible=!0);var A=m=0;if(0<b.length)for(const {row:aa,colFrom:da,colTo:ja}of b)for(let ba=da;ba<=ja;ba++){m++;const ea=f.set(C,aa,t.normalizeCol(ba),t.getWorldForColumn(ba)).id;if(n.has(ea)){var x=n.get(ea);x.isReady?(q.set(ea,x),A++):u||this._addParentTile(ea,q)}else{if(this._tileCache&&this._tileCache.has(ea)){if(x=this._tileCache.pop(ea),this.tileIndex.set(ea,x),x.isReady){q.set(ea,x);A++;continue}}else x=this.acquireTile(f),this.tileIndex.set(ea,x);u||this._addParentTile(ea,q)}}var E=A===m;
n.forEach((aa,da)=>{f.set(da);if(!q.has(da)){var ja=this.tileInfoView.intersects(v,f),ba="purge"===this.cachePolicy?f.level!==C:f.level>C;!ja||!u&&E?!ba&&ja||z.push(da):aa.isReady?B.push(da):ba&&z.push(da)}});for(var S of B)(m=n.get(S))&&m.isReady&&q.set(S,m);for(const aa of z)S=n.get(aa),this._tileCache?this._tileCache.add(S):this.releaseTile(S),n.delete(aa);q.forEach(aa=>this.tiles.push(aa));n.forEach(aa=>{q.has(aa.key.id)||(aa.visible=!1)});this._tileCache&&this._tileCache.prune(C,l,r);c.pool.release(v);
q.clear();return E}};F.clear=function(m=!0){const {tileIndex:k}=this;m&&k.forEach(n=>{this.releaseTile(n)});k.clear()};F.updateCacheSize=function(m){this._tileCache&&(this._tileCache.maxSize=m)};F._addParentTile=function(m,k){let n=null;for(;;){m=this.tileInfoView.getTileParentId(m);if(!m)break;if(this.tileIndex.has(m)){if((n=this.tileIndex.get(m))&&n.isReady){k.has(n.key.id)||k.set(n.key.id,n);break}}else if(this._tileCache&&this._tileCache.has(m)&&(n=this._tileCache.pop(m),this.tileIndex.set(m,
n),n&&n.isReady)){k.has(n.key.id)||k.set(n.key.id,n);break}}};return H}()})},"esri/views/2d/tiling/TileCache":function(){define(["../../../chunks/vec2"],function(h){return function(){function c(f,q,z){this.maxSize=f;this.tileInfoView=q;this.removedFunc=z;this._tilePerId=new Map;this._tileKeysPerLevel=[]}var p=c.prototype;p.has=function(f){return this._tilePerId.has(f)};p.get=function(f){return this._tilePerId.get(f)};p.pop=function(f){const q=this._tilePerId.get(f);if(!q)return null;const z=this._tileKeysPerLevel[q.key.level];
this._tilePerId["delete"](f);for(let B=0;B<z.length;B++)if(z[B].id===f){z.splice(B,1);break}q.visible=!0;return q};p.add=function(f){f.visible=!1;const q=f.key,z=q.id;this._tilePerId.has(z)||(this._tilePerId.set(z,f),f=q.level,this._tileKeysPerLevel[f]||(this._tileKeysPerLevel[f]=[]),this._tileKeysPerLevel[f].push(q))};p.prune=function(f,q,z){let B=this._tilePerId.size;if(!(B<=this.maxSize)){for(var H=this._tileKeysPerLevel.length-1;B>this.maxSize&&0<=H;)H!==f&&(B=this._pruneAroundCenterTile(B,q,
z,H)),H--;B>this.maxSize&&(B=this._pruneAroundCenterTile(B,q,z,f))}};p._pruneAroundCenterTile=function(f,q,z,B){B=this._tileKeysPerLevel[B];if(!B||0===B.length)return f;const {size:H,origin:F}=this.tileInfoView.tileInfo,m=z*H[0],k=z*H[1],n=[0,0],v=[0,0];for(B.sort((e,d)=>{n[0]=F.x+m*(e.col+.5);n[1]=F.y-k*(e.row+.5);v[0]=F.x+m*(d.col+.5);v[1]=F.y-k*(d.row+.5);return h.squaredDistance(n,q)-h.squaredDistance(v,q)});0<B.length&&(z=B.pop(),this._removeTile(z.id),f--,f!==this.maxSize););return f};p._removeTile=
function(f){const q=this._tilePerId.get(f);this.removedFunc&&this.removedFunc(q);this._tilePerId["delete"](f)};return c}()})},"esri/views/2d/support/Timeline":function(){define(["exports"],function(h){let c=function(){function p(){this._names=new Map}var f=p.prototype;f.begin=function(q){this._names.has(q)||(this._names.set(q,!1),-1!==q.indexOf("Brush")&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${q}.Start`))};f.end=function(q){this._names.has(q)&&!this._names.get(q)&&(this._names.set(q,
!0),performance.mark(`Esri.${q}.End`))};f.record=function(q){this._names.has(q)||(this._names.set(q,!0),performance.mark(`Esri.${q}`))};return p}();h.Timeline=c;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/2d/input/MapViewInputManager":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/Handles ../../../core/watchUtils ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/Logger ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ./handlers/DoubleClickZoom ./handlers/DoubleTapDragZoom ./handlers/DragPan ./handlers/DragRotate ./handlers/GamepadNavigation ./handlers/KeyPan ./handlers/KeyRotate ./handlers/KeyZoom ./handlers/MouseWheelZoom ./handlers/PinchAction ../../input/BrowserEventSource ../../input/InputManager ../../input/handlers/PreventContextMenu ../../input/recognizers/DoubleTapDrag ../../input/recognizers/Drag ../../input/recognizers/ImmediateDoubleClick ../../input/recognizers/PointerClickHoldAndDrag ../../input/recognizers/SingleAndDoubleClick".split(" "),
function(h,c,p,f,q,z,B,H,F,m,k,n,v,e,d,b,t,C,w,l,r,u,A,x,E,S,aa,da,ja){var ba={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},ea={zoomIn:["\x3d","+"],zoomOut:["-","_"]},oa={clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"};p=function(wa){function D(){var Z=wa.apply(this,arguments)||this;Z._handles=new f;return Z}h._inheritsLoose(D,wa);var I=D.prototype;I.initialize=function(){this._handles.add([q.whenNot(this.view,
"ready",()=>this._disconnect()),q.when(this.view,"ready",()=>this._connect())])};I.destroy=function(){this._handles&&(this._handles.removeAll(),this._handles=null);this._disconnect()};I._disconnect=function(){this._inputManager&&(this.view.viewEvents.disconnect(),this._inputManager.destroy(),this._inputManager=null,this._source.destroy(),this._source=null)};I._connect=function(){const Z=new u.BrowserEventSource(this.view.surface,this.view.input);var M=[new aa.ImmediateDoubleClick,new da.PointerClickHoldAndDrag,
new ja.SingleAndDoubleClick,new S.Drag(this.view.navigation),new E.DoubleTapDrag];M=new A.InputManager({eventSource:Z,recognizers:M});M.installHandlers("prevent-context-menu",[new x.PreventContextMenu],A.ViewEventPriorities.INTERNAL);M.installHandlers("navigation",[new r.PinchRotateAndZoom(this.view),new b.GamepadNavigation(this.view),new l.MouseWheelZoom(this.view),new n.DoubleClickZoom(this.view),new n.DoubleClickZoom(this.view,["Ctrl"]),new e.DragPan(this.view,"primary"),new t.KeyPan(this.view,
ba),new w.KeyZoom(this.view,ea),new C.KeyRotate(this.view,oa),new d.DragRotate(this.view,"secondary"),new v.DoubleTapDragZoom(this.view,"touch")],A.ViewEventPriorities.INTERNAL);this.view.viewEvents.connect(M);this._source=Z;this._inputManager=M;q.init(this.view.navigation,"browserTouchPanEnabled",U=>{this._source.browserTouchPanningEnabled=!U})};h._createClass(D,[{key:"test",get:function(){return{inputManager:this._inputManager}}}]);return D}(p);c.__decorate([z.property()],p.prototype,"view",void 0);
return p=c.__decorate([k.subclass("esri.views.2d.input.MapViewInputManager")],p)})},"esri/views/2d/input/handlers/DoubleClickZoom":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../input/InputHandler","../../../input/handlers/support"],function(h,c,p,f){p=function(q){function z(B,H){var F=q.call(this,!0)||this;F.view=B;F.registerIncoming("double-click",H,m=>F._handleDoubleClick(m,H));return F}c._inheritsLoose(z,q);z.prototype._handleDoubleClick=function(B,H){f.eventMatchesPointerAction(B.data,
"primary")&&(B.stopPropagation(),H?this.view.mapViewNavigation.zoomOut([B.data.x,B.data.y]):this.view.mapViewNavigation.zoomIn([B.data.x,B.data.y]))};return z}(p.InputHandler);h.DoubleClickZoom=p;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/input/handlers/support":function(){define(["exports"],function(h){h.eventMatchesMousePointerAction=function(c,p){if("touch"===c.pointerType)return!1;switch(p){case "primary":return 0===c.button;case "secondary":return 2===c.button;case "tertiary":return 1===
c.button}};h.eventMatchesPointerAction=function(c,p){switch(p){case "primary":return"touch"===c.pointerType||0===c.button;case "secondary":return"touch"!==c.pointerType&&2===c.button;case "tertiary":return"touch"!==c.pointerType&&1===c.button}};Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/2d/input/handlers/DoubleTapDragZoom":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../core/has","../../../input/InputHandler"],function(h,c,p,f){p=function(q){function z(B,
H,F){var m=q.call(this,!0)||this;m.view=B;m.pointerType=H;m.registerIncoming("double-tap-drag",F,k=>m._handleDoubleTapDrag(k));return m}c._inheritsLoose(z,q);z.prototype._handleDoubleTapDrag=function(B){var {data:H}=B,{pointerType:F}=H;if(F===this.pointerType){B.stopPropagation();var {action:m,delta:k}=H;({view:H}=this);({mapViewNavigation:B}=H);switch(m){case "begin":({scale:H}=H);this._currentScale=this._startScale=H;this._previousDelta=k;B.begin();break;case "update":if(this._previousDelta.y===
k.y)break;this._previousDelta=k;H=this._startScale*1.015**k.y;B.setViewpointImmediate(H/this._currentScale);this._currentScale=H;break;case "end":{({constraints:F}=H);const {effectiveLODs:n,snapToZoom:v}=F;v&&n?(H=F.snapScale(this._currentScale),H=(0<k.y?Math.max(H,F.snapToPreviousScale(this._startScale)):Math.min(H,F.snapToNextScale(this._startScale)))/this._currentScale,B.zoom(H)):B.end()}}}};return z}(f.InputHandler);h.DoubleTapDragZoom=p;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/2d/input/handlers/DragPan":function(){define(["exports",
"../../../../chunks/_rollupPluginBabelHelpers","../../../input/DragEventSeparator","../../../input/InputHandler","../../../input/handlers/support"],function(h,c,p,f,q){f=function(z){function B(F,m,k){var n=z.call(this,!0)||this;n.view=F;n.pointerAction=m;n.registerIncoming("drag",k,e=>n._handleDrag(e));n.registerIncoming("pointer-down",()=>n.stopMomentumNavigation());const v=n.view.mapViewNavigation;n.dragEventSeparator=new p.DragEventSeparator({start:(e,d)=>{v.pan.begin(n.view,d.data);d.stopPropagation()},
update:(e,d)=>{v.pan.update(n.view,d.data);d.stopPropagation()},end:(e,d)=>{v.pan.end(n.view,d.data);d.stopPropagation()},condition:(e,d)=>1===e&&q.eventMatchesPointerAction(d.data,n.pointerAction)});return n}c._inheritsLoose(B,z);var H=B.prototype;H._handleDrag=function(F){const m=this.view.mapViewNavigation;m.pinch.zoomMomentum||m.pinch.rotateMomentum?this.stopMomentumNavigation():this.dragEventSeparator.handle(F)};H.stopMomentumNavigation=function(){this.view.mapViewNavigation.pan.stopMomentumNavigation()};
return B}(f.InputHandler);h.DragPan=f;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/input/DragEventSeparator":function(){define(["exports"],function(h){let c=function(){function p(q){this.callbacks=q;this.currentCount=0;this.callbacks.condition||(this.callbacks.condition=()=>!0)}var f=p.prototype;f.handle=function(q){const z=q.data,B=z.pointers.size;switch(z.action){case "start":this.currentCount=B;this.emitStart(q);break;case "added":this.emitEnd(this.previousEvent);this.currentCount=
B;this.emitStart(q);break;case "update":this.emitUpdate(q);break;case "removed":this.startEvent&&this.emitEnd(this.previousEvent);this.currentCount=B;this.emitStart(q);break;case "end":this.emitEnd(q),this.currentCount=0}this.previousEvent=q};f.emitStart=function(q){this.startEvent=q;this.callbacks.condition(this.currentCount,q)&&this.callbacks.start(this.currentCount,q,this.startEvent)};f.emitUpdate=function(q){this.callbacks.condition(this.currentCount,q)&&this.callbacks.update(this.currentCount,
q,this.startEvent)};f.emitEnd=function(q){this.callbacks.condition(this.currentCount,q)&&this.callbacks.end(this.currentCount,q,this.startEvent);this.startEvent=null};return p}();h.DragEventSeparator=c;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/2d/input/handlers/DragRotate":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../input/DragEventSeparator","../../../input/InputHandler","../../../input/handlers/support"],function(h,c,p,f,q){f=function(z){function B(H,
F,m){var k=z.call(this,!0)||this;k.view=H;k.pointerAction=F;const n=k.view.mapViewNavigation;k.dragEventSeparator=new p.DragEventSeparator({start:(v,e)=>{n.rotate.begin(k.view,e.data);e.stopPropagation()},update:(v,e)=>{n.rotate.update(k.view,e.data);e.stopPropagation()},end:(v,e)=>{n.rotate.end();e.stopPropagation()},condition:(v,e)=>1===v&&q.eventMatchesPointerAction(e.data,k.pointerAction)});k.registerIncoming("drag",m,v=>k.dragEventSeparator.handle(v));return k}c._inheritsLoose(B,z);return B}(f.InputHandler);
h.DragRotate=f;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/2d/input/handlers/GamepadNavigation":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/Handles ../../../../core/scheduling ../../../../core/watchUtils ../../viewpointUtils ../../../input/InputHandler ../../../navigation/gamepadAndKeyboardUtils".split(" "),function(h,c,p,f,q,z,B,H){B=function(F){function m(n){var v=F.call(this,!0)||this;v.view=n;v.frameTask=null;v.watchHandles=new p;
v.currentDevice=null;v.transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0};v.handle=v.registerIncoming("gamepad",e=>v.handleEvent(e));v.handle.pause();return v}c._inheritsLoose(m,F);var k=m.prototype;k.onInstall=function(n){F.prototype.onInstall.call(this,n);this.watchHandles.add([q.init(this.view.navigation.gamepad,"enabled",v=>{v?(this.handle.resume(),this.frameTask||(this.frameTask=f.addFrameTask({update:e=>this.frameUpdate(e.deltaTime)}))):(this.handle.pause(),this.frameTask&&(this.frameTask.remove(),
this.frameTask=null))})])};k.onUninstall=function(){this.watchHandles.removeAll();this.frameTask&&(this.frameTask.remove(),this.frameTask=null);F.prototype.onUninstall.call(this)};k.handleEvent=function(n){const v=this.view.navigation.gamepad.device;v&&n.data.device!==v||this.currentDevice&&this.currentDevice!==n.data.device||("end"===n.data.action?(this.currentDevice=null,H.resetTransformation(this.transformation)):(this.currentDevice=n.data.device,H.extractTransformation(n.data,this.view.navigation.gamepad,
this.transformation)))};k.frameUpdate=function(n){const v=this.transformation;if(!H.isZeroTransformation(v)){var e=this.view.viewpoint.clone(),d=.7*this.view.navigation.gamepad.velocityFactor*n;z.translateBy(e,e,[v.translation[0]*d,-v.translation[1]*d]);d=this.view.size;z.scaleAndRotateBy(e,e,1+6E-4*v.translation[2]*n,this.view.constraints.rotationEnabled?.06*-v.heading*n:0,[d[0]/2,d[1]],d);n=this.view.constraints.constrain(e,this.view.viewpoint);this.view.viewpoint=n}};return m}(B.InputHandler);
h.GamepadNavigation=B;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/navigation/gamepadAndKeyboardUtils":function(){define(["exports","../../chunks/vec3"],function(h,c){function p(f){let q=f*f;0>f&&(q*=-1);return q}h.extractTransformation=function(f,q,z){const B=f.state;f=f.device;q="forward-down"===q.tiltDirection?1:-1;"standard"===f.deviceType?(z.translation[0]=p(B.axes[0]),z.translation[1]=p(B.axes[1]),z.translation[2]=p(B.buttons[7])-p(B.buttons[6]),z.heading=p(B.axes[2]),z.tilt=
p(B.axes[3])):"spacemouse"===f.deviceType&&(z.translation[0]=1.2*p(B.axes[0]),z.translation[1]=1.2*p(B.axes[1]),z.translation[2]=2*-p(B.axes[2]),z.heading=1.2*p(B.axes[5]),z.tilt=1.2*p(B.axes[3]));z.tilt*=q;c.scale(z.translation,z.translation,1);return z};h.extractTransformationKeyboard=function(f,q){q.translation[0]=f[1]-f[0];q.translation[1]=f[3]-f[2];q.translation[2]=f[4]-f[5];q.heading=f[7]-f[6];q.tilt=f[8]-f[9];q.zoom=f[10]-f[11];return q};h.isZeroTransformation=function(f){return 0===f.translation[0]&&
0===f.translation[1]&&0===f.translation[2]&&0===f.heading&&0===f.tilt&&0===f.zoom};h.quadraticAccentuation=p;h.resetTransformation=function(f){f.translation[0]=0;f.translation[1]=0;f.translation[2]=0;f.heading=0;f.tilt=0;return f};Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/2d/input/handlers/KeyPan":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../input/InputHandler"],function(h,c,p){p=function(f){function q(B,H,F){var m=f.call(this,!0)||this;
m.view=B;m.keys=H;m._pressed=!1;m._keyMap={[H.left]:"left",[H.right]:"right",[H.up]:"up",[H.down]:"down"};m.registerIncoming("key-down",F,k=>m._handleKeyDown(k));m.registerIncoming("key-up",F,k=>m._handleKeyUp(k));m.registerIncoming("blur",F,()=>m._handleBlur());return m}c._inheritsLoose(q,f);var z=q.prototype;z._handleKeyDown=function(B){B.data.repeat||this._handleKey(B,!0)};z._handleKeyUp=function(B){this._handleKey(B,!1)};z._handleBlur=function(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())};
z._handleKey=function(B,H){const F=this._keyMap[B.data.key];if(this._pressed=null!=F){if(H)switch(this.view.mapViewNavigation.begin(),F){case "left":this.view.mapViewNavigation.continousPanLeft();break;case "right":this.view.mapViewNavigation.continousPanRight();break;case "up":this.view.mapViewNavigation.continousPanUp();break;case "down":this.view.mapViewNavigation.continousPanDown()}else this._pressed=!1,this.view.mapViewNavigation.stop();B.stopPropagation()}};return q}(p.InputHandler);h.KeyPan=
p;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/2d/input/handlers/KeyRotate":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../input/InputHandler"],function(h,c,p){p=function(f){function q(B,H,F){var m=f.call(this,!0)||this;m.view=B;m.keys=H;m._pressed=!1;m._keyToDirection={[H.clockwiseOption1]:"clockwise",[H.clockwiseOption2]:"clockwise",[H.counterClockwiseOption1]:"counterClockwise",[H.counterClockwiseOption2]:"counterClockwise",[H.resetOption1]:"reset",
[H.resetOption2]:"reset"};m.registerIncoming("key-down",F,k=>m._handleKeyDown(k));m.registerIncoming("key-up",F,k=>m._handleKeyUp(k));m.registerIncoming("blur",F,()=>m._handleBlur());return m}c._inheritsLoose(q,f);var z=q.prototype;z._handleKeyDown=function(B){B.data.repeat||this._handleKey(B,!0)};z._handleKeyUp=function(B){this._handleKey(B,!1)};z._handleBlur=function(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())};z._handleKey=function(B,H){var F=B.modifiers;if(!(0<F.size&&
!F.has("Shift")||!this.view.constraints.rotationEnabled)&&(F=this._keyToDirection[B.data.key],this._pressed=null!=F)){if(H)switch(this.view.mapViewNavigation.begin(),F){case "clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case "counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case "reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();B.stopPropagation()}};return q}(p.InputHandler);
h.KeyRotate=p;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/2d/input/handlers/KeyZoom":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../core/has","../../../input/InputHandler"],function(h,c,p,f){p=function(q){function z(H,F,m){var k=q.call(this,!0)||this;k.view=H;k.keys=F;k._keysToZoomAction={};k.registerIncoming("key-down",m,n=>k._handleKeyDown(n));F.zoomIn.forEach(n=>k._keysToZoomAction[n]=0);F.zoomOut.forEach(n=>k._keysToZoomAction[n]=1);
return k}c._inheritsLoose(z,q);var B=z.prototype;B._handleKeyDown=function(H){this._handleKey(H)};B._handleKey=function(H){var F=H.modifiers;if(!(0<F.size)||F.has("Shift"))if({key:F}=H.data,F in this._keysToZoomAction){F=this._keysToZoomAction[F];var {mapViewNavigation:m}=this.view,k=null;switch(F){case 0:k=m.zoomIn();break;case 1:k=m.zoomOut();break;default:return}m.begin();k.then(()=>m.end());H.stopPropagation()}};return z}(f.InputHandler);h.KeyZoom=p;Object.defineProperty(h,"__esModule",{value:!0})})},
"esri/views/2d/input/handlers/MouseWheelZoom":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../input/InputHandler"],function(h,c,p){p=function(f){function q(z,B){var H=f.call(this,!0)||this;H.view=z;H._canZoom=!0;H.registerIncoming("mouse-wheel",B,F=>H._handleMouseWheel(F));return H}c._inheritsLoose(q,f);q.prototype._handleMouseWheel=function(z){if(this.view.navigation.mouseWheelZoomEnabled&&(z.preventDefault(),z.stopPropagation(),this._canZoom)){var B=this.view.mapViewNavigation,
{x:H,y:F,deltaY:m}=z.data;if(z=B.zoom(1/.6**(1/60*m),[H,F]))this._canZoom=!1,z.catch(()=>{}).then(()=>{this._canZoom=!0;B.end()})}};return q}(p.InputHandler);h.MouseWheelZoom=p;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/2d/input/handlers/PinchAction":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../input/DragEventSeparator","../../../input/InputHandler"],function(h,c,p,f){f=function(q){function z(H){var F=q.call(this,!0)||this;F.view=H;F.registerIncoming("drag",
k=>F._handleDrag(k));F.registerIncoming("pointer-down",()=>F.stopMomentumNavigation());const m=F.view.mapViewNavigation;F.dragEventSeparator=new p.DragEventSeparator({start:(k,n)=>{m.pinch.begin(F.view,n.data);n.stopPropagation()},update:(k,n)=>{m.pinch.update(F.view,n.data);n.stopPropagation()},end:(k,n)=>{m.pinch.end(F.view);n.stopPropagation()},condition:k=>2<=k});return F}c._inheritsLoose(z,q);var B=z.prototype;B._handleDrag=function(H){this.dragEventSeparator.handle(H)};B.stopMomentumNavigation=
function(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()};return z}(f.InputHandler);h.PinchRotateAndZoom=f;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/input/BrowserEventSource":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/has ./keys ./gamepad/GamepadSource ../support/screenUtils".split(" "),function(h,c,p,f,q,z){const B=p("trident"),H=p("edge"),F=p("chrome"),m=p("ff"),k=p("safari");p=function(){function v(d,b){this.input=b;this._active=
{};this._activePointerCaptures=new Set;this._keyDownState=new Set;this._eventId=1;this._browserTouchPanningEnabled=!1;this._element=d;d.getAttribute("tabindex")||d.setAttribute("tabindex","0");this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,
"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost};this._updateTouchAction();this._element.addEventListener("keydown",this._preventAltKeyDefault);this._gamepadSource=new q.GamepadSource(d,this.input);this._gamepadSource.onEvent=t=>this._callback("gamepad",t)}var e=v.prototype;e.destroy=function(){this.activeEvents=this._callback=null;this._activePointerCaptures.forEach(d=>{this._releasePointerCaptureSafe(d)});this._gamepadSource&&(this._gamepadSource.destroy(),
this._gamepadSource=null);this._activePointerCaptures=null;this._removeTouchAction();this._element.removeEventListener("keydown",this._preventAltKeyDefault)};e.setPointerCapture=function(d,b){b?(this._element.setPointerCapture(d.pointerId),this._activePointerCaptures.add(d.pointerId)):(this._releasePointerCaptureSafe(d.pointerId),this._activePointerCaptures.delete(d.pointerId))};e._updateTouchAction=function(){this._element.classList.remove(this._browserTouchPanningEnabled?"esri-view-surface--touch-none":
"esri-view-surface--touch-pan");this._element.classList.add(this._browserTouchPanningEnabled?"esri-view-surface--touch-pan":"esri-view-surface--touch-none")};e._updateTouchEventHandling=function(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)};e._removeTouchAction=function(){this._element.classList.remove("esri-view-surface--touch-none");this._element.classList.remove("esri-view-surface--touch-pan");
this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)};e._releasePointerCaptureSafe=function(d){try{this._element.hasPointerCapture&&!this._element.hasPointerCapture(d)||this._element.releasePointerCapture(d)}catch(b){}};e._updateNormalizedPointerLikeEvent=function(d,b){d=z.createScreenPointFromNativeEvent(this._element,d);v.test.disableSubpixelCoordinates&&(d.x=Math.round(d.x),d.y=Math.round(d.y));b.x=d.x;b.y=d.y;return b};e._handleKey=function(d,b){const t=f.eventKey(b);
t&&"key-up"===d&&this._keyDownState.delete(t);b={native:b,key:t,repeat:t&&this._keyDownState.has(t)};t&&"key-down"===d&&this._keyDownState.add(b.key);this._callback(d,b)};e._handlePointer=function(d,b){b=this._updateNormalizedPointerLikeEvent(b,{native:b,x:0,y:0,pointerType:b.pointerType,button:b.button,buttons:b.buttons,eventId:this._eventId++});this._callback(d,b)};e._handlePointerPreventDefault=function(d,b){const t=this._updateNormalizedPointerLikeEvent(b,{native:b,x:0,y:0,pointerType:b.pointerType,
button:b.button,buttons:b.buttons,eventId:this._eventId++});b.preventDefault();this._callback(d,t)};e._handleMouseWheel=function(d,b){let t=b.deltaY;switch(b.deltaMode){case 0:if(B||H)t=t/document.documentElement.clientHeight*600;break;case 1:t*=30;break;case 2:t*=900}B||H?t*=.7:F||k?t*=.6:m&&(t*=1.375);const C=Math.abs(t);100<C&&(t=t/C*200/(1+Math.exp(-.02*(C-100))));b=this._updateNormalizedPointerLikeEvent(b,{native:b,x:0,y:0,deltaY:t});this._callback(d,b)};e._handlePointerCaptureLost=function(d,
b){this._activePointerCaptures.delete(b.pointerId);this._handleDefault(d,b)};e._handleDefault=function(d,b){const t={native:b};b.preventDefault();this._callback(d,t)};e._preventAltKeyDefault=function(d){"Alt"===d.key&&d.preventDefault()};e._preventMultiTouchPanning=function(d){1<d.touches.length&&d.preventDefault()};c._createClass(v,[{key:"browserTouchPanningEnabled",get:function(){return this._browserTouchPanningEnabled},set:function(d){this._browserTouchPanningEnabled=d;this._updateTouchAction();
this._updateTouchEventHandling()}},{key:"onEventReceived",set:function(d){this._callback=d}},{key:"activeEvents",set:function(d){for(const b in this._active)d&&d.has(b)||(this._element.removeEventListener(n[b],this._active[b]),delete this._active[b]);d&&d.forEach(b=>{if(!this._active[b]&&n[b]){const t=(this._eventHandlers[b]||this._handleDefault).bind(this,b);this._element.addEventListener(n[b],t);this._active[b]=t}});this._gamepadSource.hasEventListeners=d&&d.has("gamepad")}}]);return v}();p.test=
{disableSubpixelCoordinates:!1};const n={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};h.BrowserEventSource=p;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/input/gamepad/GamepadSource":function(){define(["exports",
"../../../chunks/_rollupPluginBabelHelpers","../../../core/scheduling","./GamepadInputDevice","./GamepadState"],function(h,c,p,f,q){let z=function(){function B(F,m){this.element=F;this.input=m;this._hasEventListeners=!1;this.onConnectGamepad=k=>{this.connectGamepad(k.gamepad)};this.onDisconnectGamepad=k=>{k=k.gamepad;const n=k.index,v=this.inputDevices[n];v&&(this.emitGamepadEvent(k,q.extractState(v),!1),this.inputDevices.splice(n,1),this.latestUpdate.splice(n,1),this.input.gamepad.devices.remove(v),
this.ensurePollingState())};this.frameTask=null;this.latestUpdate=[];this.inputDevices=[];this.callback=null;F=window.isSecureContext;if(this.supported="getGamepads"in window.navigator&&F)this.forEachGamepad(this.connectGamepad),window.addEventListener("gamepadconnected",this.onConnectGamepad),window.addEventListener("gamepaddisconnected",this.onDisconnectGamepad),this.ensurePollingState()}var H=B.prototype;H.destroy=function(){this.hasEventListeners=!1;this.supported&&(window.removeEventListener("gamepadconnected",
this.onConnectGamepad),window.removeEventListener("gamepaddisconnected",this.onDisconnectGamepad))};H.connectGamepad=function(F){const m=new f(F);"unknown"!==m.deviceType&&(this.inputDevices[F.index]=m,this.input.gamepad.devices.add(m));this.ensurePollingState()};H.ensurePollingState=function(){this.eventsEnabled?this.startPolling():this.stopPolling()};H.startPolling=function(){null==this.frameTask&&(this.frameTask=p.addFrameTask({update:()=>this.readGamepadState()}))};H.stopPolling=function(){null!=
this.frameTask&&(this.frameTask.remove(),this.frameTask=null,this.latestUpdate=[])};H.readGamepadState=function(){const F=document.hasFocus(),m=this.element.contains(document.activeElement),k="document"===this.input.gamepad.enabledFocusMode&&!F||"view"===this.input.gamepad.enabledFocusMode&&!m;this.forEachGamepad(n=>{var v=this.inputDevices[n.index];if(v){var e=this.latestUpdate[n.index];v=q.extractState(v);var d=k||q.stateIdle(v);e&&(e.timestamp===n.timestamp||!e.active&&d||q.stateEqual(e.state,
v))||this.emitGamepadEvent(n,v,!d)}})};H.forEachGamepad=function(F){const m=window.navigator.getGamepads();for(let k=0;k<m.length;k++){const n=m[k];this.validate(n)&&F(n)}};H.emitGamepadEvent=function(F,m,k){var n=this.latestUpdate[F.index];if((n=n&&n.active)||k)this.latestUpdate[F.index]={timestamp:F.timestamp,state:m,active:k},this.callback&&this.callback({device:this.inputDevices[F.index],state:m,action:!n&&k?"start":n&&k?"update":"end"})};H.validate=function(F){if(!F||!F.connected)return!1;for(let m=
0;m<F.axes.length;m++)if(isNaN(F.axes[m]))return!1;return!0};c._createClass(B,[{key:"hasEventListeners",set:function(F){this._hasEventListeners!==F&&(this._hasEventListeners=F,this.ensurePollingState())}},{key:"eventsEnabled",get:function(){return this.supported&&0<this.inputDevices.length&&this._hasEventListeners}},{key:"onEvent",set:function(F){this.callback=F}}]);return B}();h.GamepadSource=z;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/input/gamepad/GamepadState":function(){define(["exports",
"../../../core/mathUtils"],function(h,c){h.extractState=function(p){const f=p.native;return f?{buttons:f.buttons.map(q=>q.pressed?q.value?q.value:1:0),axes:f.axes.map(q=>{{var z=p.axisThreshold;const B=Math.abs(q);q=B<z?0:c.sign(q)*(B-z)/(1-z)}return q})}:{buttons:[],axes:[]}};h.stateEqual=function(p,f){if(p.axes.length!==f.axes.length||p.buttons.length!==f.buttons.length)return!1;for(var q=0;q<p.axes.length;q++)if(p.axes[q]!==f.axes[q])return!1;for(q=0;q<p.buttons.length;q++)if(p.buttons[q]!==f.buttons[q])return!1;
return!0};h.stateIdle=function(p){for(var f=0;f<p.axes.length;f++)if(0!==p.axes[f])return!1;for(f=0;f<p.buttons.length;f++)if(0!==p.buttons[f])return!1;return!0};Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/input/handlers/PreventContextMenu":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../InputHandler"],function(h,c,p){p=function(f){function q(){var z=f.call(this,!0)||this;z.registerIncoming("context-menu",B=>{B.data.native.preventDefault()});return z}
c._inheritsLoose(q,f);return q}(p.InputHandler);h.PreventContextMenu=p;h.default=p;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/input/recognizers/DoubleTapDrag":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/clock ../../../core/MapUtils ../../../core/screenUtils ../DragEventSeparator ../InputHandler ./SingleAndDoubleClick ./support".split(" "),function(h,c,p,f,q,z,B,H,F){B=function(m){function k(v=H.DefaultParameters.maximumDoubleClickDelay,e=
H.DefaultParameters.maximumDoubleClickDistance,d=H.DefaultParameters.maximumDoubleTouchDelay,b=H.DefaultParameters.maximumDoubleTouchDistance,t=p["default"]){var C=m.call(this,!1)||this;C.maximumDoubleClickDelay=v;C.maximumDoubleClickDistance=e;C.maximumDoubleTouchDelay=d;C.maximumDoubleTouchDistance=b;C._clock=t;C._doubleTapDragReady=!1;C._doubleTapDragActive=!1;C._dragStartCenter=q.createScreenPoint(0,0);C._pointerState=new Map;C._doubleTapDrag=C.registerOutgoing("double-tap-drag");C._dragEventSeparator=
new z.DragEventSeparator({start:(w,l)=>C._dragStart(w,l),update:(w,l)=>C._dragUpdate(l),end:(w,l)=>C._dragEnd(l)});C.registerIncoming("drag",w=>C._dragEventSeparator.handle(w));C.registerIncoming("pointer-down",w=>C._handlePointerDown(w));C.registerIncoming("pointer-up",()=>C._handlePointerUp());return C}c._inheritsLoose(k,m);var n=k.prototype;n.onUninstall=function(){this._pointerState.forEach(v=>{null!=v.doubleTapTimeout&&(v.doubleTapTimeout.remove(),v.doubleTapTimeout=null)})};n._clearPointerDown=
function(v){const e=this._pointerState.get(v);e&&(e.doubleTapTimeout.remove(),e.doubleTapTimeout=null,this._pointerState.delete(v),this.refreshHasPendingInputs())};n._createDoubleTapDragData=function(v,e,d){const {button:b,buttons:t,pointer:C,pointers:w,pointerType:l,timestamp:r}=d;return{action:v,delta:e,button:b,buttons:t,pointer:C,pointers:w,pointerType:l,timestamp:r}};n._dragStart=function(v,e){if(this._doubleTapDragReady&&1===v){this._doubleTapDragReady=!1;this._doubleTapDragActive=!0;var {data:d,
modifiers:b}=e;({center:v}=d);this._dragStartCenter=v;v=this._createDoubleTapDragData("begin",q.createScreenPoint(0,0),d);this._doubleTapDrag.emit(v,void 0,b);e.stopPropagation()}};n._dragUpdate=function(v){if(this._doubleTapDragActive){var {data:e,modifiers:d}=v,{center:b}=e;b=q.createScreenPoint(b.x-this._dragStartCenter.x,b.y-this._dragStartCenter.y);b=this._createDoubleTapDragData("update",b,e);this._doubleTapDrag.emit(b,void 0,d);v.stopPropagation()}};n._dragEnd=function(v){if(this._doubleTapDragActive){var {data:e,
modifiers:d}=v,{center:b}=e;b=q.createScreenPoint(b.x-this._dragStartCenter.x,b.y-this._dragStartCenter.y);b=this._createDoubleTapDragData("end",b,e);this._doubleTapDrag.emit(b,void 0,d);this._doubleTapDragActive=!1;v.stopPropagation()}};n._handlePointerDown=function(v){const {data:e}=v,d=this._pointerId(e),b=this._pointerState.get(d);var {pointerType:t}=e.native;b?(t="touch"===t?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance,this._clearPointerDown(d),F.manhattanDistance(b.event.data,
e)>t?this._storePointerDown(v):this._doubleTapDragReady=!0):this._storePointerDown(v)};n._handlePointerUp=function(){this._doubleTapDragReady=!1};n._pointerId=function(v){({native:v}=v);const {pointerId:e,button:d,pointerType:b}=v;return"mouse"===b?`${e}:${d}`:`${b}`};n._storePointerDown=function(v){var {data:e}=v;const {pointerType:d}=e.native,b=this._pointerId(e);e=this._clock.setTimeout(()=>this._clearPointerDown(b),"touch"===d?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay);this._pointerState.set(b,
{event:v,doubleTapTimeout:e});this.refreshHasPendingInputs()};c._createClass(k,[{key:"hasPendingInputs",get:function(){return f.someMap(this._pointerState,v=>null!=v.doubleTapTimeout)}}]);return k}(B.InputHandler);h.DoubleTapDrag=B;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/input/recognizers/SingleAndDoubleClick":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/clock ../../../core/MapUtils ../InputHandler ./support".split(" "),function(h,c,p,
f,q,z){const B={maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};q=function(H){function F(k=B.maximumDoubleClickDelay,n=B.maximumDoubleClickDistance,v=B.maximumDoubleTouchDelay,e=B.maximumDoubleTouchDistance,d=p["default"]){var b=H.call(this,!1)||this;b.maximumDoubleClickDelay=k;b.maximumDoubleClickDistance=n;b.maximumDoubleTouchDelay=v;b.maximumDoubleTouchDistance=e;b._clock=d;b._pointerState=new Map;b._click=b.registerOutgoing("click");
b._doubleClick=b.registerOutgoing("double-click");b.registerIncoming("immediate-click",b._handleImmediateClick.bind(c._assertThisInitialized(b)));b.registerIncoming("pointer-drag",b._handlePointerDrag.bind(c._assertThisInitialized(b)));b.registerIncoming("drag",b._handleDrag.bind(c._assertThisInitialized(b)));return b}c._inheritsLoose(F,H);var m=F.prototype;m.onUninstall=function(){this._pointerState.forEach(k=>{null!=k.doubleClickTimeout&&(k.doubleClickTimeout.remove(),k.doubleClickTimeout=null)})};
m._pointerId=function(k){k=k.native;return"mouse"===k.pointerType?`${k.pointerId}:${k.button}`:`${k.pointerType}`};m._handleImmediateClick=function(k){const n=k.data,v=this._pointerId(n),e=this._pointerState.get(v);if(e){const d="touch"===n.native.pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;z.manhattanDistance(e.event.data,n)>d?(this._clearDoubleClickTimeout(v,!0),this._startClick(k)):(this._clearDoubleClickTimeout(v,!1),this._doubleClick.emit(e.event.data,void 0,e.event.modifiers))}else this._startClick(k)};
m._startClick=function(k){const n=this._pointerId(k.data);this._pointerState.set(n,{event:k,doubleClickTimeout:this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(n),"touch"===k.data.native.pointerType?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay)});this.refreshHasPendingInputs()};m._handlePointerDrag=function(k){k=this._pointerId(k.data.currentEvent);this._clearDoubleClickTimeout(k,!0)};m._handleDrag=function(k){k=this._pointerId(k.data.pointer);this._clearDoubleClickTimeout(k,
!0)};m._clearDoubleClickTimeout=function(k,n){const v=this._pointerState.get(k);v&&(v.doubleClickTimeout.remove(),v.doubleClickTimeout=null,n&&this._doubleClickTimeoutExceeded(k),this._pointerState.delete(k),this.refreshHasPendingInputs())};m._doubleClickTimeoutExceeded=function(k){const n=this._pointerState.get(k);this._click.emit(n.event.data,void 0,n.event.modifiers);n.doubleClickTimeout=null;this._pointerState.delete(k);this.refreshHasPendingInputs()};c._createClass(F,[{key:"hasPendingInputs",
get:function(){return f.someMap(this._pointerState,k=>null!=k.doubleClickTimeout)}}]);return F}(q.InputHandler);h.DefaultParameters=B;h.SingleAndDoubleClick=q;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/input/recognizers/support":function(){define(["exports","../../../core/screenUtils"],function(h,c){h.euclideanDistance=function(p,f){const q=f.x-p.x;p=f.y-p.y;return Math.sqrt(q*q+p*p)};h.fitCircleLSQ=function(p,f){f?(f.radius=0,f.center.x=0,f.center.y=0):f={radius:0,center:c.createScreenPoint()};
if(0===p.length)return f;if(1===p.length)return f.center.x=p[0].x,f.center.y=p[0].y,f;if(2===p.length){const [b,t]=p,[C,w]=[t.x-b.x,t.y-b.y];f.radius=Math.sqrt(C*C+w*w)/2;f.center.x=(b.x+t.x)/2;f.center.y=(b.y+t.y)/2;return f}let q=0,z=0;for(f=0;f<p.length;f++)q+=p[f].x,z+=p[f].y;q/=p.length;z/=p.length;var B=p.map(b=>b.x-q),H=p.map(b=>b.y-z);let F=f=0;var m=0,k=0,n=0,v=0,e=0;for(var d=0;d<B.length;d++){const b=B[d],t=H[d],C=b*b,w=t*t;f+=C;F+=w;m+=b*t;k+=C*b;n+=w*t;v+=b*w;e+=t*C}B=f;H=m;d=F;k=.5*
(k+v);n=.5*(n+e);e=B*d-m*H;v=(k*d-n*H)/e;n=(B*n-m*k)/e;e=c.createScreenPoint(v+q,n+z);return{radius:Math.sqrt(v*v+n*n+(f+F)/p.length),center:e}};h.manhattanDistance=function(p,f){return Math.abs(f.x-p.x)+Math.abs(f.y-p.y)};Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/input/recognizers/Drag":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/screenUtils ../../../core/time ../InputHandler ./support".split(" "),function(h,c,p,f,q,z){function B(k){const n=
[];k.forEach(v=>{n.push(p.createScreenPoint(v.event.x,v.event.y))});return z.fitCircleLSQ(n)}function H(k){const n=B(k);let v=0;k.forEach(e=>{var d=m(e,n);for(d-=e.lastAngle;d>Math.PI;)d-=2*Math.PI;for(;d<-Math.PI;)d+=2*Math.PI;d=e.lastAngle+d;e.lastAngle=d;v+=d-e.initialAngle});v/=k.size||1;return{angle:v,radius:n.radius,center:n.center}}function F(k){const n=new Map;k.forEach((v,e)=>n.set(e,v.event));return n}function m(k,n){k=k.event;return Math.atan2(k.y-n.center.y,k.x-n.center.x)}q=function(k){function n(e){var d=
k.call(this,!1)||this;d.navigationTouch=e;d.startStateModifiers=new Set;d.activePointerMap=new Map;d.isDragging=!1;d.isCurrentDragSuppressed=!1;d.drag=d.registerOutgoing("drag");d.registerIncoming("pointer-drag",d.handlePointerDrag.bind(c._assertThisInitialized(d)));d.registerIncoming("pointer-up",d.handlePointerUpAndPointerLost.bind(c._assertThisInitialized(d)));d.registerIncoming("pointer-capture-lost",d.handlePointerUpAndPointerLost.bind(c._assertThisInitialized(d)));d.registerIncoming("pointer-cancel",
d.handlePointerUpAndPointerLost.bind(c._assertThisInitialized(d)));return d}c._inheritsLoose(n,k);var v=n.prototype;v.createPayload=function(e,d,b,t){return{action:e,pointerType:this.pointerType,button:this.mouseButton,buttons:d.buttons,timestamp:t,pointers:F(this.activePointerMap),pointer:d,angle:b.angle,radius:b.radius,center:b.center}};v.addPointer=function(e){var d=e.native.pointerId;const b=H(this.activePointerMap).angle;e={event:e,initialAngle:0,lastAngle:0};this.activePointerMap.set(d,e);d=
m(e,B(this.activePointerMap));e.initialAngle=d;e.lastAngle=d;this.updatePointerAngles(b)};v.updatePointer=function(e){if(!e||null!=e.x||null!=e.y){var d=this.activePointerMap.get(e.native.pointerId);d?d.event=e:this.addPointer(e)}};v.removePointer=function(e){const d=H(this.activePointerMap).angle;this.activePointerMap.delete(e);this.updatePointerAngles(d)};v.updatePointerAngles=function(e){const d=H(this.activePointerMap);this.activePointerMap.forEach(b=>{b.initialAngle=m(b,d)-e;b.lastAngle=m(b,
d)-e})};v.emitEvent=function(e,d,b){const t=H(this.activePointerMap);this.drag.emit(this.createPayload(e,d,t,b),void 0,this.startStateModifiers)};v.handlePointerUpAndPointerLost=function(e){const d=e.data.native.pointerId,b=f.Milliseconds(e.timestamp);this.activePointerMap.get(d)&&(1===this.activePointerMap.size?(this.updatePointer(e.data),!this.isCurrentDragSuppressed&&this.emitEvent("end",e.data,b),this.isCurrentDragSuppressed=this.isDragging=!1,this.removePointer(d)):(this.removePointer(d),this.emitEvent("removed",
e.data,f.Milliseconds(e.timestamp))))};v.handlePointerDrag=function(e){const d=e.data,b=d.currentEvent,t=f.Milliseconds(e.timestamp);switch(d.action){case "start":case "update":this.isDragging?this.activePointerMap.has(b.native.pointerId)?(this.updatePointer(b),!this.isCurrentDragSuppressed&&this.emitEvent("update",b,t)):(this.addPointer(b),this.emitEvent("added",b,t),this.isCurrentDragSuppressed=this.isSuppressed):(this.updatePointer(b),this.pointerType=e.data.startEvent.pointerType,this.mouseButton=
e.data.startEvent.button,this.startStateModifiers=e.modifiers,this.isDragging=!0,this.isCurrentDragSuppressed=this.isSuppressed,!this.isCurrentDragSuppressed&&this.emitEvent("start",b,t))}};c._createClass(n,[{key:"isSuppressed",get:function(){return this.navigationTouch&&!this.navigationTouch.browserTouchPanEnabled&&"touch"===this.pointerType&&1===this.activePointerMap.size}}]);return n}(q.InputHandler);h.Button=void 0;(function(k){k[k.Left=0]="Left";k[k.Middle=1]="Middle";k[k.Right=2]="Right";k[k.Back=
3]="Back";k[k.Forward=4]="Forward";k[k.Undefined=-1]="Undefined"})(h.Button||(h.Button={}));h.Drag=q;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/input/recognizers/ImmediateDoubleClick":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/clock ../InputHandler ./SingleAndDoubleClick ./support".split(" "),function(h,c,p,f,q,z){f=function(B){function H(m=q.DefaultParameters.maximumDoubleClickDelay,k=q.DefaultParameters.maximumDoubleClickDistance,n=q.DefaultParameters.maximumDoubleTouchDelay,
v=q.DefaultParameters.maximumDoubleTouchDistance,e=p["default"]){var d=B.call(this,!1)||this;d.maximumDoubleClickDelay=m;d.maximumDoubleClickDistance=k;d.maximumDoubleTouchDelay=n;d.maximumDoubleTouchDistance=v;d._clock=e;d._pointerState=new Map;d._immediateDoubleClick=d.registerOutgoing("immediate-double-click");d.registerIncoming("pointer-down",d._handlePointerDown.bind(c._assertThisInitialized(d)));d.registerIncoming("pointer-up",b=>{d._handlePointerLoss(b,"pointer-up")});d.registerIncoming("pointer-capture-lost",
b=>{d._handlePointerLoss(b,"pointer-capture-lost")});d.registerIncoming("pointer-cancel",b=>{d._handlePointerLoss(b,"pointer-cancel")});return d}c._inheritsLoose(H,B);var F=H.prototype;F.onUninstall=function(){this._pointerState.forEach(m=>{m.immediateDoubleClick&&m.immediateDoubleClick.timeoutHandle.remove()});B.prototype.onUninstall.call(this)};F._handlePointerDown=function(m){m=m.data;const k=this._pointerId(m);this._pointerState.has(k)||(this._pointerState.set(k,{downButton:m.native.button,immediateDoubleClick:null}),
this.startCapturingPointer(m.native))};F._handlePointerLoss=function(m,k){const n=m.data;var v=this._pointerId(n);if((v=this._pointerState.get(v))&&"pointer-up"===k&&v.downButton===n.native.button)if(k=v.immediateDoubleClick){k.timeoutHandle.remove();const e="touch"===m.data.native.pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;z.manhattanDistance(k,m.data)>e?this._startImmediateDoubleClick(m,v):(this._immediateDoubleClick.emit(m.data,void 0,k.modifiers),this._removeState(n))}else this._startImmediateDoubleClick(m,
v)};F._startImmediateDoubleClick=function(m,k){k.immediateDoubleClick={x:m.data.x,y:m.data.y,modifiers:m.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(m.data),"touch"===m.data.native.pointerType?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay)}};F._pointerId=function(m){m=m.native;return"mouse"===m.pointerType?`${m.pointerId}:${m.button}`:`${m.pointerType}`};F._removeState=function(m){const k=this._pointerId(m);this._pointerState.delete(k);this.stopCapturingPointer(m.native);
this.refreshHasPendingInputs()};return H}(f.InputHandler);h.ImmediateDoubleClick=f;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/input/recognizers/PointerClickHoldAndDrag":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../core/clock","../InputHandler","./support"],function(h,c,p,f,q){const z={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500};f=function(B){function H(m=z.maximumClickDelay,
k=z.movementUntilMouseDrag,n=z.movementUntilPenDrag,v=z.movementUntilTouchDrag,e=z.holdDelay,d=p["default"]){var b=B.call(this,!1)||this;b.maximumClickDelay=m;b.movementUntilMouseDrag=k;b.movementUntilPenDrag=n;b.movementUntilTouchDrag=v;b.holdDelay=e;b._clock=d;b._pointerState=new Map;b._pointerDrag=b.registerOutgoing("pointer-drag");b._immediateClick=b.registerOutgoing("immediate-click");b._pointerHold=b.registerOutgoing("hold");b.registerIncoming("pointer-down",b._handlePointerDown.bind(c._assertThisInitialized(b)));
b.registerIncoming("pointer-up",t=>{b._handlePointerLoss(t,"pointer-up")});b.registerIncoming("pointer-capture-lost",t=>{b._handlePointerLoss(t,"pointer-capture-lost")});b.registerIncoming("pointer-cancel",t=>{b._handlePointerLoss(t,"pointer-cancel")});b._moveHandle=b.registerIncoming("pointer-move",b._handlePointerMove.bind(c._assertThisInitialized(b)));b._moveHandle.pause();return b}c._inheritsLoose(H,B);var F=H.prototype;F.onUninstall=function(){this._pointerState.forEach(m=>{null!=m.holdTimeout&&
(m.holdTimeout.remove(),m.holdTimeout=null)});B.prototype.onUninstall.call(this)};F._handlePointerDown=function(m){const k=m.data,n=k.native.pointerId;var v=null;0===this._pointerState.size&&(v=this._clock.setTimeout(()=>{const e=this._pointerState.get(n);e&&(e.isDragging||(this._pointerHold.emit(e.previousEvent,void 0,m.modifiers),e.holdEmitted=!0),e.holdTimeout=null)},this.holdDelay));v={startEvent:k,previousEvent:k,startTimestamp:m.timestamp,isDragging:!1,downButton:k.native.button,holdTimeout:v,
modifiers:new Set};this._pointerState.set(n,v);this.startCapturingPointer(k.native);this._moveHandle.resume();1<this._pointerState.size&&this.startDragging(m)};F._createPointerDragData=function(m,k,n){return{action:m,startEvent:k.startEvent,previousEvent:k.previousEvent,currentEvent:n}};F._handlePointerMove=function(m){const k=m.data,n=this._pointerState.get(k.native.pointerId);if(n){if(n.isDragging)this._pointerDrag.emit(this._createPointerDragData("update",n,k),void 0,n.modifiers);else{const v=
q.euclideanDistance(k,n.startEvent),e=this._getDragThreshold(k.native.pointerType);v>e&&this.startDragging(m)}n.previousEvent=k}};F._getDragThreshold=function(m){switch(m){case "touch":return this.movementUntilTouchDrag;case "pen":return this.movementUntilPenDrag;default:return this.movementUntilMouseDrag}};F.startDragging=function(m){const k=m.data,n=k.native.pointerId;this._pointerState.forEach(v=>{null!=v.holdTimeout&&(v.holdTimeout.remove(),v.holdTimeout=null);v.isDragging||(v.modifiers=m.modifiers,
v.isDragging=!0,n===v.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData("start",v,k)):this._pointerDrag.emit(this._createPointerDragData("start",v,v.previousEvent),m.timestamp))})};F._handlePointerLoss=function(m,k){const n=m.data,v=n.native.pointerId,e=this._pointerState.get(v);e&&(null!=e.holdTimeout&&(e.holdTimeout.remove(),e.holdTimeout=null),e.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",e,"pointer-up"===k?n:e.previousEvent),void 0,e.modifiers):
"pointer-up"===k&&e.downButton===n.native.button&&m.timestamp-e.startTimestamp<=this.maximumClickDelay&&!e.holdEmitted&&this._immediateClick.emit(n),this._pointerState.delete(v),this.stopCapturingPointer(n.native),0===this._pointerState.size&&this._moveHandle.pause())};return H}(f.InputHandler);h.DefaultParameters=z;h.PointerClickHoldAndDrag=f;Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/2d/support/HighlightOptions":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../Color ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/Logger ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass".split(" "),
function(h,c,p,f,q,z,B,H,F,m){let k=0;f=function(n){function v(){var e=n.apply(this,arguments)||this;e.color=new p([0,255,255]);e.haloOpacity=1;e.fillOpacity=.25;return e}h._inheritsLoose(v,n);h._createClass(v,[{key:"version",get:function(){return k++}}]);return v}(f);c.__decorate([q.property({readOnly:!0})],f.prototype,"version",null);c.__decorate([q.property({type:p})],f.prototype,"color",void 0);c.__decorate([q.property({type:p})],f.prototype,"haloColor",void 0);c.__decorate([q.property()],f.prototype,
"haloOpacity",void 0);c.__decorate([q.property()],f.prototype,"fillOpacity",void 0);return f=c.__decorate([m.subclass("esri.views.2d.support.HighlightOptions")],f)})},"esri/views/support/screenshotUtils":function(){define(["exports","../../core/has","../../core/mathUtils"],function(h,c,p){function f(d,b){const {format:t,quality:C,rotation:w,disableDecorations:l}=d||{};var r=F(d,b.padding);var u=b.width-r.left-r.right;b=b.height-r.top-r.bottom;r={x:0,y:0,width:u,height:b};if(d&&d.area){null!=d.area.x&&
(r.x=Math.floor(d.area.x));null!=d.area.y&&(r.y=Math.floor(d.area.y));var A=null!=d.area.width?Math.floor(d.area.width):null,x=null!=d.area.height?Math.floor(d.area.height):null;r.width=u-r.x;r.height=b-r.y;null!=A&&null!=x?(r.width=Math.min(r.width,A),r.height=Math.min(r.height,x)):null==A&&null!=x?(A=Math.min(r.width,A),r.height*=A/r.width,r.width=A):null!=A&&null==x&&(A=Math.min(r.height,x),r.width*=A/r.height,r.height=A)}r=H(r,d);A=Math.floor(Math.max(r.x,0));x=Math.floor(Math.max(r.y,0));u={x:A,
y:x,width:Math.floor(Math.min(r.width,u-A)),height:Math.floor(Math.min(r.height,b-x))};b=u.width/u.height;r=r.width/r.height;r!==b&&(r>b?(b=Math.floor(u.width/r),u={x:u.x,y:Math.floor(u.y+(u.height-b)/2),width:u.width,height:b}):(b=Math.floor(u.height*r),u={x:Math.floor(u.x+(u.width-b)/2),y:u.y,width:b,height:u.height}));const {width:E,height:S}=B(d,u);a:switch(t){case "png":case "jpg":case "jpeg":b=t;break a;case null:case void 0:b="png";break a;default:b="png"}r=v[b];r=p.clamp(null!=C?C:r,0,100);
return{format:b,quality:r,area:u,width:E,height:S,rotation:w,disableDecorations:!!l,ignoreBackground:!(!d||!d.ignoreBackground),ignorePadding:!(!d||!d.ignorePadding)}}function q(d,b){return d.toDataURL(n[b.format],b.quality/100)}function z(d,b,t){t||(m||(m=document.createElement("canvas"),m.width=1,m.height=1),t=m);return t.getContext("2d").createImageData(d,b)}function B(d,b){if(!d)return b;const t=d.width;d=d.height;if(null!=t&&null!=d)return{width:Math.floor(t),height:Math.floor(d)};if(null==t&&
null==d)return b;b=b.width/b.height;return null==d?{width:Math.floor(t),height:Math.floor(t/b)}:{width:Math.floor(d*b),height:Math.floor(d)}}function H(d,b){if(!b||null==b.width||null==b.height)return d;b=b.width/b.height;const t=d.width/d.height;if(t===b)return d;if(t<b)return b=Math.floor(d.height*b),d.x-=(b-d.width)/2,d.width=b,d;b=Math.floor(d.width/b);d.y-=(b-d.height)/2;d.height=b;return d}function F(d,b){return!b||d&&d.ignorePadding?e:b}let m=null,k=!0;const n={png:"image/png",jpg:"image/jpeg",
jpeg:"image/jpeg"},v={png:100,jpg:98,jpeg:98},e={top:0,right:0,bottom:0,left:0};h.completeUserSettings=f;h.createEmptyImageData=function(d,b,t){if(!d||!b)throw Error("Cannot construct image data without dimensions");if(k)try{return new ImageData(d,b)}catch(C){k=!1}return z(d,b,t)};h.encodeResult=function(d,b,t,C){if(C.premultipliedAlpha){{var w=d.data;const r=w.length;for(let u=0;u<r;u+=4){var l=w[u+3];0<l&&(l/=255,w[u+0]/=l,w[u+1]/=l,w[u+2]/=l)}}}t.width=d.width;t.height=d.height;w=t.getContext("2d");
w.putImageData(d,0,0);C.flipY&&(w.save(),w.globalCompositeOperation="copy",w.scale(1,-1),w.translate(0,-w.canvas.height),w.drawImage(w.canvas,0,0),w.restore());d=w.getImageData(0,0,d.width,d.height);b=q(t,b);t.width=0;t.height=0;return{dataUrl:b,data:d}};h.resampleHermite=function(d,b,t,C=0,w=0,l=d.width-C,r=d.height-w,u=!1){const {data:A}=d,{width:x,height:E,data:S}=b;l/=x;r/=E;const aa=Math.ceil(l/2),da=Math.ceil(r/2);d=d.width;for(let ea=0;ea<E;ea++)for(let oa=0;oa<x;oa++){const wa=4*(oa+(u?E-
ea-1:ea)*x);let D=0,I=0,Z=0,M=0,U=0,W=0;const J=(ea+.5)*r;for(let V=Math.floor(ea*r);V<(ea+1)*r;V++){var ja=Math.abs(J-(V+.5))/da;const fa=(oa+.5)*l;ja*=ja;for(let ha=Math.floor(oa*l);ha<(oa+1)*l;ha++){var ba=Math.abs(fa-(ha+.5))/aa;ba=Math.sqrt(ja+ba*ba);if(1<=ba)continue;ba=2*ba*ba*ba-3*ba*ba+1;const na=4*(C+ha+(w+V)*d);W+=ba*A[na+3];I+=ba;!t&&255>A[na+3]&&(ba=ba*A[na+3]/255);Z+=ba*A[na];M+=ba*A[na+1];U+=ba*A[na+2];D+=ba}}S[wa]=Z/D;S[wa+1]=M/D;S[wa+2]=U/D;S[wa+3]=W/I}return b};h.screenshotSuperSampleSettings=
function(d,b,t){if(!b)return d;const {framebufferWidth:C,framebufferHeight:w,pixelRatio:l,region:r}=d;b=F(d,t);t=b.left+b.right;const u=b.top+b.bottom,A=C-t,x=w-u,E=Math.min(8,Math.min((2048-t)/A,(2048-u)/x));return 1.5>E?d:{...d,framebufferWidth:Math.round(A*E)+t,framebufferHeight:Math.round(x*E)+u,pixelRatio:l*E,resample:{region:{x:Math.round((r.x-b.left)*E)+b.left,y:Math.round((r.y-b.top)*E)+b.top,width:Math.round(r.width*E),height:Math.round(r.height*E)},width:C,height:w}}};h.toDataUrl=q;h.toRenderSettings=
function(d,b){const t=f(d,b),C=t.area,w=t.width/C.width,l=F(t,b.padding),r=l.left+l.right,u=l.top+l.bottom;return{framebufferWidth:Math.floor((b.width-r)*w+r),framebufferHeight:Math.floor((b.height-u)*w+u),region:{x:Math.floor(C.x*w)+l.left,y:Math.floor(C.y*w)+l.top,width:t.width,height:t.height},format:t.format,quality:t.quality,rotation:t.rotation,pixelRatio:w,layers:d&&d.layers?d.layers:[],disableDecorations:t.disableDecorations,ignoreBackground:t.ignoreBackground,ignorePadding:t.ignorePadding}};
h.wrapImageData=function(d,b,t,C){if(!b||!t)throw Error("Cannot construct image data without dimensions");if(k)try{return new ImageData(d,b,t)}catch(w){k=!1}b=z(b,t,C);b.data.set(d,0);return b};Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/support/WebGLRequirements":function(){define(["exports","../../core/Error","../webgl/capabilities"],function(h,c,p){const f={checkMajorWebPerformanceCaveat:!0};h.check=function(q){q={...f,...q};const z=p();return z.available?q.checkMajorWebPerformanceCaveat&&
z.majorPerformanceCaveat?new c("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist."):z.supportsHighPrecisionFragment?z.supportsVertexShaderSamplers?z.supportsElementIndexUint?z.supportsStandardDerivatives?z.supportsInstancedArrays?null:new c("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported."):new c("webgl:standard-derivatives-required",
"WebGL support for standard derivatives is required but not supported."):new c("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported."):new c("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new c("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new c("webgl:required","WebGL is required but not supported.")};
Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/webgl/capabilities":function(){define(["./context-util"],function(h){function c(){const f={available:!1,version:0,majorPerformanceCaveat:!1,maxTextureSize:0,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1,supportsStandardDerivatives:!1,supportsInstancedArrays:!1,supportsTextureFloat:!1,supportsColorBufferFloat:!1};var q=document.createElement("canvas");if(!q)return f;var z=h.createContext(q,
{failIfMajorPerformanceCaveat:!0},"webgl");!z&&(z=h.createContext(q,{},"webgl"))&&(f.majorPerformanceCaveat=!0);if(!z)return f;q=z.getParameter(z.VERSION);if(!q)return f;if(q=q.match(/^WebGL\s+([\d.]*)/)){q=parseFloat(q[1]);f.available=.94<=q;if(q=z.getShaderPrecisionFormat(z.FRAGMENT_SHADER,z.HIGH_FLOAT))f.supportsHighPrecisionFragment=0<q.precision;f.supportsVertexShaderSamplers=0<z.getParameter(z.MAX_VERTEX_TEXTURE_IMAGE_UNITS);f.supportsElementIndexUint=null!==z.getExtension("OES_element_index_uint");
f.supportsStandardDerivatives=null!==z.getExtension("OES_standard_derivatives");f.supportsInstancedArrays=null!==z.getExtension("ANGLE_instanced_arrays");f.supportsTextureFloat=null!==z.getExtension("OES_texture_float");f.supportsColorBufferFloat=null!==z.getExtension("WEBGL_color_buffer_float")&&null!==z.getExtension("EXT_float_blend")}f.maxTextureSize=z.getParameter(z.MAX_TEXTURE_SIZE);z=(z=document.createElement("canvas"))&&h.createContext(z,{},"webgl2")?!0:!1;f.version=z?2:1;return f}let p;return function(){p||
(p=c());return p}})},"esri/views/webgl/context-util":function(){define(["exports"],function(h){function c(f,q={},z){switch(z){case "webgl":z=["webgl","experimental-webgl","webkit-3d","moz-webgl"];break;case "webgl2":z=["webgl2"];break;default:z=["webgl","experimental-webgl","webkit-3d","moz-webgl"]}let B=null;for(const H of z){try{B=f.getContext(H,q)}catch(F){}if(B)break}return B}function p(f,q){(f=f.parentNode)&&(f.innerHTML='\x3ctable style\x3d"background-color: #8CE; width: 100%; height: 100%;"\x3e\x3ctr\x3e\x3ctd align\x3d"center"\x3e\x3cdiv style\x3d"display: table-cell; vertical-align: middle;"\x3e\x3cdiv style\x3d""\x3e'+
q+"\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e")}h.createContext=c;h.createContextOrErrorHTML=function(f,q={},z){if(!window.WebGLRenderingContext)return p(f,'This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e'),null;q=c(f,q,z);return q?q:(p(f,'It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e'),
null)};Object.defineProperty(h,"__esModule",{value:!0})})},"esri/views/ui/2d/DefaultUI2D":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/Logger ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../DefaultUI".split(" "),function(h,c,p,f,q,z,B,H,F){f=function(m){function k(n){n=m.call(this,n)||this;n.components=["attribution",
"zoom"];return n}h._inheritsLoose(k,m);return k}(F);c.__decorate([p.property()],f.prototype,"components",void 0);return f=c.__decorate([H.subclass("esri.views.ui.2d.DefaultUI2D")],f)})},"esri/views/ui/DefaultUI":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/watchUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ./Component ./UI ../../widgets/Attribution ../../widgets/Compass ../../widgets/NavigationToggle ../../widgets/Zoom".split(" "),
function(h,c,p,f,q,z,B,H,F,m,k,n,v,e,d){f.getLogger("esri.views.ui.DefaultUI");p=function(b){function t(w){w=b.call(this,w)||this;w._defaultPositionLookup={attribution:"manual",compass:"top-leading","navigation-toggle":"top-leading",zoom:"top-leading"};w.components=[];return w}h._inheritsLoose(t,b);var C=t.prototype;C.initialize=function(){this._handles.add([q.init(this,"components",this._componentsWatcher.bind(this)),q.init(this,"view",this._updateViewAwareWidgets.bind(this))])};C._add=function(w,
l,r,u){if("string"===typeof w&&this._defaultPositionLookup[w]){if(this._find(w))return;w=this._createComponent(w)}b.prototype._add.call(this,w,l,r,u)};C._removeComponents=function(w){w.forEach(l=>{if(l=this._find(l))this.remove(l),l.destroy()})};C._updateViewAwareWidgets=function(w){this.components.forEach(l=>{(l=(l=this._find(l))&&l.widget)&&void 0!==l.view&&(l.view=w)})};C._componentsWatcher=function(w,l){this._removeComponents(l);this._addComponents(w);this._adjustPadding(w)};C._adjustPadding=
function(w){-1!==w.indexOf("attribution")||this._isOverridden("padding")||({top:w}=this.padding,this.padding=w)};C._addComponents=function(w){this.initialized&&w.forEach(l=>this.add(this._createComponent(l),this._defaultPositionLookup[l]))};C._createComponent=function(w){const l=this._createWidget(w);if(l)return new m({id:w,node:l})};C._createWidget=function(w){if("attribution"===w)return this._createAttribution();if("compass"===w)return this._createCompass();if("navigation-toggle"===w)return this._createNavigationToggle();
if("zoom"===w)return this._createZoom()};C._createAttribution=function(){return new n({view:this.view})};C._createCompass=function(){return new v({view:this.view})};C._createNavigationToggle=function(){return new e({view:this.view})};C._createZoom=function(){return new d({view:this.view})};return t}(k);c.__decorate([z.property()],p.prototype,"components",void 0);return p=c.__decorate([F.subclass("esri.views.ui.DefaultUI")],p)})},"esri/views/ui/Component":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/domUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/decorators/cast ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass".split(" "),
function(h,c,p,f,q,z,B,H,F,m){p=function(k){function n(){var e=k.apply(this,arguments)||this;e.widget=null;return e}h._inheritsLoose(n,k);var v=n.prototype;v.destroy=function(){this.widget&&this.widget.destroy();this.node=null};v.castNode=function(e){if(!e)return this._set("widget",null),null;if("string"===typeof e||e&&"nodeType"in e)return this._set("widget",null),f.byId(e);e&&"function"===typeof e.render&&!e.domNode&&(e.domNode=document.createElement("div"));this._set("widget",e);return e.domNode};
h._createClass(n,[{key:"id",get:function(){return this.get("widget.id")||this.get("node.id")}},{key:"node",set:function(e){const d=this._get("node");e!==d&&(e&&e.classList.add("esri-component"),d&&d.classList.remove("esri-component"),this._set("node",e))}}]);return n}(p);c.__decorate([q.property({dependsOn:[]})],p.prototype,"id",null);c.__decorate([q.property()],p.prototype,"node",null);c.__decorate([B.cast("node")],p.prototype,"castNode",null);c.__decorate([q.property({readOnly:!0})],p.prototype,
"widget",void 0);return p=c.__decorate([m.subclass("esri.views.ui.Component")],p)})},"esri/views/ui/UI":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/domUtils ../../core/Evented ../../core/Handles ../../core/watchUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/decorators/cast ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ./Component ../../widgets/support/widgetUtils".split(" "),
function(h,c,p,f,q,z,B,H,F,m,k,n,v,e){function d(w){return"object"!==typeof w||w instanceof v||"declaredClass"in w||!("component"in w||"index"in w||"position"in w)?null:w}function b(w,{top:l,bottom:r,left:u,right:A}){w.style.top=l;w.style.bottom=r;w.style.left=u;w.style.right=A}const t={left:0,top:0,bottom:0,right:0},C={bottom:30,top:15,right:15,left:15};f=function(w){function l(u){u=w.call(this,u)||this;u._cornerNameToContainerLookup={};u._positionNameToContainerLookup={};u._components=[];u._componentToKey=
new Map;u._handles=new q;u.view=null;u._initContainers();return u}h._inheritsLoose(l,w);var r=l.prototype;r.initialize=function(){this._handles.add([z.init(this,"view.padding, container",this._applyViewPadding.bind(this)),z.init(this,"padding",this._applyUIPadding.bind(this))])};r.destroy=function(){this.container=null;for(const u of this._components)u.destroy();this._components.length=0;this._handles.destroy();this._componentToKey.clear()};r.castPadding=function(u){return"number"===typeof u?{bottom:u,
top:u,right:u,left:u}:{...C,...u}};r.add=function(u,A){let x,E;if(Array.isArray(u))u.forEach(aa=>this.add(aa,A));else{var S=d(u);S&&({index:x,position:A,component:u,key:E}=S);A&&"object"===typeof A&&({index:x,key:E,position:A}=A);!u||A&&!this._isValidPosition(A)||this._add(u,A,x,E)}};r.remove=function(u,A){if(u){if(Array.isArray(u))return u.map(S=>this.remove(S,A));var x=this._find(u);if(x){var E=this._componentToKey;if(!E.has(u)||E.get(u)===A)return E=this._components.indexOf(x),x.node.parentNode&&
x.node.parentNode.removeChild(x.node),this._componentToKey.delete(u),this._components.splice(E,1)[0]}}};r.empty=function(u){if(Array.isArray(u))return u.map(A=>this.empty(A)).reduce((A,x)=>A.concat(x));u=u||"manual";return"manual"===u?Array.prototype.slice.call(this._manualContainer.children).filter(A=>!A.classList.contains("esri-ui-corner")).map(A=>this.remove(A)):this._isValidPosition(u)?Array.prototype.slice.call(this._cornerNameToContainerLookup[u].children).map(this.remove,this):null};r.move=
function(u,A){Array.isArray(u)&&u.forEach(S=>this.move(S,A));if(u){var x=d(u)||d(A);if(x){var E=x.index;A=x.position;u=x.component||u}(!A||this._isValidPosition(A))&&(u=this.remove(u))&&this.add(u,{position:A,index:E})}};r.find=function(u){return u?(u=this._findById(u))&&(u.widget||u.node):null};r.getPosition=function(u){for(const A in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[A].contains(u))return A;return null};r._add=function(u,A,x,E){u instanceof v||(u=new v({node:u}));
this._place({component:u,position:A,index:x});this._components.push(u);E&&this._componentToKey.set(u,E)};r._find=function(u){return u?u instanceof v?this._findByComponent(u):"string"===typeof u?this._findById(u):this._findByNode(u.domNode||u):null};r._getViewPadding=function(){return this.get("view.padding")||t};r._attachContainers=function(u){u.appendChild(this._innerContainer);u.appendChild(this._manualContainer)};r._initContainers=function(){var u=document.createElement("div");u.classList.add("esri-ui-inner-container");
u.classList.add("esri-ui-corner-container");const A=document.createElement("div");A.classList.add("esri-ui-inner-container");A.classList.add("esri-ui-manual-container");const x=document.createElement("div");x.classList.add("esri-ui-top-left");x.classList.add("esri-ui-corner");u.appendChild(x);const E=document.createElement("div");E.classList.add("esri-ui-top-right");E.classList.add("esri-ui-corner");u.appendChild(E);const S=document.createElement("div");S.classList.add("esri-ui-bottom-left");S.classList.add("esri-ui-corner");
u.appendChild(S);const aa=document.createElement("div");aa.classList.add("esri-ui-bottom-right");aa.classList.add("esri-ui-corner");u.appendChild(aa);this._innerContainer=u;this._manualContainer=A;u=e.isRTL();this._cornerNameToContainerLookup={"top-left":x,"top-right":E,"bottom-left":S,"bottom-right":aa,"top-leading":u?E:x,"top-trailing":u?x:E,"bottom-leading":u?aa:S,"bottom-trailing":u?S:aa};this._positionNameToContainerLookup={manual:A,...this._cornerNameToContainerLookup}};r._isValidPosition=function(u){return!!this._positionNameToContainerLookup[u]};
r._place=function(u){const A=u.component,x=u.index;u=this._positionNameToContainerLookup[u.position||"manual"];var E=-1<x,S=A.widget;S&&!S._started&&"function"===typeof S.postMixInProperties&&"function"===typeof S.buildRendering&&"function"===typeof S.postCreate&&"function"===typeof S.startup&&A.widget.startup();E?(E=Array.prototype.slice.call(u.children),0===x?u.firstChild?p.insertBefore(A.node,u.firstChild):u.appendChild(A.node):x>=E.length?u.appendChild(A.node):p.insertBefore(A.node,E[x])):u.appendChild(A.node)};
r._applyViewPadding=function(){const u=this.container;u&&b(u,this._toPxPosition(this._getViewPadding()))};r._applyUIPadding=function(){const u=this._innerContainer;u&&b(u,this._toPxPosition(this.padding))};r._toPxPosition=function(u){return{top:this._toPxUnit(u.top),left:this._toPxUnit(u.left),right:this._toPxUnit(u.right),bottom:this._toPxUnit(u.bottom)}};r._toPxUnit=function(u){return 0===u?"0":u+"px"};r._findByComponent=function(u){let A=null,x;this._components.some(E=>{(x=E===u)&&(A=E);return x});
return A};r._findById=function(u){let A=null,x;this._components.some(E=>{(x=E.id===u)&&(A=E);return x});return A};r._findByNode=function(u){let A=null,x;this._components.some(E=>{(x=E.node===u)&&(A=E);return x});return A};h._createClass(l,[{key:"container",set:function(u){const A=this._get("container");u!==A&&(u&&(u.classList.add("esri-ui"),u.classList.add(e.getCalciteThemeClass()),this._attachContainers(u)),A&&(A.classList.remove("esri-ui"),b(A,{top:"",bottom:"",left:"",right:""}),p.empty(A)),this._set("container",
u))}},{key:"height",get:function(){const u=this.get("view.height")||0;if(0===u)return u;const A=this._getViewPadding();return Math.max(u-(A.top+A.bottom),0)}},{key:"padding",get:function(){return this._get("padding")},set:function(u){u?this._override("padding",u):this._clearOverride("padding")}},{key:"width",get:function(){const u=this.get("view.width")||0;if(0===u)return u;const A=this._getViewPadding();return Math.max(u-(A.left+A.right),0)}}]);return l}(f.EventedAccessor);c.__decorate([B.property()],
f.prototype,"container",null);c.__decorate([B.property()],f.prototype,"height",null);c.__decorate([B.property({value:C})],f.prototype,"padding",null);c.__decorate([F.cast("padding")],f.prototype,"castPadding",null);c.__decorate([B.property()],f.prototype,"view",void 0);c.__decorate([B.property()],f.prototype,"width",null);return f=c.__decorate([n.subclass("esri.views.ui.UI")],f)})},"esri/widgets/Attribution":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/watchUtils ../core/accessorSupport/decorators/aliasOf ../core/has ../core/accessorSupport/ensureType ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ./Widget ./Attribution/AttributionViewModel ./support/decorators/accessibleHandler ./support/decorators/messageBundle ./support/jsxFactory ./support/widgetUtils".split(" "),
function(h,c,p,f,q,z,B,H,F,m,k,n,v,e,d,b){q=function(t){function C(l,r){l=t.call(this,l,r)||this;l._isOpen=!1;l._attributionTextOverflowed=!1;l._prevSourceNodeHeight=0;l.iconClass="esri-icon-description";l.itemDelimiter=" | ";l.label=void 0;l.messages=null;l.view=null;l.viewModel=new n;return l}h._inheritsLoose(C,t);var w=C.prototype;w.initialize=function(){this.own(p.on(this,"viewModel.items","change",()=>this.scheduleRender()))};w.render=function(){return d.tsx("div",{bind:this,class:this.classes("esri-attribution esri-widget",
{["esri-attribution--open"]:this._isOpen}),onclick:this._toggleState,onkeydown:this._toggleState},this.renderSourcesNode(),this.renderPoweredBy())};w.renderPoweredBy=function(){return d.tsx("div",{class:"esri-attribution__powered-by"},"Powered by"," ",d.tsx("a",{class:this.classes("esri-attribution__link","esri-widget__anchor"),href:"http://www.esri.com/",target:"_blank",rel:"noreferrer"},"Esri"))};w.renderSourcesNode=function(){const l=this._isOpen,r=this._isInteractive(),u=r?0:-1,{attributionText:A}=
this,x=r?"button":void 0;return d.tsx("div",{afterCreate:this._afterSourcesNodeCreate,afterUpdate:this._afterSourcesNodeUpdate,bind:this,class:this.classes("esri-attribution__sources",{["esri-attribution__sources--open"]:l,["esri-interactive"]:r}),innerHTML:A,role:x,tabIndex:u})};w._afterSourcesNodeCreate=function(l){this._prevSourceNodeHeight=l.clientWidth};w._afterSourcesNodeUpdate=function(l){let r=!1;const {clientHeight:u,clientWidth:A,scrollWidth:x}=l;l=x>=A;const E=this._attributionTextOverflowed!==
l;this._attributionTextOverflowed=l;E&&(r=!0);this._isOpen&&(l=u<this._prevSourceNodeHeight,this._prevSourceNodeHeight=u,l&&(this._isOpen=!1,r=!0));r&&this.scheduleRender()};w._toggleState=function(){this._isInteractive()&&(this._isOpen=!this._isOpen)};w._isInteractive=function(){return this._isOpen||this._attributionTextOverflowed};h._createClass(C,[{key:"attributionText",get:function(){return this.viewModel.items.reduce((l,r)=>{-1===l.indexOf(r.text)&&l.push(r.text);return l},[]).join(this.itemDelimiter)}}]);
return C}(k);c.__decorate([F.property({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],q.prototype,"attributionText",null);c.__decorate([F.property()],q.prototype,"iconClass",void 0);c.__decorate([F.property()],q.prototype,"itemDelimiter",void 0);c.__decorate([F.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],q.prototype,"label",void 0);c.__decorate([F.property(),e.messageBundle("esri/widgets/Attribution/t9n/Attribution")],q.prototype,"messages",void 0);c.__decorate([f.aliasOf("viewModel.view")],
q.prototype,"view",void 0);c.__decorate([F.property({type:n})],q.prototype,"viewModel",void 0);c.__decorate([v.accessibleHandler()],q.prototype,"_toggleState",null);return q=c.__decorate([m.subclass("esri.widgets.Attribution")],q)})},"esri/widgets/Attribution/AttributionViewModel":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../core/asyncUtils ../../core/Collection ../../core/HandleOwner ../../core/watchUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../geometry/support/contains ../../geometry/support/webMercatorUtils ../../geometry/SpatialReference".split(" "),
function(h,c,p,f,q,z,B,H,F,m,k,n,v,e,d,b){function t(r,u){return r&&"copyright"in r&&(!u||"function"===typeof r.originOf&&"user"===r.originOf("copyright"))}function C(r,u){return r.length!==u.length||r.some((A,x)=>A.text!==u[x].text)}function w(r,u,A){A&&u&&(r.find(x=>x.layerView===u&&x.text===A)||r.push({text:A,layerView:u}))}const l=[];p=function(r){function u(x){var E=r.call(this,x)||this;E.clear=()=>{E._fetchedAttributionData.clear();E._pendingAttributions.clear();E.handles.remove("suspension");
E.notifyChange("state")};E._pendingAttributions=new Set;E._fetchedAttributionData=new Map;E.items=new q;E.view=null;E._allLayerViewsChange=S=>{E.handles.remove("suspension");const aa=E.get("view.allLayerViews");aa&&E.handles.add(aa.map(da=>da.watch(["suspended","attributionVisible"],E._updateAttributionItems)),"suspension");S&&S.removed&&S.removed.forEach(da=>{E._pendingAttributions.delete(da);E._fetchedAttributionData.delete(da)});E._updateAttributionItems()};E._updateAttributionItems=()=>{const S=
E.get("view.allLayerViews");l.length=0;S?(S.forEach(aa=>{if(!aa.suspended&&aa.get("layer.attributionVisible")){var da=aa.layer;if(t(da,"user"))w(l,aa,da.copyright);else if(da.hasAttributionData)if(E._fetchedAttributionData.has(aa)){var ja=E._fetchedAttributionData.get(aa);ja?w(l,aa,E._getDynamicAttribution(ja,E.view,da)):t(da)&&w(l,aa,da.copyright)}else E._fetchAttributionData(aa);else(ja=da.get("portalItem.accessInformation"))?w(l,aa,ja):w(l,aa,da.copyright)}}),C(E.items,l)&&(E.items.removeAll(),
E.items.addMany(l)),l.length=0,E.notifyChange("state")):E.clear()};E.handles.add([B.on(h._assertThisInitialized(E),"view.allLayerViews","change",E._allLayerViewsChange,E._allLayerViewsChange,E.clear),B.whenTrue(h._assertThisInitialized(E),"view.stationary",()=>E._updateAttributionItems())]);return E}h._inheritsLoose(u,r);var A=u.prototype;A.destroy=function(){this.view=null;this._fetchedAttributionData.clear();this._pendingAttributions.clear();this.items.removeAll()};A._fetchAttributionData=function(){var x=
h._asyncToGenerator(function*(E){if(!this._pendingAttributions.has(E)){this._pendingAttributions.add(E);var S=yield f.result(E.layer.fetchAttributionData());this._pendingAttributions.has(E)&&(S=S.ok?this._createContributionIndex(S.value,"bing-maps"===E.layer.type):null,this._pendingAttributions.delete(E),this._fetchedAttributionData.set(E,S));this._updateAttributionItems()}});return function(E){return x.apply(this,arguments)}}();A._createContributionIndex=function(x,E){x=x.contributors;const S={};
if(!x)return S;for(let ba=0;ba<x.length;ba++){const ea=x[ba];var aa=ea.coverageAreas;if(!aa)return;for(const oa of aa){var da=oa.bbox,ja=oa.zoomMin-(E&&oa.zoomMin?1:0);aa=oa.zoomMax-(E&&oa.zoomMax?1:0);for(da={extent:d.geographicToWebMercator({xmin:da[1],ymin:da[0],xmax:da[3],ymax:da[2],spatialReference:b.WGS84}),attribution:ea.attribution||"",score:null!=oa.score?oa.score:100,id:ba};ja<=aa;ja++)S[ja]=S[ja]||[],S[ja].push(da)}}S.maxKey=Math.max.apply(null,Object.keys(S));return S};A._getDynamicAttribution=
function(x,E,S){const {extent:aa,scale:da}=E;S=S.tileInfo.scaleToZoom(da);S=Math.min(x.maxKey,Math.round(S));if(!aa||null==S||-1>=S)return"";x=x[S];const ja=d.project(aa.center.clone().normalize(),E.spatialReference),ba={};return x?x.filter(ea=>{const oa=!ba[ea.id]&&ja&&e.extentContainsPoint(ea.extent,ja);oa&&(ba[ea.id]=!0);return oa}).sort((ea,oa)=>oa.score-ea.score||ea.objectId-oa.objectId).map(ea=>ea.attribution).join(", "):""};h._createClass(u,[{key:"state",get:function(){return this.get("view.ready")?
0<this._pendingAttributions.size?"loading":"ready":"disabled"}}]);return u}(z.HandleOwner);c.__decorate([H.property({readOnly:!0,type:q})],p.prototype,"items",void 0);c.__decorate([H.property({readOnly:!0})],p.prototype,"state",null);c.__decorate([H.property()],p.prototype,"view",void 0);return p=c.__decorate([v.subclass("esri.widgets.Attribution.AttributionViewModel")],p)})},"esri/widgets/Compass":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/accessorSupport/decorators/aliasOf ../core/has ../core/accessorSupport/ensureType ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ./Widget ./Compass/CompassViewModel ./support/decorators/accessibleHandler ./support/decorators/messageBundle ./support/jsxFactory ./support/widgetUtils".split(" "),
function(h,c,p,f,q,z,B,H,F,m,k,n,v,e,d){f=function(b){function t(w,l){w=b.call(this,w,l)||this;w.goToOverride=null;w.iconClass="esri-icon-locate-circled";w.label=void 0;w.messages=null;w.view=null;w.viewModel=new k;return w}h._inheritsLoose(t,b);var C=t.prototype;C.reset=function(){return this.viewModel.reset()};C.render=function(){const {orientation:w,state:l}=this.viewModel;var r="disabled"===l,u="compass"===("rotation"===l?"rotation":"compass");const A=r?-1:0;r={["esri-disabled"]:r,["esri-interactive"]:!r};
u={["esri-icon-compass"]:u,["esri-icon-dial"]:!u};const {messages:x}=this;return e.tsx("div",{bind:this,class:this.classes("esri-compass esri-widget--button esri-widget",r),onclick:this._reset,onkeydown:this._reset,role:"button",tabIndex:A,"aria-label":x.reset,title:x.reset},e.tsx("span",{"aria-hidden":"true",class:this.classes("esri-compass__icon",u),styles:this._toRotationTransform(w)}),e.tsx("span",{class:"esri-icon-font-fallback-text"},x.reset))};C._reset=function(){this.viewModel.reset()};C._toRotationTransform=
function(w){return{transform:`rotateZ(${w.z}deg)`}};return t}(m);c.__decorate([p.aliasOf("viewModel.goToOverride")],f.prototype,"goToOverride",void 0);c.__decorate([H.property()],f.prototype,"iconClass",void 0);c.__decorate([H.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],f.prototype,"label",void 0);c.__decorate([H.property(),v.messageBundle("esri/widgets/Compass/t9n/Compass")],f.prototype,"messages",void 0);c.__decorate([p.aliasOf("viewModel.view")],f.prototype,"view",void 0);
c.__decorate([H.property({type:k})],f.prototype,"viewModel",void 0);c.__decorate([n.accessibleHandler()],f.prototype,"_reset",null);return f=c.__decorate([F.subclass("esri.widgets.Compass")],f)})},"esri/widgets/Compass/CompassViewModel":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Handles ../../core/watchUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../support/GoTo".split(" "),
function(h,c,p,f,q,z,B,H,F,m,k,n){p=function(v){function e(b){b=v.call(this,b)||this;b._handles=new f;b.orientation={x:0,y:0,z:0};b.view=null;b._updateForCamera=b._updateForCamera.bind(h._assertThisInitialized(b));b._updateForRotation=b._updateForRotation.bind(h._assertThisInitialized(b));b._updateRotationWatcher=b._updateRotationWatcher.bind(h._assertThisInitialized(b));return b}h._inheritsLoose(e,v);var d=e.prototype;d.initialize=function(){this._handles.add(q.init(this,"view",this._updateRotationWatcher))};
d.destroy=function(){this._handles.destroy();this.view=this._handles=null};d.reset=function(){if(this.get("view.ready")){var b={};"2d"===this.view.type?b.rotation=0:b.heading=0;this.callGoTo({target:b})}};d._updateForRotation=function(b){void 0!==b&&null!==b&&(this.orientation={z:b})};d._updateForCamera=function(b){b&&(this.orientation={x:0,y:0,z:-b.heading})};d._updateRotationWatcher=function(b){this._handles.removeAll();b&&("2d"===b.type?this._handles.add(q.init(this,"view.rotation",this._updateForRotation)):
this._handles.add(q.init(this,"view.camera",this._updateForCamera)))};h._createClass(e,[{key:"canShowNorth",get:function(){const b=this.get("view.spatialReference");return!(!b||!b.isWebMercator&&!b.isGeographic)}},{key:"state",get:function(){return this.get("view.ready")?this.canShowNorth?"compass":"rotation":"disabled"}}]);return e}(n.GoToMixin(p));c.__decorate([z.property({readOnly:!0})],p.prototype,"canShowNorth",null);c.__decorate([z.property()],p.prototype,"orientation",void 0);c.__decorate([z.property({readOnly:!0})],
p.prototype,"state",null);c.__decorate([z.property()],p.prototype,"view",void 0);return p=c.__decorate([k.subclass("esri.widgets.CompassViewModel")],p)})},"esri/widgets/NavigationToggle":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/accessorSupport/decorators/aliasOf ../core/has ../core/accessorSupport/ensureType ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ./Widget ./NavigationToggle/NavigationToggleViewModel ./support/decorators/accessibleHandler ./support/decorators/messageBundle ./support/jsxFactory ./support/widgetUtils".split(" "),
function(h,c,p,f,q,z,B,H,F,m,k,n,v,e,d){f=function(b){function t(w,l){w=b.call(this,w,l)||this;w.iconClass="esri-icon-pan2";w.label=void 0;w.messages=null;w.view=null;w.viewModel=new k;return w}h._inheritsLoose(t,b);var C=t.prototype;C.toggle=function(){return this.viewModel.toggle()};C.render=function(){const w="disabled"===this.get("viewModel.state");var l="pan"===this.get("viewModel.navigationMode");const r={["esri-navigation-toggle__button--active"]:l};l={["esri-navigation-toggle__button--active"]:!l};
const u=w?-1:0,A=this.messages.toggle;return e.tsx("div",{bind:this,class:this.classes("esri-navigation-toggle esri-widget",{["esri-disabled"]:w,["esri-navigation-toggle--horizontal"]:"horizontal"===this.layout}),onclick:this._toggle,onkeydown:this._toggle,tabIndex:u,"aria-label":A,title:A},e.tsx("div",{class:this.classes("esri-navigation-toggle__button esri-widget--button","esri-navigation-toggle__button--pan",r)},e.tsx("span",{class:"esri-icon-pan"})),e.tsx("div",{class:this.classes("esri-navigation-toggle__button esri-widget--button",
"esri-navigation-toggle__button--rotate",l)},e.tsx("span",{class:"esri-icon-rotate"})))};C._toggle=function(){this.toggle()};h._createClass(t,[{key:"layout",set:function(w){"horizontal"!==w&&(w="vertical");this._set("layout",w)}}]);return t}(m);c.__decorate([H.property()],f.prototype,"iconClass",void 0);c.__decorate([H.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],f.prototype,"label",void 0);c.__decorate([H.property({value:"vertical"})],f.prototype,"layout",null);c.__decorate([H.property(),
v.messageBundle("esri/widgets/NavigationToggle/t9n/NavigationToggle")],f.prototype,"messages",void 0);c.__decorate([p.aliasOf("viewModel.view")],f.prototype,"view",void 0);c.__decorate([H.property({type:k})],f.prototype,"viewModel",void 0);c.__decorate([n.accessibleHandler()],f.prototype,"_toggle",null);return f=c.__decorate([F.subclass("esri.widgets.NavigationToggle")],f)})},"esri/widgets/NavigationToggle/NavigationToggleViewModel":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Handles ../../core/watchUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass".split(" "),
function(h,c,p,f,q,z,B,H,F,m,k){p=function(n){function v(d){d=n.call(this,d)||this;d._handles=new f;d.navigationMode="pan";d.view=null;return d}h._inheritsLoose(v,n);var e=v.prototype;e.initialize=function(){this._handles.add(q.when(this,"view.inputManager",this._setNavigationMode.bind(this)))};e.destroy=function(){this._handles.destroy();this.view=this._handles=null};e.toggle=function(){"disabled"!==this.state&&(this.navigationMode="pan"!==this.navigationMode?"pan":"rotate",this._setNavigationMode())};
e._setNavigationMode=function(){this.get("view.inputManager").primaryDragAction="pan"===this.navigationMode?"pan":"rotate"};h._createClass(v,[{key:"state",get:function(){return this.get("view.ready")&&"3d"===this.view.type?"ready":"disabled"}}]);return v}(p);c.__decorate([z.property({readOnly:!0})],p.prototype,"state",null);c.__decorate([z.property()],p.prototype,"navigationMode",void 0);c.__decorate([z.property()],p.prototype,"view",void 0);return p=c.__decorate([k.subclass("esri.widgets.NavigationToggleViewModel")],
p)})},"esri/widgets/Zoom":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/accessorSupport/decorators/aliasOf ../core/has ../core/accessorSupport/ensureType ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ./Widget ./support/widgetUtils ./support/decorators/messageBundle ./support/jsxFactory ./Zoom/IconButton ./Zoom/ZoomViewModel".split(" "),function(h,c,p,f,q,z,B,H,F,m,k,n,v,e,d){f=function(b){function t(w,
l){w=b.call(this,w,l)||this;w.iconClass="esri-icon-zoom-in-magnifying-glass";w.label=void 0;w.messages=null;w.view=null;w.viewModel=new d;return w}h._inheritsLoose(t,b);var C=t.prototype;C.initialize=function(){this._zoomInButton=new e({action:this.zoomIn.bind(this),iconClass:"esri-icon-plus"});this._zoomOutButton=new e({action:this.zoomOut.bind(this),iconClass:"esri-icon-minus"})};C.destroy=function(){this._zoomInButton.destroy();this._zoomOutButton.destroy();this._zoomOutButton=this._zoomInButton=
null};C.render=function(){const w=this.viewModel,l={["esri-zoom--horizontal"]:"horizontal"===this.layout};this._zoomInButton.enabled="ready"===w.state&&w.canZoomIn;this._zoomOutButton.enabled="ready"===w.state&&w.canZoomOut;this._zoomInButton.title=this.messages.zoomIn;this._zoomOutButton.title=this.messages.zoomOut;return v.tsx("div",{class:this.classes("esri-zoom esri-widget",l)},this._zoomInButton.render(),this._zoomOutButton.render())};C.zoomIn=function(){return this.viewModel.zoomIn()};C.zoomOut=
function(){return this.viewModel.zoomOut()};h._createClass(t,[{key:"layout",set:function(w){"horizontal"!==w&&(w="vertical");this._set("layout",w)}}]);return t}(m);c.__decorate([H.property()],f.prototype,"iconClass",void 0);c.__decorate([H.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],f.prototype,"label",void 0);c.__decorate([H.property({value:"vertical"})],f.prototype,"layout",null);c.__decorate([H.property(),n.messageBundle("esri/widgets/Zoom/t9n/Zoom")],f.prototype,"messages",
void 0);c.__decorate([p.aliasOf("viewModel.view")],f.prototype,"view",void 0);c.__decorate([H.property({type:d})],f.prototype,"viewModel",void 0);return f=c.__decorate([F.subclass("esri.widgets.Zoom")],f)})},"esri/widgets/Zoom/IconButton":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../Widget ../support/decorators/accessibleHandler ../support/jsxFactory ../support/widgetUtils".split(" "),
function(h,c,p,f,q,z,B,H,F,m,k,n){f=function(v){function e(){var b=v.apply(this,arguments)||this;b.enabled=!0;b.iconClass="";b.title="";return b}h._inheritsLoose(e,v);var d=e.prototype;d.render=function(){const b=this.enabled?0:-1,t={[this.iconClass]:!!this.iconClass};return k.tsx("div",{bind:this,class:this.classes("esri-widget--button esri-widget",{["esri-disabled"]:!this.enabled,["esri-interactive"]:this.enabled}),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:b,
title:this.title},k.tsx("span",{"aria-hidden":"true",role:"presentation",class:this.classes("esri-icon",t)}),k.tsx("span",{class:"esri-icon-font-fallback-text"},this.title))};d._triggerAction=function(){this.action.call(this)};return e}(F);c.__decorate([p.property()],f.prototype,"action",void 0);c.__decorate([p.property()],f.prototype,"enabled",void 0);c.__decorate([p.property()],f.prototype,"iconClass",void 0);c.__decorate([p.property()],f.prototype,"title",void 0);c.__decorate([m.accessibleHandler()],
f.prototype,"_triggerAction",null);return f=c.__decorate([H.subclass("esri.widgets.IconButton")],f)})},"esri/widgets/Zoom/ZoomViewModel":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ./ZoomConditions2D ./ZoomConditions3D".split(" "),function(h,
c,p,f,q,z,B,H,F,m,k,n){p=function(v){function e(b){b=v.call(this,b)||this;b.canZoomIn=!1;b.canZoomOut=!1;return b}h._inheritsLoose(e,v);var d=e.prototype;d.destroy=function(){this.view=null};d.zoomIn=function(){if(this.canZoomIn){var b=this.view;"2d"===b.type?b.mapViewNavigation.zoomIn():f.ignoreAbortErrors(b.goTo({zoomFactor:2}))}};d.zoomOut=function(){if(this.canZoomOut){var b=this.view;"2d"===b.type?b.mapViewNavigation.zoomOut():f.ignoreAbortErrors(b.goTo({zoomFactor:.5}))}};h._createClass(e,[{key:"state",
get:function(){return this.get("view.ready")?"ready":"disabled"}},{key:"view",set:function(b){b?"2d"===b.type?this._zoomConditions=new k({view:b}):"3d"===b.type&&(this._zoomConditions=new n({view:b})):this._zoomConditions=null;this._set("view",b)}}]);return e}(p);c.__decorate([q.property()],p.prototype,"_zoomConditions",void 0);c.__decorate([q.property({aliasOf:"_zoomConditions.canZoomIn",readOnly:!0})],p.prototype,"canZoomIn",void 0);c.__decorate([q.property({aliasOf:"_zoomConditions.canZoomOut",
readOnly:!0})],p.prototype,"canZoomOut",void 0);c.__decorate([q.property({readOnly:!0})],p.prototype,"state",null);c.__decorate([q.property()],p.prototype,"view",null);return p=c.__decorate([m.subclass("esri.widgets.Zoom.ZoomViewModel")],p)})},"esri/widgets/Zoom/ZoomConditions2D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass".split(" "),
function(h,c,p,f,q,z,B,H,F){p=function(m){function k(){return m.apply(this,arguments)||this}h._inheritsLoose(k,m);h._createClass(k,[{key:"canZoomIn",get:function(){if(!this.get("view.ready"))return!1;const n=this.get("view.animation.target.scale")||this.get("view.scale"),v=this.get("view.constraints.effectiveMaxScale");return 0===v||n>v}},{key:"canZoomOut",get:function(){if(!this.get("view.ready"))return!1;const n=this.get("view.animation.target.scale")||this.get("view.scale"),v=this.get("view.constraints.effectiveMinScale");
return 0===v||n<v}}]);return k}(p);c.__decorate([f.property({readOnly:!0})],p.prototype,"canZoomIn",null);c.__decorate([f.property({readOnly:!0})],p.prototype,"canZoomOut",null);c.__decorate([f.property()],p.prototype,"view",void 0);return p=c.__decorate([F.subclass("esri.widgets.Zoom.ZoomConditions2D")],p)})},"esri/widgets/Zoom/ZoomConditions3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass".split(" "),
function(h,c,p,f,q,z,B,H,F){p=function(m){function k(){return m.apply(this,arguments)||this}h._inheritsLoose(k,m);h._createClass(k,[{key:"canZoomIn",get:function(){return!!this.get("view.ready")}},{key:"canZoomOut",get:function(){return!!this.get("view.ready")}}]);return k}(p);c.__decorate([f.property({readOnly:!0})],p.prototype,"canZoomIn",null);c.__decorate([f.property({readOnly:!0})],p.prototype,"canZoomOut",null);c.__decorate([f.property()],p.prototype,"view",void 0);return p=c.__decorate([F.subclass("esri.widgets.Zoom.ZoomConditions3D")],
p)})},"esri/webmap/background/ColorBackground":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/has ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass".split(" "),function(h,c,p,f,q,z,B,H,F,m,k){var n;f=n=function(v){function e(d){d=v.call(this,d)||this;d.color=new p([0,0,0,1]);return d}h._inheritsLoose(e,
v);e.prototype.clone=function(){return new n(q.clone({color:this.color}))};return e}(f.JSONSupport);c.__decorate([z.property({type:p,json:{write:!0}})],f.prototype,"color",void 0);return f=n=c.__decorate([k.subclass("esri.webmap.background.ColorBackground")],f)})},"*noref":1}});
define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Graphic ../core/Collection ../core/CollectionFlattener ../core/Error ../core/has ../core/Logger ../core/maybe ../core/watchUtils ../core/workers/workers ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/jsonMap ../core/accessorSupport/decorators/subclass ./BreakpointsOwner ./DOMContainer ./MapViewBase ./2d/input/MapViewInputManager ./2d/support/HighlightOptions ./support/screenshotUtils ./support/screenUtils ./support/WebGLRequirements ./ui/2d/DefaultUI2D ../webmap/background/ColorBackground".split(" "),function(h,
c,p,f,q,z,B,H,F,m,k,n,v,e,d,b,t,C,w,l,r,u,A,x,E,S){function aa(){return da.apply(this,arguments)}function da(){da=c._asyncToGenerator(function*(){const [,{GraphicsView2D:M,GraphicContainer:U,LabelManager:W,MapViewNavigation:J,MagnifierView2D:V,Stage:fa}]=yield Promise.all([new Promise(function(ha,na){h(["./webgl"],ha,na)}),new Promise(function(ha,na){h(["./2d/mapViewDeps"],ha,na)})]);oa=M;wa=U;D=W;I=J;Z=V;ea=fa});return da.apply(this,arguments)}function ja(M,U,W){M&&(Array.isArray(M)||q.isCollection(M)?
0!==M.length&&M.forEach(J=>ja(J,U,W)):M instanceof f?U.add(M):W.add(M))}const ba=F.getLogger("esri.views.MapView");let ea,oa,wa,D,I,Z;F=function(M){function U(J){var V=M.call(this,J)||this;V._magnifierView=null;V._stage=null;V._resolveWhenReady=[];V.rootLayerViews=new z({getCollections:()=>{var fa,ha;return[null==(fa=V.basemapView)?void 0:fa.baseLayerViews,V.layerViews,null==(ha=V.basemapView)?void 0:ha.referenceLayerViews]},getChildrenFunction:()=>null});V.floors=new q;V.graphicsView=null;V.highlightOptions=
new r;V.inputManager=new l({view:c._assertThisInitialized(V)});V.mapViewNavigation=null;V.supersampleScreenhotsEnabled=!1;V.ui=new E;V.rendering=!1;n.initialize();return V}c._inheritsLoose(U,M);var W=U.prototype;W.destroy=function(){this.rootLayerViews.destroy();this.inputManager.destroy();this._set("inputManager",null)};W.toMap=function(J){return A.isSupportedScreenPointEvent(J)?(J=A.createScreenPointFromSupportedEvent(this,J),M.prototype.toMap.call(this,J)):M.prototype.toMap.call(this,J)};W.hitTest=
function(J,V){const fa=A.isSupportedScreenPointEvent(J)?A.createScreenPointFromSupportedEvent(this,J):J;if(!this.ready||isNaN(fa.x)||isNaN(fa.y))return Promise.resolve({screenPoint:fa,results:[]});const ha=this.toMap(fa);J=[this.graphicsView];J.push.apply(J,this.allLayerViews.toArray().reverse());const na=new Set,ua=new Set,xa=new Set,sa=new Set;V&&(ja(V&&V.include,na,xa),ja(V&&V.exclude,ua,sa));return Promise.all(J.map(a=>!a||!a.hitTest||0<xa.size&&!a.layer||0<xa.size&&a.layer&&!xa.has(a.layer)||
0<sa.size&&a.layer&&sa.has(a.layer)?null:a.hitTest(fa.x,fa.y))).then(a=>({screenPoint:fa,results:a.filter(g=>null!=g&&(0<na.size?na.has(g):!0)&&(0<ua.size?!ua.has(g):!0)).map(g=>({mapPoint:ha,graphic:g}))}))};W.takeScreenshot=function(J){return this.ready?this._stage.takeScreenshot(u.toRenderSettings(J,this),this.allLayerViews):Promise.reject("Map view cannot be used before it is ready")};W.on=function(J,V,fa,ha){return(fa=this.inputManager&&this.viewEvents.on(J,V,fa,ha))?fa:M.prototype.on.call(this,
J,V)};W.hasEventListener=function(J){return M.prototype.hasEventListener.call(this,J)||this.viewEvents.hasHandler(J)};W.whenLayerView=function(J){return M.prototype.whenLayerView.call(this,J)};W.graphicChanged=function(J){this.graphicsView&&this.graphicsView.graphicUpdateHandler(J)};W.whenReady=function(){return new Promise(J=>{this.ready?J(this):this._resolveWhenReady.push(J)})};W.forceDOMReadyCycle=function(){this.forceReadyCycle()};W.validate=function(){let J=x.check({checkMajorWebPerformanceCaveat:!1});
H("safari")&&9>H("safari")&&(J=new B("mapview:browser-not-supported","This browser is not supported by MapView (Safari \x3c 9)",{type:"safari",requiredVersion:9,detectedVersion:H("safari")}));return m.isSome(J)?(ba.warn("#validate()",J.message),Promise.reject(J)):aa()};W._startup=function(){this.timeline.begin("MapView Startup");M.prototype._startup.call(this);this.graphics.owner=this;const J=new ea(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenhotsEnabled,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,
debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});var V=new oa({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new wa(this.featuresTilingScheme)});const fa=new I({view:this,animationManager:this.animationManager}),ha=new D({view:this});this._magnifierView=new Z;this._magnifierView.magnifier=this.magnifier;this._stage=J;this.frameTask.graphicsView=V;this._set("graphicsView",V);this._set("mapViewNavigation",
fa);this._set("labelManager",ha);this.handles.add([this.rootLayerViews.on("change",()=>this._updateStageChildren()),J.on("post-render",()=>this._set("rendering",J.renderRequested)),J.on("will-render",()=>this._set("rendering",J.renderRequested)),J.on("webgl-error",na=>this.fatalError=na.error),k.init(this,"stationary",na=>J.stationary=na,!0),k.init(this,"state.id",()=>J.state=this.state,!0),k.init(this,"background",na=>{J.background=na;this._magnifierView.background=na},!0),k.init(this,"magnifier",
na=>this._magnifierView.magnifier=na,!0),k.init(this,"renderingOptions",na=>J.renderingOptions=na,!0),k.init(this,"highlightOptions",()=>J.highlightOptions=this.highlightOptions,!0)],"map-view");J.state=this.state;this._updateStageChildren();V=this._resolveWhenReady;this._resolveWhenReady=[];V.forEach(na=>na(this));this.timeline.end("MapView Startup")};W._teardown=function(){this.handles.remove("map-view");this.layerViewManager.clear();this.labelManager.destroy();this._magnifierView.destroy();this._stage.destroy();
this.graphicsView.destroy();this.mapViewNavigation.destroy();this._stage=null;this._set("graphicsView",null);this._magnifierView=null;this._set("labelManager",null);this._set("mapViewNavigation",null);this.graphics.owner=null;M.prototype._teardown.call(this)};W._updateStageChildren=function(){this._stage.removeAllChildren();this.rootLayerViews.forEach(J=>{this._stage.addChild(J.container)});this._stage.addChild(this.graphicsView.container);this._stage.addChild(this._magnifierView)};c._createClass(U,
[{key:"background",get:function(){return this.get("map.initialViewProperties.background")||null},set:function(J){void 0===J?this._clearOverride("background"):this._override("background",J)}},{key:"textureManager",get:function(){return this._stage.painter.textureManager}},{key:"navigating",get:function(){return!(!this.mapViewNavigation||!this.mapViewNavigation.interacting)}}]);return U}(t.BreakpointsOwner(C.DOMContainer(w)));p.__decorate([v.property({type:S})],F.prototype,"background",null);p.__decorate([v.property()],
F.prototype,"floors",void 0);p.__decorate([v.property()],F.prototype,"graphicsView",void 0);p.__decorate([v.property({type:r})],F.prototype,"highlightOptions",void 0);p.__decorate([v.property({readOnly:!0})],F.prototype,"inputManager",void 0);p.__decorate([v.property({readOnly:!0})],F.prototype,"textureManager",null);p.__decorate([v.property({readOnly:!0})],F.prototype,"mapViewNavigation",void 0);p.__decorate([v.property({type:Boolean})],F.prototype,"navigating",null);p.__decorate([v.property({type:Boolean,
constructOnly:!0})],F.prototype,"supersampleScreenhotsEnabled",void 0);p.__decorate([v.property({type:E})],F.prototype,"ui",void 0);p.__decorate([v.property({readOnly:!0})],F.prototype,"rendering",void 0);p.__decorate([v.property({constructOnly:!0})],F.prototype,"renderCanvas",void 0);p.__decorate([v.property({constructOnly:!0})],F.prototype,"deactivatedWebGLExtensions",void 0);p.__decorate([v.property({constructOnly:!0})],F.prototype,"debugWebGLExtensions",void 0);return F=p.__decorate([b.subclass("esri.views.MapView")],
F)});