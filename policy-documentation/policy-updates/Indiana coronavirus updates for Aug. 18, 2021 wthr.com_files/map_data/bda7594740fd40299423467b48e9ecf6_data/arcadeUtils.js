// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
require({cache:{"esri/chunks/arcade":function(){define("require exports ../arcade/arcadeCompiler ../arcade/arcadeRuntime ./languageUtils ../arcade/parser ../arcade/treeAnalysis ../core/has ../core/promiseUtils ../intl/moment".split(" "),function(w,v,B,r,l,k,e,g,d,h){function t(z,x){return!0===x.useAsync||!0===z.isAsync?a(z,x):g("csp-restrictions")?function(I){return r.executeScript(z,I)}:B.compileScript(z,x)}function a(z,x){if(null===P)throw Error("Async Arcade must be enabled for this script");return g("csp-restrictions")||
!1===M?function(I){return P.executeScript(z,I)}:B.compileScript(z,x,!0)}function f(z){r.extend(z);B.extend(z,"sync");null===P?W.push(z):(B.extend(z,"async"),P.extend(z))}function m(z,x=[]){return k.parseScript(z,x)}function q(z,x,I=""){return k.validateScript(z,x,I)}function E(z,x,I,L=""){return k.scriptCheck(z,x,I,L)}function J(z,x,I=[]){z=k.parseScript(z,I);return A(z,x)}function A(z,x){if(!0===x.useAsync||!0===z.isAsync){if(null===P)throw Error("Async Arcade must be enabled for this script");return P.executeScript(z,
x)}return r.executeScript(z,x)}function G(z,x){return r.referencesMember(z,x)}function c(z,x){return r.referencesFunction(z,x)}function p(z,x){return k.extractFieldLiterals(z)}function b(z,x=[]){void 0===z.usesGeometry&&e.findScriptDependencies(z,x);return!0===z.usesGeometry}function D(){return ba?ba:ba=d.all([new Promise(function(z,x){w(["../geometry/geometryEngine"],z,x)}),new Promise(function(z,x){w(["../arcade/functions/geomsync"],z,x)})]).then(([z,x])=>{N=!0;x.setGeometryEngine(z);return!0})}
function C(){return null!==oa?oa:oa=B.enableAsyncSupport().then(()=>new Promise(function(z,x){w(["../arcade/arcadeAsyncRuntime"],z,x)})).then(z=>{P=z;for(const x of W)P.extend(x),B.extend(x,"async");W=null;return!0})}function R(){return T}function Y(){return P?!0:!1}function U(){return N}function ia(){return ha?ha:ha=C().then(()=>d.all([new Promise(function(z,x){w(["../arcade/featureSetUtils"],z,x)}),new Promise(function(z,x){w(["../arcade/functions/featuresetbase"],z,x)}),new Promise(function(z,
x){w(["../arcade/functions/featuresetgeom"],z,x)}),new Promise(function(z,x){w(["../arcade/functions/featuresetstats"],z,x)}),new Promise(function(z,x){w(["../arcade/functions/featuresetstring"],z,x)})]).then(([z,x,I,L,S])=>{na=z;P.extend([x,I,L,S]);B.extend([x,I,L,S],"async");return T=!0}))}function aa(z,x=[]){void 0===z.usesFeatureSet&&e.findScriptDependencies(z,x);return!0===z.usesFeatureSet}function ya(z,x=[]){void 0===z.isAsync&&e.findScriptDependencies(z,x);return!0===z.isAsync}function za(z,
x){if(x)for(const I of x)if(G(z,I))return!0;return!1}function va(z,x,I=[],L=!1){return d.create((S,da)=>{const ra="string"===typeof z?m(z):z,ka=[];ka.push(ua());ra&&(!1===N&&(b(ra)||L)&&ka.push(D()),!1===Y()&&(!0===ra.isAsync||x)&&ka.push(C()),!1===T&&(aa(ra)||za(ra,I))&&ka.push(ia()));ka?d.all(ka).then(()=>{S(!0)},da):S(!0)})}function xa(z){if(b(z))return!0;z=e.findFunctionCalls(z);let x=!1;for(let I=0;I<z.length;I++)if(-1<Ba.indexOf(z[I])){x=!0;break}return x}function fa(){return na}function ua(){return null!==
la?la:la=h.loadMoment().then(z=>{l.MomentLibrary.Moment=z;return!0})}const Ba="feature angle bearing centroid envelopeintersects extent geometry isselfintersecting ringisclockwise".split(" "),M=function(){if(g("csp-restrictions"))return!1;try{return(new Function("function* test() {}; return true"))()}catch(z){return!1}}();let T=!1,N=!1,P=null,W=[],ba=null,oa=null,ha=null,na=null,la=null;var ta=Object.freeze({__proto__:null,compileScript:t,extend:f,parseScript:m,validateScript:q,scriptCheck:E,parseAndExecuteScript:J,
executeScript:A,referencesMember:G,referencesFunction:c,extractFieldLiterals:p,scriptUsesGeometryEngine:b,enableGeometrySupport:D,enableAsyncSupport:C,isFeatureSetSupportEnabled:R,isAsyncEnabled:Y,isGeometryEnabled:U,enableFeatureSetSupport:ia,scriptUsesFeatureSet:aa,scriptIsAsync:ya,loadScriptDependencies:va,scriptTouchesGeometry:xa,featureSetUtils:fa,load:ua});v.arcade=ta;v.compileScript=t;v.enableAsyncSupport=C;v.enableFeatureSetSupport=ia;v.enableGeometrySupport=D;v.executeScript=A;v.extend=f;
v.extractFieldLiterals=p;v.featureSetUtils=fa;v.isAsyncEnabled=Y;v.isFeatureSetSupportEnabled=R;v.isGeometryEnabled=U;v.load=ua;v.loadScriptDependencies=va;v.parseAndExecuteScript=J;v.parseScript=m;v.referencesFunction=c;v.referencesMember=G;v.scriptCheck=E;v.scriptIsAsync=ya;v.scriptTouchesGeometry=xa;v.scriptUsesFeatureSet=aa;v.scriptUsesGeometryEngine=b;v.validateScript=q})},"esri/arcade/arcadeCompiler":function(){define("require exports ./ArcadePortal ./Attachment ./Dictionary ./Feature ./ImmutablePathArray ./ImmutablePointArray ../chunks/languageUtils ./treeAnalysis ./functions/array ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ../core/promiseUtils ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../geometry/SpatialReference ../views/2d/layers/features/support/FeatureSetReader".split(" "),
function(w,v,B,r,l,k,e,g,d,h,t,a,f,m,q,E,J,A,G,c,p,b,D,C,R,Y){function U(n,u,H){try{return H(n,null,u)}catch(K){throw K;}}function ia(n){return n instanceof Error?A.reject(n):A.reject(Error(n))}function aa(n,u){try{switch(u.type){case "EmptyStatement":return"lc.voidOperation";case "VariableDeclarator":return fa(n,u);case "VariableDeclaration":var H,K=[];for(var Q=0;Q<u.declarations.length;Q++)K.push(aa(n,u.declarations[Q]));return H=K.join("\n")+" \n lastStatement\x3d  lc.voidOperation; \n";case "BlockStatement":return xa(n,
u);case "FunctionDeclaration":{const F=u.id.name.toLowerCase(),O={isAsync:n.isAsync,spatialReference:n.spatialReference,console:n.console,lrucache:n.lrucache,interceptor:n.interceptor,services:n.services,symbols:n.symbols,mangleMap:n.mangleMap,localScope:{_SymbolsMap:{}},depthCounter:n.depthCounter+1,globalScope:n.globalScope};if(64<O.depthCounter)throw Error("Exceeded maximum function depth");K="new lc.SizzleFunction( lang.functionDepthchecker(function() { var lastStatement \x3d lc.voidOperation; \n   var lscope \x3d runtimeCtx.localStack[runtimeCtx.localStack.length-1];\n";
for(H=0;H<u.params.length;H++){const Z=u.params[H].name.toLowerCase(),X=oa(n);O.localScope._SymbolsMap[Z]=X;O.mangleMap[Z]=X;K+="lscope['"+X+"']\x3darguments["+H.toString()+"];\n"}!0===n.isAsync?(K=K+"return lang.__awaiter(this, void 0, void 0, function* () {\n"+(xa(O,u.body)+"\n return lastStatement; "),K+="});  }, runtimeCtx))\n lastStatement \x3d lc.voidOperation; \n"):(K+=xa(O,u.body)+"\n return lastStatement; }, runtimeCtx))",K+="\n lastStatement \x3d lc.voidOperation; \n");if(void 0!==n.globalScope[F])Q=
"gscope['"+F+"']\x3d"+K;else if(void 0!==n.globalScope._SymbolsMap[F])Q="gscope['"+n.globalScope._SymbolsMap[F]+"']\x3d"+K;else{{const Z=oa(n);n.globalScope._SymbolsMap[F]=Z;n.mangleMap[F]=Z;Q="gscope['"+Z+"']\x3d"+K}}}return Q;case "ReturnStatement":var ja=null===u.argument?"return lc.voidOperation":"return "+aa(n,u.argument);return ja;case "IfStatement":{if("AssignmentExpression"===u.test.type||"UpdateExpression"===u.test.type)throw Error(h.nodeErrorMessage(u.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));
const F=aa(n,u.test),O=ha(n);let Z="var "+O+" \x3d "+F+";\n if ("+O+" \x3d\x3d\x3d true) {\n"+va(n,u.consequent)+"\n }\n";Z=null!==u.alternate?Z+("else if ("+O+"\x3d\x3d\x3dfalse)   { \n"+va(n,u.alternate)+"}\n"):Z+("else if ("+O+"\x3d\x3d\x3dfalse) { \n lastStatement \x3d lc.voidOperation;\n }\n");var ma=Z+="else { lang.error({type: '"+u.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION'); \n}\n"}return ma;case "ExpressionStatement":var qa="AssignmentExpression"===u.expression.type?"lastStatement \x3d lc.voidOperation; "+
aa(n,u.expression)+"; \n ":"lastStatement \x3d "+aa(n,u.expression)+"; ";return qa;case "AssignmentExpression":return za(n,u);case "UpdateExpression":return ya(n,u);case "BreakStatement":return"break";case "ContinueStatement":return"continue";case "TemplateLiteral":try{K=[];H=0;for(const F of u.quasis)K.push(F.value?JSON.stringify(F.value.cooked):JSON.stringify("")),!1===F.tail&&(K.push(u.expressions[H]?"lang.castString(lang.aCheck("+aa(n,u.expressions[H])+", 'TemplateLiteral'))":""),H++);var V="(["+
K.join(",")+"]).join('')"}catch(F){throw F;}return V;case "TemplateElement":return JSON.stringify(u.value?u.value.cooked:"");case "ForStatement":{K="lastStatement \x3d lc.voidOperation; \n";null!==u.init&&(K+=aa(n,u.init)+"; ");const F=ha(n),O=ha(n);K+="var "+F+" \x3d true; \n do { ";null!==u.update&&(K+=" if ("+F+"\x3d\x3d\x3dfalse) {\n "+aa(n,u.update)+"  \n}\n "+F+"\x3dfalse; \n");null!==u.test&&(K+="var "+O+" \x3d "+aa(n,u.test)+"; ",K+="if ("+O+"\x3d\x3d\x3dfalse) { break; } else if ("+O+"!\x3d\x3dtrue) { lang.error({type: '"+
u.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION');   }\n");K+=aa(n,u.body);null!==u.update&&(K+="\n "+aa(n,u.update));var ea=K+("\n"+F+" \x3d true; \n} while(true);  lastStatement \x3d lc.voidOperation; ")}return ea;case "ForInStatement":{const F=ha(n),O=ha(n),Z=ha(n);let X="var "+F+" \x3d "+aa(n,u.right)+";\n";"VariableDeclaration"===u.left.type&&(X+=aa(n,u.left));let pa="VariableDeclaration"===u.left.type?u.left.declarations[0].id.name:u.left.name;pa=pa.toLowerCase();K="";null!==n.localScope&&
(void 0!==n.localScope[pa]?K="lscope['"+pa+"']":void 0!==n.localScope._SymbolsMap[pa]&&(K="lscope['"+n.localScope._SymbolsMap[pa]+"']"));""===K&&(void 0!==n.globalScope[pa]?K="gscope['"+pa+"']":void 0!==n.globalScope._SymbolsMap[pa]&&(K="gscope['"+n.globalScope._SymbolsMap[pa]+"']"));X=X+("if ("+F+"\x3d\x3d\x3dnull) {  lastStatement \x3d lc.voidOperation; }\n else if (lc.isArray(")+(F+") || lc.isString("+F+")) {var ")+(O+"\x3d"+F+".length; \nfor(var ")+(Z+"\x3d0; "+Z+"\x3c"+O+"; "+Z+"++) {\n");X+=
K+"\x3d"+Z+";\n";X+=aa(n,u.body);X+="\n}\n";X+=" lastStatement \x3d lc.voidOperation; \n";X+=" \n}\n";X+="else if (lc.isImmutableArray("+F+")) {";X=X+("var "+O+"\x3d"+F+".length(); \nfor(var ")+(Z+"\x3d0; "+Z+"\x3c"+O+"; "+Z+"++) {\n");X+=K+"\x3d"+Z+";\n";X+=aa(n,u.body);X+="\n}\n";X+=" lastStatement \x3d lc.voidOperation; \n";X+=" \n}\n";X+="else if (( "+F+" instanceof lang.Dictionary) || ( "+F+" instanceof lang.Feature)) {";X=X+("var "+O+"\x3d"+F+".keys(); \nfor(var ")+(Z+"\x3d0; "+Z+"\x3c"+O+".length; "+
Z+"++) {\n");X+=K+"\x3d"+O+"["+Z+"];\n";X+=aa(n,u.body);X+="\n}\n";X+=" lastStatement \x3d lc.voidOperation; \n";X+=" \n}\n";n.isAsync&&(X+="else if (lc.isFeatureSet("+F+")) {",X=X+("var "+O+"\x3d"+F+".iterator(runtimeCtx.abortSignal); \nfor(var ")+(Z+"\x3dlang. graphicToFeature( yield "+O+".next(),"+F+"); "+Z+"!\x3dnull; "+Z+"\x3dlang. graphicToFeature( yield "+O+".next(),"+F+")) {\n")+(K+"\x3d"+Z+";\n"),X+=aa(n,u.body),X+="\n}\n",X+=" lastStatement \x3d lc.voidOperation; \n",X+=" \n}\n");var ca=
X+="else { lastStatement \x3d lc.voidOperation; } \n"}return ca;case "Identifier":return Ba(n,u);case "MemberExpression":try{let F;F=!0===u.computed?aa(n,u.property):"'"+u.property.name+"'";var Fa="lang.member("+aa(n,u.object)+","+F+")"}catch(F){throw F;}return Fa;case "Literal":return null===u.value||void 0===u.value?"null":JSON.stringify(u.value);case "ThisExpression":throw Error(h.nodeErrorMessage(u,"RUNTIME","NOTSUPPORTED"));case "CallExpression":try{if("Identifier"!==u.callee.type)throw Error(h.nodeErrorMessage(u,
"RUNTIME","ONLYNODESSUPPORTED"));const F=u.callee.name.toLowerCase();H="";null!==n.localScope&&(void 0!==n.localScope[F]?H="lscope['"+F+"']":void 0!==n.localScope._SymbolsMap[F]&&(H="lscope['"+n.localScope._SymbolsMap[F]+"']"));""===H&&(void 0!==n.globalScope[F]?H="gscope['"+F+"']":void 0!==n.globalScope._SymbolsMap[F]&&(H="gscope['"+n.globalScope._SymbolsMap[F]+"']"));if(""!==H){Q="[";for(V=0;V<u.arguments.length;V++)0<V&&(Q+=", "),Q+=aa(n,u.arguments[V]);Q+="]";K=n.isAsync?"(yield lang.callfunc("+
H+","+Q+",runtimeCtx) )":"lang.callfunc("+H+","+Q+",runtimeCtx)"}else throw Error(h.nodeErrorMessage(u,"RUNTIME","NOTFOUND"));}catch(F){throw F;}return K;case "UnaryExpression":try{var Ga="lang.unary("+aa(n,u.argument)+",'"+u.operator+"')"}catch(F){throw F;}return Ga;case "BinaryExpression":try{var Ea="lang.binary("+aa(n,u.left)+","+aa(n,u.right)+",'"+u.operator+"')"}catch(F){throw F;}return Ea;case "LogicalExpression":try{if("AssignmentExpression"===u.left.type||"UpdateExpression"===u.left.type)throw Error(h.nodeErrorMessage(u.left,
"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===u.right.type||"UpdateExpression"===u.right.type)throw Error(h.nodeErrorMessage(u.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("\x26\x26"===u.operator||"||"===u.operator)var Ca="(lang.logicalCheck("+aa(n,u.left)+") "+u.operator+" lang.logicalCheck("+aa(n,u.right)+"))";else throw Error(h.nodeErrorMessage(u,"RUNTIME","ONLYORORAND"));}catch(F){throw F;}return Ca;case "ConditionalExpression":throw Error(h.nodeErrorMessage(u,
"RUNTIME","NOTSUPPORTED"));case "ArrayExpression":try{K=[];for(H=0;H<u.elements.length;H++)"Literal"===u.elements[H].type?K.push(aa(n,u.elements[H])):K.push("lang.aCheck("+aa(n,u.elements[H])+",'ArrayExpression')");var Ha="["+K.join(",")+"]"}catch(F){throw F;}return Ha;case "ObjectExpression":var y;K="lang.dictionary([";for(H=0;H<u.properties.length;H++){const F=u.properties[H],O="Identifier"===F.key.type?"'"+F.key.name+"'":aa(n,F.key),Z=aa(n,F.value);0<H&&(K+=",");K+="lang.strCheck("+O+",'ObjectExpression'),lang.aCheck("+
Z+", 'ObjectExpression')"}return y=K+"])";case "Property":throw Error("Should not get here");case "Array":throw Error(h.nodeErrorMessage(u,"RUNTIME","NOTSUPPORTED"));default:throw Error(h.nodeErrorMessage(u,"RUNTIME","UNREOGNISED"));}}catch(F){throw F;}}function ya(n,u){let H=null,K="";if("MemberExpression"===u.argument.type)return H=aa(n,u.argument.object),K=!0===u.argument.computed?aa(n,u.argument.property):"'"+u.argument.property.name+"'","lang.memberupdate("+H+","+K+",'"+u.operator+"',"+u.prefix+
")";H=u.argument.name.toLowerCase();if(null!==n.localScope){if(void 0!==n.localScope[H])return"lang.update(lscope, '"+H+"','"+u.operator+"',"+u.prefix+")";if(void 0!==n.localScope._SymbolsMap[H])return"lang.update(lscope, '"+n.localScope._SymbolsMap[H]+"','"+u.operator+"',"+u.prefix+")"}if(void 0!==n.globalScope[H])return"lang.update(gscope, '"+H+"','"+u.operator+"',"+u.prefix+")";if(void 0!==n.globalScope._SymbolsMap[H])return"lang.update(gscope, '"+n.globalScope._SymbolsMap[H]+"','"+u.operator+
"',"+u.prefix+")";throw Error("Variable not recognised");}function za(n,u){const H=aa(n,u.right);let K=null,Q="";if("MemberExpression"===u.left.type)return K=aa(n,u.left.object),Q=!0===u.left.computed?aa(n,u.left.property):"'"+u.left.property.name+"'","lang.assignmember("+K+","+Q+",'"+u.operator+"',"+H+")";K=u.left.name.toLowerCase();if(null!==n.localScope){if(void 0!==n.localScope[K])return"lscope['"+K+"']\x3dlang.assign("+H+",'"+u.operator+"', lscope['"+K+"'])";if(void 0!==n.localScope._SymbolsMap[K])return"lscope['"+
n.localScope._SymbolsMap[K]+"']\x3dlang.assign("+H+",'"+u.operator+"', lscope['"+n.localScope._SymbolsMap[K]+"'])"}if(void 0!==n.globalScope[K])return"gscope['"+K+"']\x3dlang.assign("+H+",'"+u.operator+"', gscope['"+K+"'])";if(void 0!==n.globalScope._SymbolsMap[K])return"gscope['"+n.globalScope._SymbolsMap[K]+"']\x3dlang.assign("+H+",'"+u.operator+"', gscope['"+n.globalScope._SymbolsMap[K]+"'])";throw Error("Variable not recognised");}function va(n,u){return"BlockStatement"===u.type?aa(n,u):"ReturnStatement"===
u.type||"BreakStatement"===u.type||"ContinueStatement"===u.type?aa(n,u)+"; ":"UpdateExpression"===u.type?"lastStatement \x3d "+aa(n,u)+"; ":"ExpressionStatement"===u.type?aa(n,u):"ObjectExpression"===u.type?"lastStatement \x3d "+aa(n,u)+"; ":aa(n,u)+"; "}function xa(n,u){let H="";for(let K=0;K<u.body.length;K++)H="ReturnStatement"===u.body[K].type?H+(aa(n,u.body[K])+"; \n"):"BreakStatement"===u.body[K].type?H+(aa(n,u.body[K])+"; \n"):"ContinueStatement"===u.body[K].type?H+(aa(n,u.body[K])+"; \n"):
"UpdateExpression"===u.body[K].type?H+("lastStatement \x3d "+aa(n,u.body[K])+"; \n"):"ObjectExpression"===u.body[K].type?H+("lastStatement \x3d "+aa(n,u.body[K])+"; \n"):H+(aa(n,u.body[K])+" \n");return H}function fa(n,u){let H=null===u.init?null:aa(n,u.init);H===d.voidOperation&&(H=null);u=u.id.name.toLowerCase();if(null!==n.localScope){if(void 0!==n.localScope[u])return"lscope['"+u+"']\x3d"+H+"; ";if(void 0!==n.localScope._SymbolsMap[u])return"lscope['"+n.localScope._SymbolsMap[u]+"']\x3d"+H+"; ";
var K=oa(n);n.localScope._SymbolsMap[u]=K;n.mangleMap[u]=K;return"lscope['"+K+"']\x3d"+H+"; "}if(void 0!==n.globalScope[u])return"gscope['"+u+"']\x3d"+H+"; ";if(void 0!==n.globalScope._SymbolsMap[u])return"gscope['"+n.globalScope._SymbolsMap[u]+"']\x3d"+H+"; ";K=oa(n);n.globalScope._SymbolsMap[u]=K;n.mangleMap[u]=K;return"gscope['"+K+"']\x3d"+H+"; "}function ua(n,u,H){u=u.toLowerCase();switch(u){case "hasz":return n=n.hasZ,void 0===n?!1:n;case "hasm":return n=n.hasM,void 0===n?!1:n;case "spatialreference":return u=
n.spatialReference._arcadeCacheId,void 0===u&&(H=!0,Object.freeze&&Object.isFrozen(n.spatialReference)&&(H=!1),H&&(x++,u=n.spatialReference._arcadeCacheId=x)),n=new l({wkt:n.spatialReference.wkt,wkid:n.spatialReference.wkid}),void 0!==u&&(n._arcadeCacheId="SPREF"+u.toString()),n}switch(n.type){case "extent":switch(u){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return n=n[u],void 0!==n?n:null;case "type":return"Extent"}break;case "polygon":switch(u){case "rings":return u=
n.cache._arcadeCacheId,void 0===u&&(x++,u=x,n.cache._arcadeCacheId=u),new e(n.rings,n.spatialReference,!0===n.hasZ,!0===n.hasM,u);case "type":return"Polygon"}break;case "point":switch(u){case "x":case "y":case "z":case "m":return void 0!==n[u]?n[u]:null;case "type":return"Point"}break;case "polyline":switch(u){case "paths":return u=n.cache._arcadeCacheId,void 0===u&&(x++,u=x,n.cache._arcadeCacheId=u),new e(n.paths,n.spatialReference,!0===n.hasZ,!0===n.hasM,u);case "type":return"Polyline"}break;case "multipoint":switch(u){case "points":return u=
n.cache._arcadeCacheId,void 0===u&&(x++,u=x,n.cache._arcadeCacheId=u),new g(n.points,n.spatialReference,!0===n.hasZ,!0===n.hasM,u,1);case "type":return"Multipoint"}}throw Error(h.nodeErrorMessage(H,"RUNTIME","PROPERTYNOTFOUND"));}function Ba(n,u){try{const H=u.name.toLowerCase();if(null!==n.localScope){if(void 0!==n.localScope[H])return"lscope['"+H+"']";if(void 0!==n.localScope._SymbolsMap[H])return"lscope['"+n.localScope._SymbolsMap[H]+"']"}if(void 0!==n.globalScope[H])return"gscope['"+H+"']";if(void 0!==
n.globalScope._SymbolsMap[H])return"gscope['"+n.globalScope._SymbolsMap[H]+"']";throw Error(h.nodeErrorMessage(u,"RUNTIME","VARIABLENOTFOUND"));}catch(H){throw H;}}function M(n){return null===n?"":d.isArray(n)||d.isImmutableArray(n)?"Array":d.isDate(n)?"Date":d.isString(n)?"String":d.isBoolean(n)?"Boolean":d.isNumber(n)?"Number":n instanceof r?"Attachment":n instanceof B?"Portal":n instanceof l?"Dictionary":n instanceof k?"Feature":n instanceof b?"Point":n instanceof D?"Polygon":n instanceof C?"Polyline":
n instanceof p?"Multipoint":n instanceof G?"Extent":d.isFunctionParameter(n)?"Function":d.isFeatureSet(n)?"FeatureSet":d.isFeatureSetCollection(n)?"FeatureSetCollection":n===d.voidOperation?"":"number"===typeof n&&isNaN(n)?"Number":"Unrecognised Type"}function T(n,u,H,K){try{if(d.equalityTest(u[H],K))return u[H+1];{const Q=u.length-H;return 1===Q?u[H]:2===Q?null:3===Q?u[H+2]:T(n,u,H+2,K)}}catch(Q){throw Q;}}function N(n,u,H,K){try{if(!0===K)return u[H+1];if(3===u.length-H)return u[H+2];{const Q=u[H+
2];if(!1===d.isBoolean(Q))throw Error("WHEN needs boolean test conditions");return N(n,u,H+2,Q)}}catch(Q){throw Q;}}function P(n,u){var H=n.length,K=Math.floor(H/2);if(0===H)return[];if(1===H)return[n[0]];var Q=P(n.slice(0,K),u);n=P(n.slice(K,H),u);for(H=[];0<Q.length||0<n.length;)0<Q.length&&0<n.length?(K=u(Q[0],n[0]),isNaN(K)&&(K=0),0>=K?(H.push(Q[0]),Q=Q.slice(1)):(H.push(n[0]),n=n.slice(1))):0<Q.length?(H.push(Q[0]),Q=Q.slice(1)):0<n.length&&(H.push(n[0]),n=n.slice(1));return u=H}function W(n,
u){try{const H=n.length,K=Math.floor(H/2);if(0===H)return A.resolve([]);if(1===H)return A.resolve([n[0]]);const Q=[W(n.slice(0,K),u),W(n.slice(K,H),u)];return A.all(Q).then(ja=>ba(ja[0],ja[1],u,[]))}catch(H){return A.reject(H)}}function ba(n,u,H,K){return A.create((Q,ja)=>{0<n.length||0<u.length?0<n.length&&0<u.length?H(n[0],u[0]).then(ma=>{try{isNaN(ma)&&(ma=1),0>=ma?(K.push(n[0]),n=n.slice(1)):(K.push(u[0]),u=u.slice(1)),ba(n,u,H,K).then(qa=>{Q(qa)},ja)}catch(qa){ja(qa)}},ja):0<n.length?(K.push(n[0]),
n=n.slice(1),ba(n,u,H,K).then(ma=>{Q(ma)},ja)):0<u.length&&(K.push(u[0]),u=u.slice(1),ba(n,u,H,K).then(ma=>{Q(ma)},ja)):Q(K)})}function oa(n){n.symbols.symbolCounter++;return"_T"+n.symbols.symbolCounter.toString()}function ha(n){n.symbols.symbolCounter++;return"_Tvar"+n.symbols.symbolCounter.toString()}function na(n,u,H){const K={};n||(n={});H||(H={});K._SymbolsMap={};K.textformatting=1;K.infinity=1;K.pi=1;for(const Q in u)K[Q]=1;for(const Q in H)K[Q]=1;for(const Q in n)K[Q]=1;return K}function la(n,
u){const H={mode:u,compiled:!0,functions:{},signatures:[],failDefferred:ia,standardFunction:U,standardFunctionAsync:U,evaluateIdentifier:ta};for(let K=0;K<n.length;K++)n[K].registerFunctions(H);if("sync"===u){for(const K in H.functions)I[K]=new d.NativeFunction(H.functions[K]),S.prototype[K]=I[K];for(n=0;n<H.signatures.length;n++)h.addFunctionDeclaration(H.signatures[n],"sync")}else{for(const K in H.functions)L[K]=new d.NativeFunction(H.functions[K]),da.prototype[K]=L[K];for(n=0;n<H.signatures.length;n++)h.addFunctionDeclaration(H.signatures[n],
"async")}}function ta(n,u){u=u.name;if("_SymbolsMap"===u)throw"Illegal";if(0<n.localStack.length){if("_t"!==u.substr(0,2).toLowerCase()&&void 0!==n.localStack[n.localStack.length-1][u])return n.localStack[n.localStack.length-1][u];const H=n.mangleMap[u];if(void 0!==H&&void 0!==n.localStack[n.localStack.length-1][H])return n.localStack[n.localStack.length-1][H]}if("_t"!==u.substr(0,2).toLowerCase()&&void 0!==n.globalScope[u]||1===n.globalScope._SymbolsMap[u])return n.globalScope[u];u=n.mangleMap[u];
if(void 0!==u)return n.globalScope[u]}function z(n){console.log(n)}let x=0;const I={};t.registerFunctions(I,U);a.registerFunctions(I,U);J.registerFunctions(I,U);q.registerFunctions(I,U);f.registerFunctions(I,U);E.registerFunctions(I,U);I["typeof"]=function(n,u){return U(n,u,function(H,K,Q){d.pcCheck(Q,1,1);H=M(Q[0]);if("Unrecognised Type"===H)throw Error("Unrecognised Type");return H})};I.iif=function(n,u){try{return U(n,u,function(H,K,Q){d.pcCheck(Q,3,3);if(!1===d.isBoolean(Q[0]))throw Error("IF Function must have a boolean test condition");
return Q[0]?Q[1]:Q[2]})}catch(H){throw H;}};I.decode=function(n,u){try{return U(n,u,function(H,K,Q){if(2>Q.length)throw Error("Missing Parameters");if(2===Q.length)return Q[1];if(0===(Q.length-1)%2)throw Error("Must have a default value result.");return T(n,Q,1,Q[0])})}catch(H){throw H;}};I.when=function(n,u){try{return U(n,u,function(H,K,Q){if(3>Q.length)throw Error("Missing Parameters");if(0===Q.length%2)throw Error("Must have a default value result.");H=Q[0];if(!1===d.isBoolean(H))throw Error("WHEN needs boolean test conditions");
return N(n,Q,0,H)})}catch(H){throw H;}};I.top=function(n,u){return U(n,u,function(H,K,Q){d.pcCheck(Q,2,2);if(d.isArray(Q[0]))return d.toNumber(Q[1])>=Q[0].length?Q[0].slice(0):Q[0].slice(0,d.toNumber(Q[1]));if(d.isImmutableArray(Q[0]))return d.toNumber(Q[1])>=Q[0].length()?Q[0].slice(0):Q[0].slice(0,d.toNumber(Q[1]));throw Error("Top cannot accept this parameter type");})};I.first=function(n,u){return U(n,u,function(H,K,Q){d.pcCheck(Q,1,1);return d.isArray(Q[0])?0===Q[0].length?null:Q[0][0]:d.isImmutableArray(Q[0])?
0===Q[0].length()?null:Q[0].get(0):null})};I.sort=function(n,u){return U(n,u,function(H,K,Q){d.pcCheck(Q,1,2);K=Q[0];d.isImmutableArray(K)&&(K=K.toArray());if(!1===d.isArray(K))throw Error("Illegal Argument");if(1<Q.length){if(!1===d.isFunctionParameter(Q[1]))throw Error("Illegal Argument");var ja=K;const V=function(ea,ca){return ka.callfunc(Q[1],[ea,ca],H)};return n.isAsync?W(ja,V):ja=P(ja,function(ea,ca){return V(ea,ca)})}{if(0===K.length)return[];const V={};for(var ma=0;ma<K.length;ma++){var qa=
M(K[ma]);""!==qa&&(V[qa]=!0)}if(!0===V.Array||!0===V.Dictionary||!0===V.Feature||!0===V.Point||!0===V.Polygon||!0===V.Polyline||!0===V.Multipoint||!0===V.Extent||!0===V.Function)return K.slice(0);ma=0;qa="";for(ja in V)ma++,qa=ja;return K=1<ma||"String"===qa?P(K,function(ea,ca){if(null===ea||void 0===ea||ea===d.voidOperation)return null===ca||void 0===ca||ca===d.voidOperation?0:1;if(null===ca||void 0===ca||ca===d.voidOperation)return-1;ea=d.toString(ea);ca=d.toString(ca);return ea<ca?-1:ea===ca?0:
1}):"Number"===qa?P(K,function(ea,ca){return ea-ca}):"Boolean"===qa?P(K,function(ea,ca){return ea===ca?0:ca?-1:1}):"Date"===qa?P(K,function(ea,ca){return ca-ea}):K.slice(0)}})};const L={};for(const n in I)L[n]=new d.NativeFunction(I[n]);m.registerFunctions(I,U);for(const n in I)I[n]=new d.NativeFunction(I[n]);const S=function(){};S.prototype=I;const da=function(){};da.prototype=L;t={fixSpatialReference:d.fixSpatialReference,parseArguments:function(n,u){const H=[];for(let K=0;K<u.arguments.length;K++)H.push(aa(n,
u.arguments[K]));return H},standardFunction:U};let ra=0;const ka={error(n,u,H){throw Error(h.nodeErrorMessage(n,u,H));},__awaiter(n,u,H,K){return A.create((Q,ja)=>{function ma(ea){try{V(K.next(ea))}catch(ca){ja(ca)}}function qa(ea){try{V(K["throw"](ea))}catch(ca){ja(ca)}}function V(ea){ea.done?Q(ea.value):ea.value&&ea.value.then?ea.value.then(ma,qa):(ra++,0===ra%100?setTimeout(()=>{ra=0;ma(ea.value)},0):ma(ea.value))}V((K=K.apply(n,u||[])).next())})},functionDepthchecker(n,u){return function(){u.depthCounter++;
u.localStack.push([]);if(64<u.depthCounter)throw Error("Exceeded maximum function depth");const H=n.apply(this,arguments);if(A.isPromiseLike(H))return H.then(K=>{u.depthCounter--;--u.localStack.length;return K});u.depthCounter--;--u.localStack.length;return H}},castString(n){return d.toString(n)},aCheck(n,u){if(d.isFunctionParameter(n))throw Error(h.nodeErrorMessage({type:u},"RUNTIME","FUNCTIONCONTEXTILLEGAL"));return n===d.voidOperation?null:n},Dictionary:l,Feature:k,dictionary(n){const u={};for(let H=
0;H<n.length;H+=2){if(d.isFunctionParameter(n[H+1]))throw Error("Illegal Argument");if(!1===d.isString(n[H]))throw Error("Illegal Argument");u[n[H].toString()]=n[H+1]===d.voidOperation?null:n[H+1]}n=new l(u);n.immutable=!1;return n},strCheck(n){if(!1===d.isString(n))throw Error("Illegal Argument");return n},unary(n,u){if(d.isBoolean(n)){if("!"===u)return!n;if("-"===u)return-1*d.toNumber(n);if("+"===u)return 1*d.toNumber(n);if("~"===u)return~d.toNumber(n);throw Error(h.nodeErrorMessage({type:"UnaryExpression",
operator:u,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("-"===u)return-1*d.toNumber(n);if("+"===u)return 1*d.toNumber(n);if("~"===u)return~d.toNumber(n);throw Error(h.nodeErrorMessage({type:"UnaryExpression",operator:u,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));},logicalCheck(n){if(!1===d.isBoolean(n))throw Error(h.nodeErrorMessage({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));return n},logical(n,u,H){if(d.isBoolean(n)&&
d.isBoolean(u))switch(H){case "||":return n||u;case "\x26\x26":return n&&u}throw Error(h.nodeErrorMessage({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));},binary(n,u,H){switch(H){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return d.binaryOperator(d.toNumber(n),d.toNumber(u),H);case "\x3d\x3d":return d.equalityTest(n,u);case "\x3d":return d.equalityTest(n,u);case "!\x3d":return!d.equalityTest(n,u);case "\x3c":return d.greaterThanLessThan(n,
u,H);case "\x3e":return d.greaterThanLessThan(n,u,H);case "\x3c\x3d":return d.greaterThanLessThan(n,u,H);case "\x3e\x3d":return d.greaterThanLessThan(n,u,H);case "+":return d.isString(n)||d.isString(u)?d.toString(n)+d.toString(u):d.toNumber(n)+d.toNumber(u);case "-":return d.toNumber(n)-d.toNumber(u);case "*":return d.toNumber(n)*d.toNumber(u);case "/":return d.toNumber(n)/d.toNumber(u);case "%":return d.toNumber(n)%d.toNumber(u);default:throw Error(h.nodeErrorMessage({type:"BinaryExpression",operator:H,
left:n,right:u},"RUNTIME","OPERATORNOTRECOGNISED"));}},assign(n,u,H){switch(u){case "\x3d":return n===d.voidOperation?null:n;case "/\x3d":return d.toNumber(H)/d.toNumber(n);case "*\x3d":return d.toNumber(H)*d.toNumber(n);case "-\x3d":return d.toNumber(H)-d.toNumber(n);case "+\x3d":return d.isString(H)||d.isString(n)?d.toString(H)+d.toString(n):d.toNumber(H)+d.toNumber(n);case "%\x3d":return d.toNumber(H)%d.toNumber(n);default:throw Error(h.nodeErrorMessage({type:"AssignmentExpression",operator:u,
left:null,right:null},"RUNTIME","OPERATORNOTRECOGNISED"));}},update(n,u,H,K){const Q=d.toNumber(n[u]);n[u]="++"===H?Q+1:Q-1;return!1===K?Q:"++"===H?Q+1:Q-1},graphicToFeature(n,u){return null===n?null:k.createFromGraphicLikeObject(n.geometry,n.attributes,u)},memberupdate(n,u,H,K){let Q;if(d.isArray(n))if(d.isNumber(u)){0>u&&(u=n.length+u);if(0>u||u>=n.length)throw Error("Assignment outside of array bounds");Q=d.toNumber(n[u]);n[u]="++"===H?Q+1:Q-1}else throw Error("Invalid Parameter");else if(n instanceof
l){if(!1===d.isString(u))throw Error("Dictionary accessor must be a string");if(!0===n.hasField(u))Q=d.toNumber(n.field(u)),n.setField(u,"++"===H?Q+1:Q-1);else throw Error("Invalid Parameter");}else if(n instanceof k){if(!1===d.isString(u))throw Error("Feature accessor must be a string");if(!0===n.hasField(u))Q=d.toNumber(n.field(u)),n.setField(u,"++"===H?Q+1:Q-1);else throw Error("Invalid Parameter");}else{if(d.isImmutableArray(n))throw Error("Array is Immutable");throw Error("Invalid Parameter");
}return!1===K?Q:"++"===H?Q+1:Q-1},assignmember(n,u,H,K){if(d.isArray(n))if(d.isNumber(u)){0>u&&(u=n.length+u);if(0>u||u>n.length)throw Error("Assignment outside of array bounds");if(u===n.length&&"\x3d"!==H)throw Error("Invalid Parameter");n[u]=this.assign(K,H,n[u])}else throw Error("Invalid Parameter");else if(n instanceof l){if(!1===d.isString(u))throw Error("Dictionary accessor must be a string");if(!0===n.hasField(u))n.setField(u,this.assign(K,H,n.field(u)));else{if("\x3d"!==H)throw Error("Invalid Parameter");
n.setField(u,this.assign(K,H,null))}}else if(n instanceof k){if(!1===d.isString(u))throw Error("Feature accessor must be a string");if(!0===n.hasField(u))n.setField(u,this.assign(K,H,n.field(u)));else{if("\x3d"!==H)throw Error("Invalid Parameter");n.setField(u,this.assign(K,H,null))}}else{if(d.isImmutableArray(n))throw Error("Array is Immutable");throw Error("Invalid Parameter");}},member(n,u){if(null===n)throw Error(h.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},
"RUNTIME","NOTFOUND"));if(n instanceof Y.FeatureSetReader){if(d.isString(u))return n.field(u);throw Error(h.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(n instanceof l||n instanceof k){if(d.isString(u))return n.field(u);throw Error(h.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(n instanceof c){if(d.isString(u))return ua(n,u,"MemberExpression");throw Error(h.nodeErrorMessage({type:"MemberExpression",
object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(d.isArray(n)){if(d.isNumber(u)&&isFinite(u)&&Math.floor(u)===u){0>u&&(u=n.length+u);if(u>=n.length||0>u)throw Error(h.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return n[u]}throw Error(h.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(d.isString(n)){if(d.isNumber(u)&&isFinite(u)&&Math.floor(u)===u){0>
u&&(u=n.length+u);if(u>=n.length||0>u)throw Error(h.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return n[u]}throw Error(h.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(d.isImmutableArray(n)&&d.isNumber(u)&&isFinite(u)&&Math.floor(u)===u){0>u&&(u=n.length()+u);if(u>=n.length()||0>u)throw Error(h.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},
"RUNTIME","OUTOFBOUNDS"));return n.get(u)}throw Error(h.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));},callfunc(n,u,H){return n instanceof d.NativeFunction?n.fn(H,u):n instanceof d.SizzleFunction?n.fn.apply(this,u):n.apply(this,u)}};v.compileScript=function(n,u=null,H=!1){null===u&&(u={vars:{},customfunctions:{}});u={isAsync:H,globalScope:na(u.vars,H?L:I,u.customfunctions),localScope:null,mangleMap:{},console:z,lrucache:u.lrucache,interceptor:u.interceptor,
services:u.services,symbols:{symbolCounter:0}};n=aa(u,n.body[0].body);""===n&&(n="lc.voidOperation; ");u={lc:d.lc,lang:ka,mangles:u.mangleMap,postProcess(K){K instanceof d.ReturnResult&&(K=K.value);K instanceof d.ImplicitResult&&(K=K.value);K===d.voidOperation&&(K=null);if(K===d.breakResult)throw Error("Cannot return BREAK");if(K===d.continueResult)throw Error("Cannot return CONTINUE");if(d.isFunctionParameter(K))throw Error("Cannot return FUNCTION");return K},prepare(K,Q){let ja=K.spatialReference;
if(null===ja||void 0===ja)ja=new R({wkid:102100});{var ma=K.vars;var qa=K.customfunctions;const V=Q?new da:new S;ma||(ma={});qa||(qa={});const ea=new l({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});ea.immutable=!1;V._SymbolsMap={textformatting:1,infinity:1,pi:1};V.textformatting=ea;V.infinity=Number.POSITIVE_INFINITY;V.pi=Math.PI;for(const ca in qa)V[ca]=qa[ca],V._SymbolsMap[ca]=1;for(const ca in ma)V._SymbolsMap[ca]=1,V[ca]=ma[ca]&&"esri.Graphic"===
ma[ca].declaredClass?k.createFromGraphic(ma[ca]):ma[ca];ma=V}return{localStack:[],isAsync:Q,mangleMap:this.mangles,spatialReference:ja,globalScope:ma,abortSignal:void 0===K.abortSignal||null===K.abortSignal?{aborted:!1}:K.abortSignal,localScope:null,services:K.services,console:K.console?K.console:z,lrucache:K.lrucache,interceptor:K.interceptor,symbols:{symbolCounter:0},depthCounter:1}}};return(new Function("context","spatialReference",H?"var runtimeCtx\x3dthis.prepare(context, true);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+
n+"\n return lastStatement; }); } \n return this.postProcess(yield mainBody()); }); ":"var runtimeCtx\x3dthis.prepare(context, false);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n "+n+"\n return lastStatement; } \n return this.postProcess(mainBody()); ")).bind(u)};v.enableAsyncSupport=function(){return(new Promise(function(n,u){w(["./functions/geomasync"],n,u)})).then(n=>{la([n],"async");
return!0})};v.executeScript=function(n,u){return n(u)};v.extend=la;v.extractFieldLiterals=function(n,u){return h.findFieldLiterals(n)};v.functionHelper=t;v.referencesFunction=function(n,u){return h.referencesFunction(n,u)};v.referencesMember=function(n,u){return h.referencesMember(n,u)};v.validateScript=function(n,u){return h.validateScript(n,u,"sync")};Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/ArcadePortal":function(){define(["../chunks/_rollupPluginBabelHelpers","./Dictionary"],
function(w,v){return function(B){function r(l){var k=B.call(this)||this;k.immutable=!1;k.setField("url",l);k.immutable=!0;return k}w._inheritsLoose(r,B);return r}(v)})},"esri/arcade/Dictionary":function(){define(["./ImmutableArray","../chunks/languageUtils","../geometry/Geometry"],function(w,v,B){function r(k,e=!1){var g=null;if(null!==k)if(v.isNumber(k))g=v.toNumber(k);else if(v.isBoolean(k))g=v.toBoolean(k);else if(v.isString(k))g=v.toString(k);else if(v.isDate(k))g=v.toDate(k);else if(v.isArray(k)){g=
[];for(var d of k)g.push(r(d,e))}else{if(0===Object.keys(k).length)return null;g=new l;g.immutable=!1;for(const h of Object.keys(k))d=k[h],void 0!==d&&g.setField(h,r(d,e));g.immutable=e}return g}let l=function(){function k(g){this.declaredClass="esri.arcade.Dictionary";this.attributes=null;this.plain=!1;this.immutable=!0;this.attributes=g instanceof k?g.attributes:void 0===g?{}:null===g?{}:g}var e=k.prototype;e.field=function(g){const d=g.toLowerCase(),h=this.attributes[g];if(void 0!==h)return h;
for(const t in this.attributes)if(t.toLowerCase()===d)return this.attributes[t];throw Error("Field not Found : "+g);};e.setField=function(g,d){if(this.immutable)throw Error("Dictionary is Immutable");const h=g.toLowerCase();if(void 0===this.attributes[g])for(const t in this.attributes)if(t.toLowerCase()===h){this.attributes[t]=d;return}this.attributes[g]=d};e.hasField=function(g){const d=g.toLowerCase();if(void 0!==this.attributes[g])return!0;for(const h in this.attributes)if(h.toLowerCase()===d)return!0;
return!1};e.keys=function(){let g=[];for(const d in this.attributes)g.push(d);return g=g.sort()};e.castToText=function(){let g="";for(const d in this.attributes){""!==g&&(g+=",");const h=this.attributes[d];null==h?g+=JSON.stringify(d)+":null":v.isBoolean(h)||v.isNumber(h)||v.isString(h)?g+=JSON.stringify(d)+":"+JSON.stringify(h):h instanceof B?g+=JSON.stringify(d)+":"+v.toStringExplicit(h):h instanceof w?g+=JSON.stringify(d)+":"+v.toStringExplicit(h):h instanceof Array?g+=JSON.stringify(d)+":"+v.toStringExplicit(h):
h instanceof Date?g+=JSON.stringify(d)+":"+JSON.stringify(h):null!==h&&"object"===typeof h&&void 0!==h.castToText&&(g+=JSON.stringify(d)+":"+h.castToText())}return"{"+g+"}"};k.convertObjectToArcadeDictionary=function(g,d=!0){const h=new k;h.immutable=!1;for(const t in g){const a=g[t];void 0!==a&&h.setField(t.toString(),r(a))}h.immutable=d;return h};return k}();return l})},"esri/arcade/ImmutableArray":function(){define(function(){return function(){function w(B=[]){this._elements=B}var v=w.prototype;
v.length=function(){return this._elements.length};v.get=function(B){return this._elements[B]};v.toArray=function(){const B=[];for(let r=0;r<this.length();r++)B.push(this.get(r));return B};return w}()})},"esri/chunks/languageUtils":function(){define("exports ../arcade/FunctionWrapper ../arcade/ImmutableArray ../arcade/ImmutablePathArray ../arcade/ImmutablePointArray ../core/promiseUtils ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../core/number ../geometry/support/coordsUtils ../core/maybe".split(" "),
function(w,v,B,r,l,k,e,g,d,h,t,a,f,m,q){function E(y,F,O){return""===F||null===F||void 0===F||F===O||F===O?y:y=y.split(F).join(O)}function J(y){return y instanceof ma||y instanceof v||y instanceof qa}function A(y){return c(y)||b(y)||ia(y)||p(y)||null===y||y===ca||"number"===typeof y?!0:!1}function G(y,F){return void 0===y?F:y}function c(y){return"string"===typeof y||y instanceof String}function p(y){return"boolean"===typeof y}function b(y){return"number"===typeof y}function D(y){return"number"===
typeof y&&isFinite(y)&&Math.floor(y)===y}function C(y){return y instanceof Array}function R(y){return!0===(y&&y.declaredRootClass&&"esri.arcade.featureset.support.FeatureSet"===y.declaredRootClass)}function Y(y){return!0===(y&&y.declaredRootClass&&"esri.arcade.featureSetCollection"===y.declaredRootClass)}function U(y){return y instanceof B}function ia(y){return y instanceof Date}function aa(y,F,O){if(y.length<F||y.length>O)throw Error("Function called with wrong number of Parameters");}function ya(){let y=
(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(F){const O=(y+16*Math.random())%16|0;y=Math.floor(y/16);return("x"===F?O:O&3|8).toString(16)})}function za(y,F){if(!1===isNaN(y)){if(void 0===F||null===F||""===F)return y.toString();F=E(F,"\u2030","");F=E(F,"\u00a4","");return f.format(y,{pattern:F})}return y.toString()}function va(y,F){y=Ca.Moment(y);return void 0===F||null===F||""===F?y.format():y.format(xa(F))}function xa(y){return y.replace(/(LTS)|L|l/g,
function(F){return"["+F+"]"})}function fa(y,F,O){switch(O){case "\x3e":return y>F;case "\x3c":return y<F;case "\x3e\x3d":return y>=F;case "\x3c\x3d":return y<=F}return!1}function ua(y,F,O){if(null===y){if(null===F||F===ca)return fa(null,null,O);if(b(F))return fa(0,F,O);if(c(F)||p(F))return fa(0,W(F),O);if(ia(F))return fa(0,F.getTime(),O)}if(y===ca){if(null===F||F===ca)return fa(null,null,O);if(b(F))return fa(0,F,O);if(c(F)||p(F))return fa(0,W(F),O);if(ia(F))return fa(0,F.getTime(),O)}else if(b(y)){if(b(F))return fa(y,
F,O);if(p(F))return fa(y,W(F),O);if(null===F||F===ca)return fa(y,0,O);if(c(F))return fa(y,W(F),O);if(ia(F))return fa(y,F.getTime(),O)}else if(c(y)){if(c(F))return fa(M(y),M(F),O);if(ia(F))return fa(W(y),F.getTime(),O);if(b(F))return fa(W(y),F,O);if(null===F||F===ca)return fa(W(y),0,O);if(p(F))return fa(W(y),W(F),O)}else if(ia(y)){if(ia(F))return fa(y,F,O);if(null===F||F===ca)return fa(y.getTime(),0,O);if(b(F))return fa(y.getTime(),F,O);if(p(F)||c(F))return fa(y.getTime(),W(F),O)}else if(p(y)){if(p(F))return fa(y,
F,O);if(b(F))return fa(W(y),W(F),O);if(ia(F))return fa(W(y),F.getTime(),O);if(null===F||F===ca)return fa(W(y),0,O);if(c(F))return fa(W(y),W(F),O)}return!Ba(y,F)||"\x3c\x3d"!==O&&"\x3e\x3d"!==O?!1:!0}function Ba(y,F){if(y===F||null===y&&F===ca||null===F&&y===ca)return!0;if(ia(y)&&ia(F))return y.getTime()===F.getTime();if(y instanceof r||y instanceof l)return y.equalityTest(F);if(y instanceof h&&F instanceof h){const O=y.cache._arcadeCacheId,Z=F.cache._arcadeCacheId;if(void 0!==O&&null!==O)return O===
Z}return void 0!==y&&void 0!==F&&null!==y&&null!==F&&"object"===typeof y&&"object"===typeof F&&(y._arcadeCacheId===F._arcadeCacheId&&void 0!==y._arcadeCacheId&&null!==y._arcadeCacheId||y._underlyingGraphic===F._underlyingGraphic&&void 0!==y._underlyingGraphic&&null!==y._underlyingGraphic)?!0:!1}function M(y,F){if(c(y))return y;if(null===y)return"";if(b(y))return za(y,F);if(p(y))return y.toString();if(ia(y))return va(y,F);if(y instanceof g)return JSON.stringify(y.toJSON());if(C(y)){F=[];for(var O=
0;O<y.length;O++)F[O]=P(y[O]);return"["+F.join(",")+"]"}if(y instanceof B){F=[];for(O=0;O<y.length();O++)F[O]=P(y.get(O));return"["+F.join(",")+"]"}return null!==y&&"object"===typeof y&&void 0!==y.castToText?y.castToText():J(y)?"object, Function":""}function T(y){const F=[];if(!1===C(y))return null;if(y instanceof B){for(var O=0;O<y.length();O++)F[O]=W(y.get(O));return F}for(O=0;O<y.length;O++)F[O]=W(y[O]);return F}function N(y,F){if(c(y))return y;if(null===y)return"";if(b(y))return za(y,F);if(p(y))return y.toString();
if(ia(y))return va(y,F);if(y instanceof g)return y instanceof e?'{"xmin":'+y.xmin.toString()+',"ymin":'+y.ymin.toString()+","+(y.hasZ?'"zmin":'+y.zmin.toString()+",":"")+(y.hasM?'"mmin":'+y.mmin.toString()+",":"")+'"xmax":'+y.xmax.toString()+',"ymax":'+y.ymax.toString()+","+(y.hasZ?'"zmax":'+y.zmax.toString()+",":"")+(y.hasM?'"mmax":'+y.mmax.toString()+",":"")+'"spatialReference":'+L(y.spatialReference)+"}":L(y.toJSON(),(Z,X)=>Z.key===X.key?0:"spatialReference"===Z.key?1:"spatialReference"===X.key||
Z.key<X.key?-1:Z.key>X.key?1:0);if(C(y)){F=[];for(var O=0;O<y.length;O++)F[O]=P(y[O]);return"["+F.join(",")+"]"}if(y instanceof B){F=[];for(O=0;O<y.length();O++)F[O]=P(y.get(O));return"["+F.join(",")+"]"}return null!==y&&"object"===typeof y&&void 0!==y.castToText?y.castToText():J(y)?"object, Function":""}function P(y){return null===y?"null":p(y)||b(y)||c(y)?JSON.stringify(y):y instanceof g||y instanceof B||y instanceof Array?N(y):y instanceof Date?JSON.stringify(va(y,"")):null!==y&&"object"===typeof y&&
void 0!==y.castToText?y.castToText():"null"}function W(y,F){return b(y)?y:null===y||""===y?0:ia(y)?NaN:p(y)?y?1:0:C(y)||""===y||void 0===y?NaN:void 0!==F&&c(y)?(F=E(F,"\u2030",""),F=E(F,"\u00a4",""),f.parse(y,{pattern:F})):y===ca?0:Number(y)}function ba(y,F){return ia(y)?y:c(y)&&(y=Ca.Moment(y,[void 0===F||null===F||""===F?Ca.Moment.ISO_8601:F]),y.isValid())?y.toDate():null}function oa(y,F){return ia(y)?Ca.Moment(y):c(y)&&(y=Ca.Moment(y,[void 0===F||null===F||""===F?Ca.Moment.ISO_8601:F]),y.isValid())?
y:null}function ha(y){return p(y)?y:c(y)?(y=y.toLowerCase(),"true"===y?!0:!1):b(y)?0===y||isNaN(y)?!1:!0:!1}function na(y,F){if(q.isNone(y))return null;if(null===y.spatialReference||void 0===y.spatialReference)y.spatialReference=F;return y}function la(y){if(null===y)return null;if(y instanceof h)return"NaN"===y.x||null===y.x||isNaN(y.x)?null:y;if(y instanceof t){if(0===y.rings.length)return null;for(const F of y.rings)if(0<F.length)return y;return null}if(y instanceof a){if(0===y.paths.length)return null;
for(const F of y.paths)if(0<F.length)return y;return null}return y instanceof d?0===y.points.length?null:y:y instanceof e?"NaN"===y.xmin||null===y.xmin||isNaN(y.xmin)?null:y:null}function ta(y,F){if(!y||!y.domain)return F;let O=null;if("string"===y.field.type||"esriFieldTypeString"===y.field.type)F=M(F);else{if(null===F||void 0===F)return null;if(""===F)return F;F=W(F)}for(let Z=0;Z<y.domain.codedValues.length;Z++){const X=y.domain.codedValues[Z];X.code===F&&(O=X)}return null===O?F:O.name}function z(y,
F){if(!y||!y.domain)return F;let O=null;F=M(F);for(let Z=0;Z<y.domain.codedValues.length;Z++){const X=y.domain.codedValues[Z];X.name===F&&(O=X)}return null===O?F:O.code}function x(y,F,O=null,Z){if(!F||!F.fields)return null;let X=null;for(let Aa=0;Aa<F.fields.length;Aa++){const wa=F.fields[Aa];wa.name.toLowerCase()===y.toString().toLowerCase()&&(X=wa)}if(null===X)throw Error("Field not found");let pa,sa;Z||(Z=O&&F.typeIdField&&O._field(F.typeIdField));null!=Z&&F.types.some(function(Aa){return Aa.id===
Z?((pa=Aa.domains&&Aa.domains[X.name])&&"inherited"===pa.type&&(pa=I(X.name,F),sa=!0),!0):!1});sa||pa||(pa=I(y,F));return{field:X,domain:pa}}function I(y,F){let O;F.fields.some(function(Z){Z.name.toLowerCase()===y.toLowerCase()&&(O=Z.domain);return!!O});return O}function L(y,F){F||(F={});"function"===typeof F&&(F={cmp:F});const O="boolean"===typeof F.cycles?F.cycles:!1,Z=F.cmp&&function(pa){return function(sa){return function(Aa,wa){return pa({key:Aa,value:sa[Aa]},{key:wa,value:sa[wa]})}}}(F.cmp),
X=[];return function Aa(sa){sa&&sa.toJSON&&"function"===typeof sa.toJSON&&(sa=sa.toJSON());if(void 0!==sa){if("number"===typeof sa)return isFinite(sa)?""+sa:"null";if("object"!==typeof sa)return JSON.stringify(sa);var wa;if(Array.isArray(sa)){var Da="[";for(wa=0;wa<sa.length;wa++)wa&&(Da+=","),Da+=Aa(sa[wa])||"null";return Da+"]"}if(null===sa)return"null";if(-1!==X.indexOf(sa)){if(O)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var La=X.push(sa)-
1,Ia=Object.keys(sa).sort(Z&&Z(sa));Da="";for(wa=0;wa<Ia.length;wa++){const Ja=Ia[wa],Ka=Aa(sa[Ja]);Ka&&(Da&&(Da+=","),Da+=JSON.stringify(Ja)+":"+Ka)}X.splice(La,1);return"{"+Da+"}"}}(y)}function S(y){if(null===y)return null;const F=[];for(const O of y)O&&(O.declaredClass&&"esri.arcade.Feature"===O.declaredClass||"FeatureSetReader"===O.type)?F.push(O.geometry()):F.push(O);return F}function da(y,F){if(F instanceof h)y.push(F.hasZ?F.hasM?[F.x,F.y,F.z,F.m]:[F.x,F.y,F.z]:[F.x,F.y]);else throw Error("Invalid Argument");
}function ra(y,F){if(C(y)||U(y)){let O=!1,Z=!1,X=[];if(C(y)){for(const pa of y)da(X,pa);0<X.length&&(F=y[0].spatialReference,O=y[0].hasZ,Z=y[0].hasM)}else if(y instanceof l)X=y._elements,0<X.length&&(O=y._hasZ,Z=y._hasM,F=y.get(0).spatialReference);else if(U(y)){for(const pa of y.toArray())da(X,pa);0<X.length&&(F=y.get(0).spatialReference,O=!0===y.get(0).hasZ,Z=!0===y.get(0).hasM)}else throw Error("Invalid Argument");if(0===X.length)return null;!1===m.isClockwise(X,Z,O)&&(X=X.slice(0).reverse());
return new t({rings:[X],spatialReference:F,hasZ:O,hasM:Z})}return y}function ka(y,F){if(C(y)||U(y)){let O=!1,Z=!1,X=[];if(C(y)){for(const pa of y)da(X,pa);0<X.length&&(F=y[0].spatialReference,O=!0===y[0].hasZ,Z=!0===y[0].hasM)}else if(y instanceof l)X=y._elements,0<X.length&&(O=y._hasZ,Z=y._hasM,F=y.get(0).spatialReference);else if(U(y)){for(const pa of y.toArray())da(X,pa);0<X.length&&(F=y.get(0).spatialReference,O=!0===y.get(0).hasZ,Z=!0===y.get(0).hasM)}return 0===X.length?null:new a({paths:[X],
spatialReference:F,hasZ:O,hasM:Z})}return y}function n(y,F){if(C(y)||U(y)){let O=!1,Z=!1,X=[];if(C(y)){for(const pa of y)da(X,pa);0<X.length&&(F=y[0].spatialReference,O=!0===y[0].hasZ,Z=!0===y[0].hasM)}else if(y instanceof l)X=y._elements,0<X.length&&(O=y._hasZ,Z=y._hasM,F=y.get(0).spatialReference);else if(U(y)){for(const pa of y.toArray())da(X,pa);0<X.length&&(F=y.get(0).spatialReference,O=!0===y.get(0).hasZ,Z=!0===y.get(0).hasM)}return 0===X.length?null:new d({points:X,spatialReference:F,hasZ:O,
hasM:Z})}return y}function u(y,F=!1){const O=[];if(null===y)return O;if(!0===C(y)){for(var Z=0;Z<y.length;Z++){var X=M(y[Z]);""===X&&!0!==F||O.push(X)}return O}if(y instanceof B){for(Z=0;Z<y.length();Z++)X=M(y.get(Z)),""===X&&!0!==F||O.push(X);return O}return A(y)?(y=M(y),""===y&&!0!==F||O.push(y),O):[]}function H(y){Ea++;return 0===Ea%100?(Ea=0,k.create(F=>{setTimeout(()=>{F(y)},0)})):y}function K(y,F,O){switch(O){case "\x26":return y&F;case "|":return y|F;case "^":return y^F;case "\x3c\x3c":return y<<
F;case "\x3e\x3e":return y>>F;case "\x3e\x3e\x3e":return y>>>F}}let Q=function(y){this.value=y},ja=function(y){this.value=y},ma=function(y){this.fn=y},qa=function(y){this.fn=y};const V=ma,ea=qa,ca={type:"VOID"},Fa={type:"BREAK"},Ga={type:"CONTINUE"};let Ea=0;const Ca={Moment:null};var Ha=Object.freeze({__proto__:null,ReturnResultE:Q,ImplicitResultE:ja,NativeFunctionE:ma,SizzleFunctionE:qa,NativeFunction:V,ImplicitResult:ja,ReturnResult:Q,SizzleFunction:ea,voidOperation:ca,breakResult:Fa,continueResult:Ga,
multiReplace:E,isFunctionParameter:J,isSimpleType:A,defaultUndefined:G,isString:c,isBoolean:p,isNumber:b,isInteger:D,isArray:C,isFeatureSet:R,isFeatureSetCollection:Y,isImmutableArray:U,isDate:ia,pcCheck:aa,generateUUID:ya,formatNumber:za,formatDate:va,standardiseDateFormat:xa,greaterThanLessThan:ua,equalityTest:Ba,toString:M,toNumberArray:T,toStringExplicit:N,toNumber:W,toDate:ba,toDateM:oa,toBoolean:ha,fixSpatialReference:na,fixNullGeometry:la,getDomainValue:ta,getDomainCode:z,getDomain:x,stableStringify:L,
autoCastFeatureToGeometry:S,autoCastArrayOfPointsToPolygon:ra,autoCastArrayOfPointsToPolyline:ka,autoCastArrayOfPointsToMultiPoint:n,toStringArray:u,tick:H,MomentLibrary:Ca,binaryOperator:K});w.ImplicitResult=ja;w.ImplicitResultE=ja;w.MomentLibrary=Ca;w.NativeFunction=V;w.NativeFunctionE=ma;w.ReturnResult=Q;w.ReturnResultE=Q;w.SizzleFunction=ea;w.SizzleFunctionE=qa;w.autoCastArrayOfPointsToMultiPoint=n;w.autoCastArrayOfPointsToPolygon=ra;w.autoCastArrayOfPointsToPolyline=ka;w.autoCastFeatureToGeometry=
S;w.binaryOperator=K;w.breakResult=Fa;w.continueResult=Ga;w.defaultUndefined=G;w.equalityTest=Ba;w.fixNullGeometry=la;w.fixSpatialReference=na;w.formatDate=va;w.formatNumber=za;w.generateUUID=ya;w.getDomain=x;w.getDomainCode=z;w.getDomainValue=ta;w.greaterThanLessThan=ua;w.isArray=C;w.isBoolean=p;w.isDate=ia;w.isFeatureSet=R;w.isFeatureSetCollection=Y;w.isFunctionParameter=J;w.isImmutableArray=U;w.isInteger=D;w.isNumber=b;w.isSimpleType=A;w.isString=c;w.lc=Ha;w.multiReplace=E;w.pcCheck=aa;w.stableStringify=
L;w.standardiseDateFormat=xa;w.tick=H;w.toBoolean=ha;w.toDate=ba;w.toDateM=oa;w.toNumber=W;w.toNumberArray=T;w.toString=M;w.toStringArray=u;w.toStringExplicit=N;w.voidOperation=ca})},"esri/arcade/FunctionWrapper":function(){define(function(){return function(w,v){this.context=this.definition=null;this.definition=w;this.context=v}})},"esri/arcade/ImmutablePathArray":function(){define(["../chunks/_rollupPluginBabelHelpers","./ImmutableArray","./ImmutablePointArray"],function(w,v,B){return function(r){function l(e,
g,d,h,t){e=r.call(this,e)||this;e._lazyPath=[];e._hasZ=!1;e._hasM=!1;e._hasZ=d;e._hasM=h;e._spRef=g;e._cacheId=t;return e}w._inheritsLoose(l,r);var k=l.prototype;k.get=function(e){if(void 0===this._lazyPath[e]){const g=this._elements[e];if(void 0===g)return;this._lazyPath[e]=new B(g,this._spRef,this._hasZ,this._hasM,this._cacheId,e)}return this._lazyPath[e]};k.equalityTest=function(e){return e===this?!0:null===e||!1===e instanceof l?!1:e.getUniqueHash()===this.getUniqueHash()};k.getUniqueHash=function(){return this._cacheId.toString()};
return l}(v)})},"esri/arcade/ImmutablePointArray":function(){define(["../chunks/_rollupPluginBabelHelpers","./ImmutableArray","../geometry/Point"],function(w,v,B){return function(r){function l(e,g,d,h,t,a){e=r.call(this,e)||this;e._lazyPt=[];e._hasZ=!1;e._hasM=!1;e._spRef=g;e._hasZ=d;e._hasM=h;e._cacheId=t;e._partId=a;return e}w._inheritsLoose(l,r);var k=l.prototype;k.get=function(e){if(void 0===this._lazyPt[e]){const g=this._elements[e];if(void 0===g)return;const d=this._hasZ,h=this._hasM;let t=
null;t=d&&!h?new B(g[0],g[1],g[2],void 0,this._spRef):h&&!d?new B(g[0],g[1],void 0,g[2],this._spRef):d&&h?new B(g[0],g[1],g[2],g[3],this._spRef):new B(g[0],g[1],this._spRef);t.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+e.toString();this._lazyPt[e]=t}return this._lazyPt[e]};k.equalityTest=function(e){return e===this?!0:null===e||!1===e instanceof l?!1:e.getUniqueHash()===this.getUniqueHash()};k.getUniqueHash=function(){return this._cacheId.toString()+"-"+this._partId.toString()};
return l}(v)})},"esri/core/number":function(){define(["exports","./string","../intl/locale"],function(w,v,B){function r(a){a||(a=B.getLocale());let f=a in d;if(!f){const J=a.split("-");1<J.length&&J[0]in d&&(a=J[0],f=!0);f||(a="en")}const [m,q,E="#,##0.###"]=d[a];return{decimal:m,group:q,pattern:E}}function l(a,f,m){m=m||{};!0===m.places&&(m.places=0);Infinity===m.places&&(m.places=6);f=f.split(".");var q="string"===typeof m.places&&m.places.indexOf(","),E=m.places;q?E=m.places.substring(q+1):0<=
E||(E=(f[1]||[]).length);0>m.round||(a=Number(a.toFixed(Number(E))));a=String(Math.abs(a)).split(".");const J=a[1]||"";f[1]||m.places?(q&&(m.places=m.places.substring(0,q)),q=void 0!==m.places?m.places:f[1]&&f[1].lastIndexOf("0")+1,q>J.length&&(a[1]=J.padEnd(Number(q),"0")),E<J.length&&(a[1]=J.substr(0,Number(E)))):a[1]&&a.pop();E=f[0].replace(",","");q=E.indexOf("0");-1!==q&&(q=E.length-q,q>a[0].length&&(a[0]=a[0].padStart(q,"0")),-1===E.indexOf("#")&&(a[0]=a[0].substr(a[0].length-q)));E=f[0].lastIndexOf(",");
let A,G;-1!==E&&(A=f[0].length-E-1,f=f[0].substr(0,E),E=f.lastIndexOf(","),-1!==E&&(G=f.length-E-1));f=[];for(E=a[0];E;)q=E.length-A,f.push(0<q?E.substr(q):E),E=0<q?E.slice(0,q):"",G&&(A=G,G=void 0);a[0]=f.reverse().join(m.group||",");return a.join(m.decimal||".")}function k(a){a=a||{};var f=r(a.locale);const m=a.pattern||f.pattern,q=f.group,E=f.decimal;let J=1;if(-1!==m.indexOf("%"))J/=100;else if(-1!==m.indexOf("\u2030"))J/=1E3;else if(-1!==m.indexOf("\u00a4"))throw Error("currency notation not supported");
f=m.split(";");1===f.length&&f.push("-"+f[0]);return{regexp:t(f,function(A){A="(?:"+v.escapeRegExpString(A,".")+")";return A.replace(h,function(G){const c={signed:!1,separator:a.strict?q:[q,""],fractional:a.fractional,decimal:E,exponent:!1};G=G.split(".");let p=a.places;1===G.length&&1!==J&&(G[1]="###");1===G.length||0===p?c.fractional=!1:(void 0===p&&(p=a.pattern?G[1].lastIndexOf("0")+1:Infinity),p&&null==a.fractional&&(c.fractional=!0),!a.places&&p<G[1].length&&(p+=","+G[1].length),c.places=p);
G=G[0].split(",");1<G.length&&(c.groupSize=G.pop().length,1<G.length&&(c.groupSize2=G.pop().length));return"("+e(c)+")"})},!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:q,decimal:E,factor:J}}function e(a){a=a||{};"places"in a||(a.places=Infinity);"string"!==typeof a.decimal&&(a.decimal=".");"fractional"in a&&!/^0/.test(String(a.places))||(a.fractional=[!0,!1]);"exponent"in a||(a.exponent=[!0,!1]);"eSigned"in a||(a.eSigned=[!0,!1]);var f=g(a);const m=t(a.fractional,function(E){let J="";E&&0!==a.places&&
(J="\\"+a.decimal,J=Infinity===a.places?"(?:"+J+"\\d+)?":J+("\\d{"+a.places+"}"));return J},!0),q=t(a.exponent,function(E){return E?"([eE]"+g({signed:a.eSigned})+")":""});f+=m;m&&(f="(?:(?:"+f+")|(?:"+m+"))");return f+q}function g(a){a=a||{};"signed"in a||(a.signed=[!0,!1]);"separator"in a?"groupSize"in a||(a.groupSize=3):a.separator="";const f=t(a.signed,function(q){return q?"[-+]":""},!0),m=t(a.separator,function(q){if(!q)return"(?:\\d+)";q=v.escapeRegExpString(q);" "===q?q="\\s":"\u00a0"===q&&
(q="\\s\\xa0");const E=a.groupSize,J=a.groupSize2;return J?(q="(?:0|[1-9]\\d{0,"+(J-1)+"}(?:["+q+"]\\d{"+J+"})*["+q+"]\\d{"+E+"})",0<E-J?"(?:"+q+"|(?:0|[1-9]\\d{0,"+(E-1)+"}))":q):"(?:0|[1-9]\\d{0,"+(E-1)+"}(?:["+q+"]\\d{"+E+"})*)"},!0);return f+m}const d={ar:[".",","],bs:[",","."],ca:[",","."],cs:[",","\u00a0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\u00a0"],fi:[",","\u00a0"],fr:[",","\u202f"],"fr-ch":[",",
"\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\u00a0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\u00a0"],lv:[",","\u00a0"],mk:[",","."],nb:[",","\u00a0"],nl:[",","."],pl:[",","\u00a0"],pt:[",","."],"pt-pt":[",","\u00a0"],ro:[",","."],ru:[",","\u00a0"],sk:[",","\u00a0"],sl:[",","."],sr:[",","."],sv:[",","\u00a0"],th:[".",","],tr:[",","."],uk:[",","\u00a0"],vi:[",","."],zh:[".",","]},h=/[#0,]*[#0](?:\.0*#*)?/,t=function(a,f,m){if(!(a instanceof
Array))return f(a);const q=[];for(let E=0;E<a.length;E++)q.push(f(a[E]));a=q.join("|");return"("+(m?"?:":"")+a+")"};w._parseInfo=k;w.format=function(a,f){f={...f};var m=r(f.locale);f.customs=m;var q=f.pattern||m.pattern;if(isNaN(a)||Infinity===Math.abs(a))return null;{f=f||{};m=f.customs.group;const J=f.customs.decimal;q=q.split(";");var E=q[0];q=q[0>a?1:0]||"-"+E;if(-1!==q.indexOf("%"))a*=100;else if(-1!==q.indexOf("\u2030"))a*=1E3;else{if(-1!==q.indexOf("\u00a4"))throw Error("currency notation not supported");
if(-1!==q.indexOf("E"))throw Error("exponential notation not supported");}const A=h;E=E.match(A);if(!E)throw Error("unable to find a number expression in pattern: "+q);!1===f.fractional&&(f.places=0);a=q.replace(A,l(a,E[0],{decimal:J,group:m,places:f.places,round:f.round}))}return a};w.getCustoms=r;w.parse=function(a,f){f=k(f);a=(new RegExp("^"+f.regexp+"$")).exec(a);if(!a)return NaN;let m=a[1];if(!a[1]){if(!a[2])return NaN;m=a[2];f.factor*=-1}m=m.replace(new RegExp("["+f.group+"\\s\\xa0]","g"),"").replace(f.decimal,
".");return Number(m)*f.factor};w.regexp=function(a){return k(a).regexp};Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/Attachment":function(){define(["../chunks/_rollupPluginBabelHelpers","./Dictionary"],function(w,v){return function(B){function r(l,k,e,g,d){var h=B.call(this)||this;h.attachmentUrl=d;h.immutable=!1;h.setField("id",l);h.setField("name",k);h.setField("contenttype",e);h.setField("size",g);h.immutable=!0;return h}w._inheritsLoose(r,B);return r}(v)})},"esri/arcade/Feature":function(){define("./Dictionary ./ImmutableArray ../chunks/languageUtils ../geometry/Geometry ../geometry/Point ../geometry/support/jsonUtils ./featureset/support/shared ../layers/graphics/featureConversionUtils ../core/maybe".split(" "),
function(w,v,B,r,l,k,e,g,d){return function(){function h(){this.declaredClass="esri.arcade.Feature";this._layer=this.attributes=this._geometry=this._optimizedGeomDefinition=null;this.immutable=this._datesfixed=!0;this._datefields=null;this.immutable=!0}h.createFromGraphic=function(a){const f=new h;f._geometry=d.isSome(a.geometry)?a.geometry:null;f.attributes=void 0===a.attributes?{}:null===a.attributes?{}:a.attributes;a._sourceLayer?(f._layer=a._sourceLayer,f._datesfixed=!1):a._layer?(f._layer=a._layer,
f._datesfixed=!1):a.layer&&"fields"in a.layer?(f._layer=a.layer,f._datesfixed=!1):a.sourceLayer&&"fields"in a.sourceLayer&&(f._layer=a.sourceLayer,f._datesfixed=!1);return f};h.createFromArcadeFeature=function(a){const f=new h;f._datesfixed=a._datesfixed;f.attributes=a.attributes;f._geometry=a._geometry;f._optimizedGeomDefinition=a._optimizedGeomDefinition;a._layer&&(f._layer=a._layer);return f};h.createFromOptimisedFeature=function(a,f,m){const q=new h;q._geometry=a.geometry?{geometry:a.geometry}:
null;q._optimizedGeomDefinition=m;q.attributes=a.attributes||{};q._layer=f;q._datesfixed=!1;return q};h.createFromArcadeDictionary=function(a){const f=new h;f.attributes=a.field("attributes");null!==f.attributes?f.attributes instanceof w?(f.attributes=f.attributes.attributes,null===f.attributes&&(f.attributes={})):f.attributes={}:f.attributes={};f._geometry=a.field("geometry");null!==f._geometry&&(f._geometry instanceof w?f._geometry=h.parseGeometryFromDictionary(f._geometry):f._geometry instanceof
r||(f._geometry=null));return f};h.createFromGraphicLikeObject=function(a,f,m=null){const q=new h;null===f&&(f={});q.attributes=f;q._geometry=d.isSome(a)?a:null;q._layer=m;q._layer&&(q._datesfixed=!1);q._adapter=null;return q};var t=h.prototype;t.repurposeFromGraphicLikeObject=function(a,f,m=null){null===f&&(f={});this.attributes=f;this._geometry=a?a:null;this._datesfixed=(this._layer=m)?!1:!0};t.repurposeFromAdapter=function(a,f=null){this._adapter=a;this._layer=f};t.castToText=function(){if(this._adapter)return this._adapter.castToText();
let a="";!1===this._datesfixed&&this._fixDates();for(const f in this.attributes){""!==a&&(a+=",");const m=this.attributes[f];null==m?a+=JSON.stringify(f)+":null":B.isBoolean(m)||B.isNumber(m)||B.isString(m)?a+=JSON.stringify(f)+":"+JSON.stringify(m):m instanceof r?a+=JSON.stringify(f)+":"+B.toStringExplicit(m):m instanceof v?a+=JSON.stringify(f)+":"+B.toStringExplicit(m):m instanceof Array?a+=JSON.stringify(f)+":"+B.toStringExplicit(m):m instanceof Date?a+=JSON.stringify(f)+":"+JSON.stringify(m):
null!==m&&"object"===typeof m&&void 0!==m.castToText&&(a+=JSON.stringify(f)+":"+m.castToText())}return'{"geometry":'+(null===this.geometry()?"null":B.toStringExplicit(this.geometry()))+',"attributes":{'+a+"}}"};t._fixDates=function(){if(null!==this._datefields)0<this._datefields.length&&this._fixDateFields(this._datefields);else{var a=[];for(let f=0;f<this._layer.fields.length;f++){const m=this._layer.fields[f];"date"!==m.type&&"esriFieldTypeDate"!==m.type||a.push(m.name)}this._datefields=a;0<a.length&&
this._fixDateFields(a)}this._datesfixed=!0};t._fixDateFields=function(a){this.attributes={...this.attributes};for(let f=0;f<a.length;f++){let m=this.attributes[a[f]];if(null!==m)if(void 0===m)for(const q in this.attributes){if(q.toLowerCase()===a[f].toLowerCase()){m=this.attributes[q];null===m||m instanceof Date||(this.attributes[q]=new Date(m));break}}else m instanceof Date||(this.attributes[a[f]]=new Date(m))}};t.geometry=function(){if(this._adapter)return this._adapter.geometry();if(null===this._geometry||
this._geometry instanceof r)return this._geometry;this._optimizedGeomDefinition?(this._geometry=d.unwrap(k.fromJSON(g.convertToGeometry(this._geometry,this._optimizedGeomDefinition.geometryType,this._optimizedGeomDefinition.hasZ,this._optimizedGeomDefinition.hasM))),this._geometry.spatialReference=this._optimizedGeomDefinition.spatialReference):this._geometry=d.unwrap(k.fromJSON(this._geometry));return this._geometry};t.field=function(a){if(this._adapter)return this._adapter.field(a);!1===this._datesfixed&&
this._fixDates();var f=this.attributes[a];if(void 0!==f)return f;f=a.toLowerCase();for(const m in this.attributes)if(m.toLowerCase()===f)return this.attributes[m];if(this._hasFieldDefinition(f))return null;throw Error("Field not Found : "+a);};t._hasFieldDefinition=function(a){if(null===this._layer)return!1;for(let f=0;f<this._layer.fields.length;f++)if(this._layer.fields[f].name.toLowerCase()===a)return!0;return!1};t._field=function(a){if(this._adapter){var f;return null!=(f=this._adapter.field(a))?
f:null}!1===this._datesfixed&&this._fixDates();f=a.toLowerCase();a=this.attributes[a];if(void 0!==a)return a;for(const m in this.attributes)if(m.toLowerCase()===f)return this.attributes[m];return null};t.setField=function(a,f){if(this.immutable)throw Error("Feature is Immutable");if(!1===B.isSimpleType(f))throw Error("Illegal Value Assignment to Feature");if(this._adapter)this._adapter.setField(a,f);else{var m=a.toLowerCase();if(void 0===this.attributes[a])for(const q in this.attributes)if(q.toLowerCase()===
m){this.attributes[q]=f;return}this.attributes[a]=f}};t.hasField=function(a){if(this._adapter)return this._adapter.hasField(a);const f=a.toLowerCase();if(void 0!==this.attributes[a])return!0;for(const m in this.attributes)if(m.toLowerCase()===f)return!0;return this._hasFieldDefinition(f)?!0:!1};t.keys=function(){if(this._adapter)return this._adapter.keys();let a=[];const f={};for(var m in this.attributes)a.push(m),f[m.toLowerCase()]=1;if(null!==this._layer)for(m=0;m<this._layer.fields.length;m++){const q=
this._layer.fields[m];1!==f[q.name.toLowerCase()]&&a.push(q.name)}return a=a.sort()};h.parseGeometryFromDictionary=function(a){a=h.convertDictionaryToJson(a,!0);void 0!==a.hasm&&(a.hasM=a.hasm,delete a.hasm);void 0!==a.hasz&&(a.hasZ=a.hasz,delete a.hasz);void 0!==a.spatialreference&&(a.spatialReference=a.spatialreference,delete a.spatialreference);void 0!==a.rings&&(a.rings=this.fixPathArrays(a.rings,!0===a.hasZ,!0===a.hasZ));void 0!==a.paths&&(a.paths=this.fixPathArrays(a.paths,!0===a.hasZ,!0===
a.hasM));void 0!==a.points&&(a.points=this.fixPointArrays(a.points,!0===a.hasZ,!0===a.hasM));return k.fromJSON(a)};h.fixPathArrays=function(a,f,m){const q=[];if(a instanceof Array)for(var E=0;E<a.length;E++)q.push(this.fixPointArrays(a[E],f,m));else if(a instanceof v)for(E=0;E<a.length();E++)q.push(this.fixPointArrays(a.get(E),f,m));return q};h.fixPointArrays=function(a,f,m){const q=[];if(a instanceof Array)for(var E=0;E<a.length;E++){var J=a[E];J instanceof l?f&&m?q.push([J.x,J.y,J.z,J.m]):f?q.push([J.x,
J.y,J.z]):m?q.push([J.x,J.y,J.m]):q.push([J.x,J.y]):J instanceof v?q.push(J.toArray()):q.push(J)}else if(a instanceof v)for(E=0;E<a.length();E++)J=a.get(E),J instanceof l?f&&m?q.push([J.x,J.y,J.z,J.m]):f?q.push([J.x,J.y,J.z]):m?q.push([J.x,J.y,J.m]):q.push([J.x,J.y]):J instanceof v?q.push(J.toArray()):q.push(J);return q};h.convertDictionaryToJson=function(a,f=!1){const m={};for(const q in a.attributes){let E=a.attributes[q];E instanceof w&&(E=h.convertDictionaryToJson(E));f?m[q.toLowerCase()]=E:m[q]=
E}return m};h.parseAttributesFromDictionary=function(a){const f={};for(const m in a.attributes){const q=a.attributes[m];if(B.isSimpleType(q))f[m]=q;else throw Error("Illegal Argument");}return f};h.fromJson=function(a){let f=null;null!==a.geometry&&void 0!==a.geometry&&(f=k.fromJSON(a.geometry));const m={};if(null!==a.attributes&&void 0!==a.attributes)for(const q in a.attributes){const E=a.attributes[q];if(null===E)m[q]=E;else if(B.isString(E)||B.isNumber(E)||B.isBoolean(E)||B.isDate(E))m[q]=E;else throw Error("Illegal Argument");
}return h.createFromGraphicLikeObject(f,m,null)};t.fullDomain=function(a,f){return null!==this._layer&&this._layer.fields?B.getDomain(a,this._layer,this,f):null};t.subtypes=function(){return null!==this._layer&&this._layer.fields?this._layer.typeIdField?{subtypeField:this._layer.typeIdField,subtypes:this._layer.types?this._layer.types.map(a=>({name:a.name,code:a.id})):[]}:null:null};t.domainValueLookup=function(a,f,m){if(null===this._layer||!this._layer.fields)return null;m=B.getDomain(a,this._layer,
this,m);if(void 0===f)try{f=this.field(a)}catch(q){return null}return B.getDomainValue(m,f)};t.gdbVersion=function(){if(null===this._layer)return"";const a=this._layer.gdbVersion;return void 0===a?"":""===a&&this._layer.capabilities&&this._layer.capabilities.isVersioned?"SDE.DEFAULT":a};t.domainCodeLookup=function(a,f,m){if(null===this._layer||!this._layer.fields)return null;if(void 0===f){try{f=this.field(a)}catch(q){return null}return f}a=B.getDomain(a,this._layer,this,m);return B.getDomainCode(a,
f)};t.schema=function(){if(null===this._layer||!this._layer.fields)return null;const a=[];for(const f of this._layer.fields)a.push(e.esriFieldToJson(f));return{objectIdField:this._layer.objectIdField,globalIdField:this._layer.globalIdField,geometryType:void 0===e.layerGeometryEsriRestConstants[this._layer.geometryType]?"":e.layerGeometryEsriRestConstants[this._layer.geometryType],fields:a}};return h}()})},"esri/arcade/featureset/support/shared":function(){define(["exports","../../../core/promiseUtils",
"../../../geometry/Extent","../../../layers/support/Field"],function(w,v,B,r){function l(k){return k instanceof Date}w.FeatureServiceDatabaseType=void 0;(function(k){k[k.Standardised=0]="Standardised";k[k.StandardisedNoInterval=1]="StandardisedNoInterval";k[k.SqlServer=2]="SqlServer";k[k.Oracle=3]="Oracle";k[k.Postgres=4]="Postgres";k[k.PGDB=5]="PGDB";k[k.FILEGDB=6]="FILEGDB";k[k.NotEvaluated=7]="NotEvaluated"})(w.FeatureServiceDatabaseType||(w.FeatureServiceDatabaseType={}));w.IdState=void 0;(function(k){k[k.InFeatureSet=
0]="InFeatureSet";k[k.NotInFeatureSet=1]="NotInFeatureSet";k[k.Unknown=2]="Unknown"})(w.IdState||(w.IdState={}));w.callback=function(k,e){return function(){try{k.apply(null,arguments)}catch(g){e.reject(g)}}};w.cloneAttributes=function(k){const e={};for(const g in k)e[g]=k[g];return e};w.cloneField=function(k){return r.fromJSON(k.toJSON())};w.convertLinearUnitsToCode=function(k){if(void 0===k)return null;if("number"===typeof k||"number"===typeof k)return k;switch(k.toLowerCase()){case "meters":case "meter":return 9001;
case "miles":case "mile":return 9035;case "kilometers":case "kilometer":case "km":return 9036}return null};w.convertSquareUnitsToCode=function(k){if(void 0===k)return null;if("number"===typeof k)return k;switch(k.toLowerCase()){case "meters":case "meter":return 109404;case "miles":case "mile":return 109413;case "kilometers":case "kilometer":case "km":return 109414}return null};w.defaultMaxRecords=1E3;w.equalityTest=function(k,e){return k===e?!0:l(k)&&l(e)?k.getTime()===e.getTime():!1};w.errback=function(k){return function(e){k.reject(e)}};
w.esriFieldToJson=function(k){return k.toJSON()};w.extractServiceUrl=function(k){if(void 0===k)return"";k=k.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer");k=k.replace(/\/mapserver\/[0-9]*/i,"/MapServer");return k=k.split("?")[0]};w.isArray=function(k){return k instanceof Array};w.isBoolean=function(k){return"boolean"===typeof k};w.isDate=l;w.isNumber=function(k){return"number"===typeof k};w.isString=function(k){return"string"===typeof k||k instanceof String};w.layerFieldEsriConstants={"small-integer":"esriFieldTypeSmallInteger",
integer:"esriFieldTypeInteger","long":"esriFieldTypeLong",single:"esriFieldTypeSingle","double":"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",
esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};w.layerGeometryEsriConstants={point:"point",polygon:"polygon",
polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"};w.layerGeometryEsriRestConstants={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",
esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"};w.reduceArrayWithPromises=function(k,e){return v.create((g,d)=>{const h=v.resolve(!0);k.reduce((t,a,f,m)=>t.then(q=>{try{return e(q,a,f,m)}catch(E){return v.reject(E)}},q=>v.reject(q)),h).then(g,d)})};w.sameGeomType=function(k,e){return k===e||"point"===k&&"esriGeometryPoint"===e||"polyline"===k&&"esriGeometryPolyline"===e||"polygon"===
k&&"esriGeometryPolygon"===e||"extent"===k&&"esriGeometryEnvelope"===e||"multipoint"===k&&"esriGeometryMultipoint"===e||"point"===e&&"esriGeometryPoint"===k||"polyline"===e&&"esriGeometryPolyline"===k||"polygon"===e&&"esriGeometryPolygon"===k||"extent"===e&&"esriGeometryEnvelope"===k||"multipoint"===e&&"esriGeometryMultipoint"===k?!0:!1};w.shapeExtent=function(k){if(null===k)return null;switch(k.type){case "polygon":case "multipoint":case "polyline":return k.extent;case "point":return new B({xmin:k.x,
ymin:k.y,xmax:k.x,ymax:k.y,spatialReference:k.spatialReference});case "extent":return k}return null};w.stableStringify=function(k,e){e||(e={});"function"===typeof e&&(e={cmp:e});const g="boolean"===typeof e.cycles?e.cycles:!1,d=e.cmp&&function(t){return function(a){return function(f,m){return t({key:f,value:a[f]},{key:m,value:a[m]})}}}(e.cmp),h=[];return function f(a){a&&a.toJSON&&"function"===typeof a.toJSON&&(a=a.toJSON());if(void 0!==a){if("number"===typeof a)return isFinite(a)?""+a:"null";if("object"!==
typeof a)return JSON.stringify(a);var m;if(Array.isArray(a)){var q="[";for(m=0;m<a.length;m++)m&&(q+=","),q+=f(a[m])||"null";return q+"]"}if(null===a)return"null";if(-1!==h.indexOf(a)){if(g)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var E=h.push(a)-1,J=Object.keys(a).sort(d&&d(a));q="";for(m=0;m<J.length;m++){const A=J[m],G=f(a[A]);G&&(q&&(q+=","),q+=JSON.stringify(A)+":"+G)}h.splice(E,1);return"{"+q+"}"}}(k)};w.toEsriGeometryType=function(k){switch(k){case "point":return"esriGeometryPoint";
case "polygon":return"esriGeometryPolygon";case "multipoint":return"esriGeometryMultipoint";case "polyline":return"esriGeometryPolyline";default:return"esriGeometryPoint"}};Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/treeAnalysis":function(){define(["exports"],function(w){function v(c,p){return"0"!==c.min&&p.length<Number(c.min)||"*"!==c.max&&p.length>Number(c.max)?-2:1}function B(c,p,b){if(null!==b.localScope&&void 0!==b.localScope[c.toLowerCase()]){const D=b.localScope[c.toLowerCase()];
if("FormulaFunction"===D.type||"any"===D.type)return void 0===D.signature&&(D.signature={min:"0",max:"*"}),v(D.signature,p)}return void 0!==b.globalScope[c.toLowerCase()]&&(c=b.globalScope[c.toLowerCase()],"FormulaFunction"===c.type||"any"===c.type)?(void 0===c.signature&&(c.signature={min:"0",max:"*"}),v(c.signature,p)):-1}function r(c,p){if(c)for(const b of c)l(b,p)}function l(c,p){if(c&&!1!==p(c))switch(c.type){case "ArrayExpression":r(c.elements,p);break;case "AssignmentExpression":case "BinaryExpression":l(c.left,
p);l(c.right,p);break;case "BlockStatement":r(c.body,p);break;case "CallExpression":l(c.callee,p);r(c.arguments,p);break;case "ConditionalExpression":l(c.test,p);l(c.alternate,p);l(c.consequent,p);break;case "ExpressionStatement":l(c.expression,p);break;case "ForInStatement":l(c.left,p);l(c.right,p);l(c.body,p);break;case "ForStatement":l(c.init,p);l(c.test,p);l(c.update,p);l(c.body,p);break;case "FunctionDeclaration":case "FunctionDeclaration":case "FunctionExpression":l(c.id,p);r(c.params,p);l(c.body,
p);break;case "IfStatement":l(c.test,p);l(c.consequent,p);l(c.alternate,p);break;case "LogicalExpression":l(c.left,p);l(c.right,p);break;case "MemberExpression":l(c.object,p);l(c.property,p);break;case "ObjectExpression":r(c.properties,p);break;case "Program":r(c.body,p);break;case "Property":l(c.key,p);l(c.value,p);break;case "ReturnStatement":l(c.argument,p);break;case "UnaryExpression":l(c.argument,p);break;case "UpdateExpression":l(c.argument,p);break;case "VariableDeclaration":r(c.declarations,
p);break;case "VariableDeclarator":l(c.id,p);l(c.init,p);break;case "TemplateLiteral":r(c.expressions,p),r(c.quasis,p)}}function k(c,p=!0){let b=a(c,"SYNTAX","UNREOGNISED");try{switch(c.type){case "VariableDeclarator":return null!==c.init&&"FunctionExpression"===c.init.type?a(c,"SYNTAX","FUNCTIONVARIABLEDECLARATOR"):"Identifier"!==c.id.type?a(c,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER"):null!==c.init?k(c.init,!1):"";case "VariableDeclaration":for(var D=0;D<c.declarations.length;D++)if(b=k(c.declarations[D],
p),""!==b)return b;return"";case "ForInStatement":b=k(c.left,p);if(""!==b)break;if("VariableDeclaration"===c.left.type){if(1<c.left.declarations.length)return a(c,"SYNTAX","ONLY1VAR");if(null!==c.left.declarations[0].init)return a(c,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==c.left.type)return a(c,"SYNTAX","LEFTNOTVAR");b=k(c.right,p);if(""!==b)break;b=k(c.body,p);if(""!==b)break;return"";case "ForStatement":if(null!==c.test&&(b=k(c.test,p),""!==b))break;if(null!==c.init&&(b=k(c.init,p),
""!==b))break;if(null!==c.update&&(b=k(c.update,p),""!==b))break;if(null!==c.body&&(b=k(c.body,p),""!==b))break;return"";case "ContinueStatement":return"";case "EmptyStatement":return"";case "BreakStatement":return"";case "IfStatement":b=k(c.test,p);if(""!==b)break;if(null!==c.consequent&&(b=k(c.consequent,!1),""!==b))break;if(null!==c.alternate&&(b=k(c.alternate,!1),""!==b))break;return"";case "BlockStatement":D=[];for(var C=0;C<c.body.length;C++)"EmptyStatement"!==c.body[C].type&&D.push(c.body[C]);
c.body=D;for(D=0;D<c.body.length;D++)if(b=k(c.body[D],p),""!==b)return b;return"";case "FunctionDeclaration":return!1===p?a(c,"SYNTAX","GLOBALFUNCTIONSONLY"):"Identifier"!==c.id.type?a(c,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"):k(c.body,!1);case "ReturnStatement":return null!==c.argument?k(c.argument,p):"";case "UpdateExpression":return"Identifier"!==c.argument.type&&"MemberExpression"!==c.argument.type?a(c,"SYNTAX","ASSIGNMENTTOVARSONLY"):k(c.argument,p);case "AssignmentExpression":if("Identifier"!==
c.left.type&&"MemberExpression"!==c.left.type)return a(c,"SYNTAX","ASSIGNMENTTOVARSONLY");b=k(c.left,p);if(""!==b)break;switch(c.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:return a(c,"SYNTAX","OPERATORNOTRECOGNISED")}return k(c.right,!1);case "ExpressionStatement":return k(c.expression,!1);case "Identifier":b="";break;case "MemberExpression":b=k(c.object,p);if(""!==b)break;return!0===c.computed?k(c.property,p):"";case "Literal":return"";case "TemplateElement":return"";
case "CallExpression":if("Identifier"!==c.callee.type)return a(c,"SYNTAX","ONLYNODESSUPPORTED");b="";for(D=0;D<c.arguments.length;D++)if(b=k(c.arguments[D],p),""!==b)return b;return"";case "UnaryExpression":b=k(c.argument,p);break;case "BinaryExpression":b=k(c.left,p);if(""!==b)break;b=k(c.right,p);if(""!==b)break;switch(c.operator){case "|":case "\x26":case "\x3e\x3e":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":break;
default:return a(c,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "LogicalExpression":b=k(c.left,p);if(""!==b)break;b=k(c.right);if(""!==b)break;switch(c.operator){case "\x26\x26":case "||":break;default:return a(c,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "ConditionalExpression":return a(c,"SYNTAX","NOTSUPPORTED");case "ArrayExpression":b="";for(D=0;D<c.elements.length&&(b=k(c.elements[D],p),""===b);D++);break;case "TemplateLiteral":b="";for(D=0;D<c.quasis.length;D++)if(b=k(c.quasis[D],p),
""!==b)return b;for(D=0;D<c.expressions.length&&(b=k(c.expressions[D],p),""===b);D++);break;case "ObjectExpression":b="";for(D=0;D<c.properties.length;D++){b="";if(null!==c.properties[D].key&&("Literal"!==c.properties[D].key.type&&"Identifier"!==c.properties[D].key.type&&(b=a(c,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===c.properties[D].key.type)){C=c.properties[D].key;const R="value"in C?C.value:null;"string"===typeof R||R instanceof String||(b=a(c,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}""===
b&&(b=k(c.properties[D],p));if(""!==b)break}break;case "Property":if("Literal"!==c.key.type&&"Identifier"!==c.key.type)return a(c,"SYNTAX","ONLYLITERAL");if("Identifier"!==c.key.type&&(b=k(c.key,p),""!==b))break;b=k(c.value,p)}return b}catch(R){throw R;}}function e(c,p){var b=a(c,"SYNTAX","UNREOGNISED");let D=null,C="";try{switch(c.type){case "VariableDeclarator":{if(null!==c.init&&"FunctionExpression"===c.init.type)return a(c,"SYNTAX","FUNCTIONVARIABLEDECLARATOR");const Y=null===c.init?"":e(c.init,
p);if(""!==Y)return Y;"Identifier"===c.id.type&&(null===p.localScope?p.globalScope[c.id.name.toLowerCase()]={type:"any"}:p.localScope[c.id.name.toLowerCase()]={type:"any"});return""}case "FunctionDeclaration":D=d(c.id.name.toLowerCase(),c);C=h(c,p);if(""!==C)return C;if(null!==p.localScope)return a(c,"SYNTAX","GLOBALFUNCTIONSONLY");D.isnative=!1;p.globalScope[c.id.name.toLowerCase()]={type:"FormulaFunction",signature:[D]};return"";case "VariableDeclaration":b="";for(var R=0;R<c.declarations.length&&
(b=e(c.declarations[R],p),""===b);R++);break;case "IfStatement":b=e(c.test,p);if(""!==b)break;if("AssignmentExpression"===c.test.type||"UpdateExpression"===c.test.type)return a(c.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");if(null!==c.consequent&&(b=e(c.consequent,p),""!==b))break;if(null!==c.alternate&&(b=e(c.alternate,p),""!==b))break;return"";case "EmptyStatement":return"";case "BlockStatement":for(R=0;R<c.body.length;R++)if(b=e(c.body[R],p),""!==b)return b;return"";case "ReturnStatement":return null!==
c.argument?e(c.argument,p):"";case "ForInStatement":if("VariableDeclaration"===c.left.type){if(1<c.left.declarations.length)return a(c,"SYNTAX","ONLY1VAR");if(null!==c.left.declarations[0].init)return a(c,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==c.left.type)return a(c,"SYNTAX","LEFTNOTVAR");b=e(c.left,p);if(""!==b)break;b=e(c.right,p);if(""!==b)break;b=e(c.body,p);if(""!==b)break;return"";case "ForStatement":if(null!==c.init&&(b=e(c.init,p),""!==b))break;if(null!==c.test&&(b=e(c.test,p),
""!==b))break;if(null!==c.body&&(b=e(c.body,p),""!==b))break;if(null!==c.update&&(b=e(c.update,p),""!==b))break;return"";case "BreakStatement":return"";case "ContinueStatement":return"";case "UpdateExpression":if("Identifier"!==c.argument.type&&"MemberExpression"!==c.argument.type)return a(c,"SYNTAX","ASSIGNMENTTOVARSONLY");b=!1;if("MemberExpression"===c.argument.type)return e(c.argument,p);null!==p.localScope&&void 0!==p.localScope[c.argument.name.toLowerCase()]&&(b=!0);void 0!==p.globalScope[c.argument.name.toLowerCase()]&&
(b=!0);return!1===b?"Identifier "+c.argument.name+" has not been declared.":"";case "AssignmentExpression":if("Identifier"!==c.left.type&&"MemberExpression"!==c.left.type)return a(c,"SYNTAX","ASSIGNMENTTOVARSONLY");R=e(c.right,p);if(""!==R)return R;b=!1;if("MemberExpression"===c.left.type)return R=e(c.left,p),""!==R?R:"";null!==p.localScope&&void 0!==p.localScope[c.left.name.toLowerCase()]&&(b=!0);void 0!==p.globalScope[c.left.name.toLowerCase()]&&(b=!0);return!1===b?"Identifier "+c.left.name+" has not been declared.":
"";case "ExpressionStatement":return e(c.expression,p);case "Identifier":{const Y=c.name.toLowerCase();if(null!==p.localScope&&void 0!==p.localScope[Y])return"";b=void 0!==p.globalScope[Y]?"":a(c,"SYNTAX","VARIABLENOTFOUND");break}case "MemberExpression":b=e(c.object,p);if(""!==b)break;return!0===c.computed?e(c.property,p):"";case "Literal":return"";case "TemplateElement":return"";case "CallExpression":{if("Identifier"!==c.callee.type)return a(c,"SYNTAX","ONLYNODESSUPPORTED");b="";for(R=0;R<c.arguments.length;R++)if(b=
e(c.arguments[R],p),""!==b)return b;const Y=B(c.callee.name,c.arguments,p);-1===Y&&(b=a(c,"SYNTAX","NOTFOUND"));-2===Y&&(b=a(c,"SYNTAX","WRONGSIGNATURE"));break}case "UnaryExpression":b=e(c.argument,p);break;case "BinaryExpression":b=e(c.left,p);if(""!==b)break;b=e(c.right,p);if(""!==b)break;return"";case "LogicalExpression":b=e(c.left,p);if(""!==b)break;if("AssignmentExpression"===c.left.type||"UpdateExpression"===c.left.type)return a(c.left,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");b=e(c.right,
p);if(""!==b)break;return"AssignmentExpression"===c.right.type||"UpdateExpression"===c.right.type?a(c.right,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):"";case "ConditionalExpression":return a(c,"SYNTAX","NOTSUPPORTED");case "ArrayExpression":b="";for(R=0;R<c.elements.length&&(b=e(c.elements[R],p),""===b);R++);break;case "TemplateLiteral":b="";for(R=0;R<c.quasis.length;R++)if(b=e(c.quasis[R],p),""!==b)return b;for(R=0;R<c.expressions.length&&(b=e(c.expressions[R],p),""===b);R++);break;case "ObjectExpression":b=
"";for(R=0;R<c.properties.length;R++){b="";if(null!==c.properties[R].key&&("Literal"!==c.properties[R].key.type&&"Identifier"!==c.properties[R].key.type&&(b=a(c,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===c.properties[R].key.type)){const Y=c.properties[R].key,U="value"in Y?Y.value:null;"string"===typeof U||U instanceof String||(b=a(c,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}""===b&&(b=e(c.properties[R],p));if(""!==b)break}break;case "Property":if("Literal"!==c.key.type&&"Identifier"!==c.key.type)return a(c,
"SYNTAX","ONLYLITERAL");if("Identifier"!==c.key.type&&(b=e(c.key,p),""!==b))break;b=e(c.value,p)}return b}catch(Y){throw Y;}}function g(c,p){let b=!1;const D=p.toLowerCase();l(c,C=>{if(b)return!1;"Identifier"===C.type&&C.name&&C.name.toLowerCase()===D&&(b=!0);return!0});return b}function d(c,p){const b=[];if(void 0!==p.params&&null!==p.params)for(let D=0;D<p.params.length;D++)b.push("any");return{name:c,return:"any",params:b}}function h(c,p){p={globalScope:p.globalScope,localScope:{}};for(let b=0;b<
c.params.length;b++)p.localScope[c.params[b].name.toLowerCase()]={type:"any"};return e(c.body,p)}function t(c,p,b,D){const C={};if(void 0===c||null===c)c={};if(void 0===b||null===b)b={};C.infinity={type:"any"};C.textformatting={type:"any"};C.pi={type:"any"};for(const R in p)"sync"===D&&void 0!==p[R].min?C[R]={type:"FormulaFunction",signature:{min:p[R].min,max:p[R].max}}:"sync"!==D&&void 0!==p[R].fmin&&(C[R]={type:"FormulaFunction",signature:{min:p[R].fmin,max:p[R].fmax}});for(p=0;p<b.length;p++)D=
b[p],C[D.name]={type:"FormulaFunction",signature:D};for(const R in c)C[R]=c[R],C[R].type="any";return C}function a(c,p,b){let D="";switch(p){case "SYNTAX":D="Syntax Error: ";break;case "RUNTIME":D="Runtime Error: ";break;default:D="Syntax Error: "}try{switch(c.type){case "IfStatement":switch(b){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":D+=" Assignments not be made in logical tests";break;case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":D+=" Non Boolean used as Condition"}break;case "UpdateExpression":case "AssignmentExpression":switch(b){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":D+=
" Assignments not be made in logical tests";break;case "ASSIGNMENTTOVARSONLY":D+=" Assignments can only be made to identifiers"}break;case "ExpressionStatement":D+=" Assignments can only be made to identifiers";break;case "FunctionDeclaration":switch(b){case "GLOBALFUNCTIONSONLY":D+=" Functions cannot be declared as variables";break;case "FUNCTIONMUSTHAVEIDENTIFIER":D+=" Function Definition must have an identifier"}break;case "VariableDeclaration":D+=" Only 1 variable can be declared at a time";break;
case "VariableDeclarator":switch(b){case "FUNCTIONVARIABLEDECLARATOR":D+=" Functions cannot be declared as variables";break;case "VARIABLEMUSTHAVEIDENTIFIER":D+=" Variable Definition must have an identifier"}break;case "Identifier":D+=" Identifier Not Found. ";D+=c.name;break;case "ObjectExpression":switch(b){case "OBJECTPROPERTYMUSTBESTRING":D+=" Property name must be a string"}break;case "ForStatement":switch(b){case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":D+=" Non Boolean used as Condition"}break;
case "ForInStatement":switch(b){case "ONLY1VAR":D+=" Can only declare 1 var for use with IN";break;case "CANNOTDECLAREVAL":D+=" Can only declare value for use with IN";break;case "LEFTNOVAR":D+="Must provide a variable to iterate with.";break;case "VARIABLENOTDECLARED":D+="Variable must be declared before it is used..";break;case "CANNOTITERATETHISTYPE":D+="This type cannot be used in an IN loop"}break;case "MemberExpression":switch(b){case "PROPERTYNOTFOUND":D+="Cannot find member property. ";D+=
!1===c.computed?"Identifier"===c.property.type?c.property.name:"":"";break;case "OUTOFBOUNDS":D+="Out of Bounds. ";D+=!1===c.computed?"Identifier"===c.property.type?c.property.name:"":"";break;case "NOTFOUND":D+="Cannot call member method on null. ";D+=!1===c.computed?"Identifier"===c.property.type?c.property.name:"":"";break;case "INVALIDTYPE":D+="Cannot call member property on object of this type. ",D+=!1===c.computed?"Identifier"===c.property.type?c.property.name:"":""}break;case "Property":switch(b){case "ONLYLITERAL":D+=
"Property names must be literals or identifiers"}break;case "Literal":break;case "CallExpression":switch(b){case "WRONGSIGNATURE":D+="Function signature does not match: ";D+="Identifier"===c.callee.type?c.callee.name:"";break;case "ONLYNODESUPPORTED":D+="Functions must be declared.";D+="Identifier"===c.callee.type?c.callee.name:"";break;case "NOTAFUNCTION":D+="Not a Function: ";D+="Identifier"===c.callee.type?c.callee.name:"";break;case "NOTFOUND":D+="Function Not Found: "+("Identifier"===c.callee.type?
c.callee.name:"")}break;case "UnaryExpression":switch(b){case "NOTSUPPORTEDUNARYOPERATOR":D+="Operator "+c.operator+" not allowed in this context. Only ! can be used with boolean, and - with a number";break;case "NOTSUPPORTEDTYPE":D+="Unary operator "+c.operator+" cannot be used with this argument."}case "BinaryExpression":switch(b){case "OPERATORNOTRECOGNISED":D+="Binary Operator not recognised "+c.operator}break;case "LogicalExpression":switch(b){case "ONLYBOOLEAN":D+="Operator "+c.operator+" cannot be used. Only || or \x26\x26 are allowed values";
break;case "ONLYORORAND":D+="Logical Expression "+c.operator+" being applied to parameters that are not boolean."}break;case "ConditionalExpression":D+="Conditional statements not supported.";break;case "ArrayExpression":switch(b){case "FUNCTIONCONTEXTILLEGAL":D+=" Cannot Put Function inside Array."}break;default:D+="Expression contains unrecognised code structures."}}catch(C){throw C;}return D}function f(c,p,b){return{line:c.loc.start.line,character:c.loc.start.column,reason:a(c,p,b)}}function m(c,
p,b,D){p={globalScope:p.globalScope,localScope:{}};for(let C=0;C<c.params.length;C++)p.localScope[c.params[C].name.toLowerCase()]={type:"any"};q(c.body,p,b,D,!1)}function q(c,p,b,D,C=!0){if(null===c)throw Error("Unnexpexted Expression Syntax");var R=null;try{switch(c.type){case "VariableDeclarator":if(null!==c.init&&"FunctionExpression"===c.init.type){D.push(f(c,"SYNTAX","FUNCTIONVARIABLEDECLARATOR"));break}"Identifier"!==c.id.type?D.push(f(c,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER")):(c.id.name.toLowerCase(),
null===p.localScope?p.globalScope[c.id.name.toLowerCase()]={type:"any"}:p.localScope[c.id.name.toLowerCase()]={type:"any"});null!==c.init&&q(c.init,p,b,D,C);break;case "FunctionDeclaration":!1===C&&D.push(f(c,"SYNTAX","GLOBALFUNCTIONSONLY"));"Identifier"!==c.id.type&&D.push(f(c,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"));R=d("",c);m(c,p,b,D);null!==p.localScope&&D.push(f(c,"SYNTAX","GLOBALFUNCTIONSONLY"));R.isnative=!1;"Identifier"===c.id.type&&(p.globalScope[c.id.name.toLowerCase()]={type:"FormulaFunction",
signature:[R]});break;case "VariableDeclaration":for(var Y=0;Y<c.declarations.length;Y++)q(c.declarations[Y],p,b,D,C);break;case "IfStatement":null!==c.test&&(q(c.test,p,b,D,C),"AssignmentExpression"!==c.test.type&&"UpdateExpression"!==c.test.type||D.push(f(c.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION")));null!==c.consequent&&q(c.consequent,p,b,D,C);null!==c.alternate&&q(c.alternate,p,b,D,C);break;case "EmptyStatement":break;case "BlockStatement":if(null!==c.body)for(Y=0;Y<c.body.length;Y++)q(c.body[Y],
p,b,D,C);break;case "ReturnStatement":null!==c.argument&&q(c.argument,p,b,D,C);break;case "ForInStatement":"VariableDeclaration"===c.left.type?(1<c.left.declarations.length&&D.push(f(c,"SYNTAX","ONLY1VAR")),null!==c.left.declarations[0].init&&D.push(f(c,"SYNTAX","CANNOTDECLAREVAL"))):"Identifier"!==c.left.type&&D.push(f(c,"SYNTAX","LEFTNOTVAR"));q(c.left,p,b,D,C);q(c.right,p,b,D,C);q(c.body,p,b,D,C);break;case "ForStatement":null!==c.init&&q(c.init,p,b,D,C);null!==c.test&&q(c.test,p,b,D,C);null!==
c.body&&q(c.body,p,b,D,C);null!==c.update&&q(c.update,p,b,D,C);break;case "BreakStatement":break;case "ContinueStatement":break;case "UpdateExpression":"Identifier"!==c.argument.type&&"MemberExpression"!==c.argument.type?D.push(f(c,"SYNTAX","ASSIGNMENTTOVARSONLY")):("Identifier"===c.argument.type&&(Y=!1,!1===b&&(null!==p.localScope&&void 0!==p.localScope[c.argument.name.toLowerCase()]&&(Y=!0),void 0!==p.globalScope[c.argument.name.toLowerCase()]&&(Y=!0),!1===Y&&D.push({line:null===c?0:c.loc.start.line,
character:null===c?0:c.loc.start.column,reason:"Identifier "+c.argument.name+" has not been declared."}))),"MemberExpression"===c.argument.type&&q(c.argument,p,b,D,C));break;case "AssignmentExpression":"Identifier"!==c.left.type&&"MemberExpression"!==c.left.type&&D.push(f(c,"SYNTAX","ASSIGNMENTTOVARSONLY"));switch(c.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:D.push(f(c,"SYNTAX","OPERATORNOTRECOGNISED"))}q(c.right,p,b,D,C);Y=!1;"Identifier"===
c.left.type&&(null!==p.localScope&&void 0!==p.localScope[c.left.name.toLowerCase()]&&(Y=!0),void 0!==p.globalScope[c.left.name.toLowerCase()]&&(Y=!0),!1===b&&!1===Y&&D.push({line:null===c?0:c.loc.start.line,character:null===c?0:c.loc.start.column,reason:"Identifier "+c.left.name+" has not been declared."}));"MemberExpression"===c.left.type&&q(c.left,p,b,D,C);break;case "ExpressionStatement":q(c.expression,p,b,D,C);break;case "Identifier":{const U=c.name.toLowerCase();if(null!==p.localScope&&void 0!==
p.localScope[U]||void 0!==p.globalScope[U])break;!1===b&&D.push(f(c,"SYNTAX","VARIABLENOTFOUND"));break}case "MemberExpression":q(c.object,p,b,D,C);!0===c.computed&&q(c.property,p,b,D,C);break;case "Literal":break;case "TemplateElement":break;case "CallExpression":"Identifier"!==c.callee.type&&D.push(f(c,"SYNTAX","ONLYNODESSUPPORTED"));for(R=0;R<c.arguments.length;R++)q(c.arguments[R],p,b,D,C);"Identifier"===c.callee.type&&(Y=B(c.callee.name,c.arguments,p),!1===b&&-1===Y&&D.push(f(c,"SYNTAX","NOTFOUND")),
-2===Y&&D.push(f(c,"SYNTAX","WRONGSIGNATURE")));break;case "UnaryExpression":q(c.argument,p,b,D,C);break;case "BinaryExpression":q(c.left,p,b,D,C);q(c.right,p,b,D,C);switch(c.operator){case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":case "\x26":case "|":case "^":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":break;default:D.push(f(c,"SYNTAX","OPERATORNOTRECOGNISED"))}break;case "LogicalExpression":switch(c.operator){case "\x26\x26":case "||":break;
default:D.push(f(c,"SYNTAX","OPERATORNOTRECOGNISED"))}q(c.left,p,b,D,C);"AssignmentExpression"!==c.left.type&&"UpdateExpression"!==c.left.type||D.push(f(c,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));q(c.right,p,b,D,C);"AssignmentExpression"!==c.right.type&&"UpdateExpression"!==c.right.type||D.push(f(c,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));break;case "ConditionalExpression":D.push(f(c,"SYNTAX","NOTSUPPORTED"));break;case "ArrayExpression":for(Y=0;Y<c.elements.length;Y++)q(c.elements[Y],
p,b,D,C);break;case "TemplateLiteral":for(Y=0;Y<c.quasis.length;Y++)q(c.quasis[Y],p,b,D,C);for(Y=0;Y<c.expressions.length;Y++)q(c.expressions[Y],p,b,D,C);break;case "ObjectExpression":for(Y=0;Y<c.properties.length;Y++)q(c.properties[Y],p,b,D,C);break;case "Property":"Literal"!==c.key.type&&"Identifier"!==c.key.type&&D.push(f(c,"SYNTAX","ONLYLITERAL"));"Literal"===c.key.type&&q(c.key,p,b,D,C);q(c.value,p,b,D,C);break;default:D.push(f(c,"SYNTAX","UNRECOGNISED"))}}catch(U){D.push({line:null===c?0:c.loc.start.line,
character:null===c?0:c.loc.start.column,reason:"Unnexpected Syntax"})}}function E(c){const p=[];l(c,b=>{"CallExpression"===b.type&&"Identifier"===b.callee.type&&p.push(b.callee.name.toLowerCase());return!0});return p}const J={concatenate:{min:"0",max:"*"},tohex:{min:"1",max:"1"},hash:{min:"1",max:"1"},isoweek:{min:"1",max:"1"},isoweekday:{min:"1",max:"1"},isomonth:{min:"1",max:"1"},isoyear:{min:"1",max:"1"},resize:{min:"2",max:"3"},slice:{min:"0",max:"*"},splice:{min:"0",max:"*"},push:{min:"2",max:"2"},
pop:{min:"1",max:"1"},includes:{min:"2",max:"2"},array:{min:"1",max:"2"},front:{min:"1",max:"1"},back:{min:"1",max:"1"},insert:{min:"3",max:"3"},erase:{min:"2",max:"2"},split:{min:"2",max:"4"},guid:{min:"0",max:"1"},today:{min:"0",max:"0"},angle:{min:"2",max:"3"},bearing:{min:"2",max:"3"},urlencode:{min:"1",max:"1"},now:{min:"0",max:"0"},timestamp:{min:"0",max:"0"},day:{min:"1",max:"1"},month:{min:"1",max:"1"},year:{min:"1",max:"1"},hour:{min:"1",max:"1"},second:{min:"1",max:"1"},millisecond:{min:"1",
max:"1"},minute:{min:"1",max:"1"},weekday:{min:"1",max:"1"},toutc:{min:"1",max:"1"},tolocal:{min:"1",max:"1"},date:{min:"0",max:"7"},datediff:{min:"2",max:"3"},dateadd:{min:"2",max:"3"},trim:{min:"1",max:"1"},text:{min:"1",max:"2"},left:{min:"2",max:"2"},right:{min:"2",max:"2"},mid:{min:"2",max:"3"},upper:{min:"1",max:"1"},proper:{min:"1",max:"2"},lower:{min:"1",max:"1"},find:{min:"2",max:"3"},iif:{min:"3",max:"3"},decode:{min:"2",max:"*"},when:{min:"2",max:"*"},defaultvalue:{min:"2",max:"2"},isempty:{min:"1",
max:"1"},domaincode:{min:"2",max:"4"},domainname:{min:"2",max:"4"},polygon:{min:"1",max:"1"},point:{min:"1",max:"1"},polyline:{min:"1",max:"1"},extent:{min:"1",max:"1"},multipoint:{min:"1",max:"1"},ringisclockwise:{min:"1",max:"1"},geometry:{min:"1",max:"1"},count:{min:"0",max:"*"},number:{min:"1",max:"2"},acos:{min:"1",max:"1"},asin:{min:"1",max:"1"},atan:{min:"1",max:"1"},atan2:{min:"2",max:"2"},ceil:{min:"1",max:"2"},floor:{min:"1",max:"2"},round:{min:"1",max:"2"},cos:{min:"1",max:"1"},exp:{min:"1",
max:"1"},log:{min:"1",max:"1"},min:{min:"0",max:"*"},constrain:{min:"3",max:"3"},console:{min:"0",max:"*"},max:{min:"0",max:"*"},pow:{min:"2",max:"2"},random:{min:"0",max:"0"},sqrt:{min:"1",max:"1"},sin:{min:"1",max:"1"},tan:{min:"1",max:"1"},abs:{min:"1",max:"1"},isnan:{min:"1",max:"1"},stdev:{min:"0",max:"*"},average:{min:"0",max:"*"},mean:{min:"0",max:"*"},sum:{min:"0",max:"*"},variance:{min:"0",max:"*"},distinct:{min:"0",max:"*"},first:{min:"1",max:"1"},top:{min:"2",max:"2"},boolean:{min:"1",
max:"1"},dictionary:{min:"0",max:"*"},typeof:{min:"1",max:"1"},reverse:{min:"1",max:"1"},replace:{min:"3",max:"4"},sort:{min:"1",max:"2"},feature:{min:"1",max:"*"},haskey:{min:"2",max:"2"},indexof:{min:"2",max:"2"},disjoint:{min:"2",max:"2"},intersects:{min:"2",max:"2"},touches:{min:"2",max:"2"},crosses:{min:"2",max:"2"},within:{min:"2",max:"2"},contains:{min:"2",max:"2"},overlaps:{min:"2",max:"2"},equals:{min:"2",max:"2"},relate:{min:"3",max:"3"},intersection:{min:"2",max:"2"},union:{min:"1",max:"2"},
difference:{min:"2",max:"2"},symmetricdifference:{min:"2",max:"2"},clip:{min:"2",max:"2"},cut:{min:"2",max:"2"},area:{min:"1",max:"2"},areageodetic:{min:"1",max:"2"},length:{min:"1",max:"2"},lengthgeodetic:{min:"1",max:"2"},distancegeodetic:{min:"2",max:"3"},distance:{min:"2",max:"3"},densify:{min:"2",max:"3"},densifygeodetic:{min:"2",max:"3"},generalize:{min:"2",max:"4"},buffer:{min:"2",max:"3"},buffergeodetic:{min:"2",max:"3"},offset:{min:"2",max:"6"},rotate:{min:"2",max:"3"},issimple:{min:"1",
max:"1"},simplify:{min:"1",max:"1"},centroid:{min:"1",max:"1"},isselfintersecting:{min:"1",max:"1"},multiparttosinglepart:{min:"1",max:"1"},setgeometry:{min:"2",max:"2"},portal:{min:"1",max:"1"},getuser:{min:"1",max:"2"},subtypes:{min:"1",max:"1"},subtypecode:{min:"1",max:"1"},subtypename:{min:"1",max:"1"},domain:{min:"2",max:"3"},convertdirection:{min:"3",max:"3"},schema:{min:"1",max:"1"}};for(const c in J)J[c].fmin=J[c].min,J[c].fmax=J[c].max;const A="featureset getuser featuresetbyid featuresetbyname featuresetbyassociation featuresetbyrelationshipname featuresetbyurl attachments featuresetbyportalitem".split(" "),
G="disjoint intersects touches crosses within contains overlaps equals relate intersection union difference symmetricdifference clip cut area areageodetic length lengthgeodetic distance distancegeodetic densify densifygeodetic generalize buffer buffergeodetic offset rotate issimple simplify multiparttosinglepart".split(" ");w.addFunctionDeclaration=function(c,p){const b=J[c.name.toLowerCase()];void 0===b?"sync"===p?J[c.name.toLowerCase()]={min:c.min,max:c.max}:J[c.name.toLowerCase()]={fmin:c.min,
fmax:c.max}:"sync"===p?(b.min=c.min,b.max=c.max):(b.fmin=c.min,b.fmax=c.max)};w.checkFunctionSignature=v;w.checkScript=function(c,p,b,D="async",C=J){const R=[];if("BlockStatement"!==c.body[0].body.type)return[{line:0,character:0,reason:"Invalid Body"}];if(null===p||void 0===p)p={vars:{},customFunctions:[]};p={globalScope:t(p.vars,C,p.customFunctions,D),localScope:null};try{q(c.body[0].body,p,b,R)}catch(Y){}return R};w.constructGlobalScope=t;w.extractAllIssues=q;w.extractAllIssuesInFunction=m;w.extractFunctionDeclaration=
d;w.findFieldLiterals=function(c){const p=[];l(c,b=>{if("MemberExpression"!==b.type||"Identifier"!==b.object.type)return!0;!1===b.computed&&b.object&&b.object.name&&b.property&&"Identifier"===b.property.type&&b.property.name?p.push(b.object.name.toLowerCase()+"."+b.property.name.toLowerCase()):b.object&&b.object.name&&b.property&&"Literal"===b.property.type&&"string"===typeof b.property.value&&p.push(b.object.name.toLowerCase()+"."+b.property.value.toString().toLowerCase());return!1});return p};w.findFunction=
B;w.findFunctionCalls=E;w.findScriptDependencies=function(c,p=[]){let b=null;if(void 0===c.usesFeatureSet){null===b&&(b=E(c));c.usesFeatureSet=!1;for(let D=0;D<b.length;D++)-1<A.indexOf(b[D])&&(c.usesFeatureSet=!0,c.isAsync=!0);if(!1===c.usesFeatureSet&&p&&0<p.length)for(const D of p)if(g(c,D)){c.usesFeatureSet=!0;c.isAsync=!0;break}}if(void 0===c.usesGeometry)for(c.usesGeometry=!1,null===b&&(b=E(c)),p=0;p<b.length;p++)-1<G.indexOf(b[p])&&(c.usesGeometry=!0)};w.functionDecls=J;w.makeError=f;w.nodeErrorMessage=
a;w.referencesFunction=function(c,p){let b=!1;const D=p.toLowerCase();l(c,C=>b?!1:"CallExpression"===C.type&&"Identifier"===C.callee.type&&C.callee.name&&C.callee.name.toLowerCase()===D?(b=!0,!1):!0);return b};w.referencesMember=g;w.scriptUsesFeatureSet=function(c){c=E(c);for(let p=0;p<c.length;p++)if(-1<A.indexOf(c[p]))return!0;return!1};w.testValidityOfExpression=e;w.validateFunction=h;w.validateLanguage=function(c){return"BlockStatement"!==c.body[0].body.type?"Invalid formula content.":k(c.body[0].body)};
w.validateLanguageNode=k;w.validateScript=function(c,p,b="async",D=J){p={globalScope:t(p.vars,D,p.customFunctions,b),localScope:null};return e(c.body[0].body,p)};w.walk=l;Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/functions/array":function(){define(["exports","../../chunks/languageUtils"],function(w,v){w.registerFunctions=function(B,r){B.array=function(l,k){return r(l,k,function(e,g,d){v.pcCheck(d,1,2);e=v.toNumber(d[0]);if(isNaN(e)||!1===v.isInteger(e))throw Error("Invalid Parameter");
d=v.defaultUndefined(d[1],null);e=Array(e);e.fill(d);return e})};B.front=function(l,k){return r(l,k,function(e,g,d){v.pcCheck(d,1,1);if(v.isImmutableArray(d[0])){if(0>=d[0].length())throw Error("Array is empty");return d[0].get(0)}if(v.isArray(d[0])){if(0>=d[0].length)throw Error("Array is empty");return d[0][0]}throw Error("Invalid Parameter");})};B.back=function(l,k){return r(l,k,function(e,g,d){v.pcCheck(d,1,1);if(v.isImmutableArray(d[0])){if(0>=d[0].length())throw Error("Array is empty");return d[0].get(d[0].length()-
1)}if(v.isArray(d[0])){if(0>=d[0].length)throw Error("Array is empty");return d[0][d[0].length-1]}throw Error("Invalid Parameter");})};B.push=function(l,k){return r(l,k,function(e,g,d){v.pcCheck(d,1,2);if(v.isArray(d[0]))return d[0][d[0].length]=d[1],d[0].length;throw Error("Invalid Parameter");})};B.pop=function(l,k){return r(l,k,function(e,g,d){v.pcCheck(d,1,1);if(v.isArray(d[0])){if(0>=d[0].length)throw Error("Array is empty");e=d[0][d[0].length-1];--d[0].length;return e}throw Error("Invalid Parameter");
})};B.erase=function(l,k){return r(l,k,function(e,g,d){v.pcCheck(d,2,2);if(v.isArray(d[0])){e=v.toNumber(d[1]);if(isNaN(e)||!1===v.isInteger(e))throw Error("Invalid Parameter");d=d[0];if(0>=d.length)throw Error("Array is empty");0>e&&(e=d.length+e);if(0>e)throw Error("Element not found");if(e>=d.length)throw Error("Index is greater than array");d.splice(e,1);return v.voidOperation}throw Error("Invalid Parameter");})};B.insert=function(l,k){return r(l,k,function(e,g,d){v.pcCheck(d,3,3);if(v.isArray(d[0])){e=
v.toNumber(d[1]);if(isNaN(e)||!1===v.isInteger(e))throw Error("Invalid Parameter");g=d[2];d=d[0];if(e>d.length)throw Error("Index is greater than array");if(0>e&&e<-1*d.length)throw Error("Index is greater than array");if(e===d.length)return d[e]=g,v.voidOperation;d.splice(e,0,g);return v.voidOperation}throw Error("Invalid Parameter");})};B.resize=function(l,k){return r(l,k,function(e,g,d){v.pcCheck(d,2,3);if(v.isArray(d[0])){g=v.toNumber(d[1]);if(isNaN(g)||!1===v.isInteger(g))throw Error("Invalid Parameter");
if(0>g)throw Error("Size cannot be negative");e=v.defaultUndefined(d[2],null);d=d[0];if(d.length>=g)return d.length=g,v.voidOperation;const h=d.length;d.length=g;for(g=h;g<d.length;g++)d[g]=e;return v.voidOperation}throw Error("Invalid Parameter");})};B.includes=function(l,k){return r(l,k,function(e,g,d){v.pcCheck(d,2,2);if(v.isArray(d[0])){const h=d[1];return-1<d[0].findIndex(t=>v.equalityTest(t,h))?!0:!1}if(v.isImmutableArray(d[0])){const h=d[1];return-1<d[0].toArray().findIndex(t=>v.equalityTest(t,
h))?!0:!1}throw Error("Invalid Parameter");})};B.slice=function(l,k){return r(l,k,function(e,g,d){v.pcCheck(d,1,3);if(v.isArray(d[0])){e=v.toNumber(v.defaultUndefined(d[1],0));g=v.toNumber(v.defaultUndefined(d[2],d[0].length));if(isNaN(e)||!1===v.isInteger(e))throw Error("Invalid Parameter");if(isNaN(g)||!1===v.isInteger(g))throw Error("Invalid Parameter");return d[0].slice(e,g)}if(v.isImmutableArray(d[0])){e=d[0];g=v.toNumber(v.defaultUndefined(d[1],0));d=v.toNumber(v.defaultUndefined(d[2],e.length()));
if(isNaN(g)||!1===v.isInteger(g))throw Error("Invalid Parameter");if(isNaN(d)||!1===v.isInteger(d))throw Error("Invalid Parameter");return e.toArray().slice(g,d)}throw Error("Invalid Parameter");})};B.splice=function(l,k){return r(l,k,function(e,g,d){e=[];for(g=0;g<d.length;g++)v.isArray(d[g])?e.push(...d[g]):v.isImmutableArray(d[g])?e.push(...d[g].toArray()):e.push(d[g]);return e})}};Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/functions/date":function(){define(["exports","../../chunks/languageUtils"],
function(w,v){function B(k){k=new Date(k.getTime());const e=k.getFullYear();var g=new Date(0);g.setFullYear(e+1,0,4);g.setHours(0,0,0,0);g=r(g);var d=new Date(0);d.setFullYear(e,0,4);d.setHours(0,0,0,0);d=r(d);return k.getTime()>=g.getTime()?e+1:k.getTime()>=d.getTime()?e:e-1}function r(k){k=new Date(k.getTime());var e=k.getDay();e=(1>e?7:0)+e-1;k.setDate(k.getDate()-e);k.setHours(0,0,0,0);return k}function l(k){return null===k?k:isNaN(k.getTime())?null:k}w.registerFunctions=function(k,e){k.today=
function(g,d){return e(g,d,function(h,t,a){v.pcCheck(a,0,0);h=new Date;h.setHours(0,0,0,0);return h})};k.now=function(g,d){return e(g,d,function(h,t,a){v.pcCheck(a,0,0);return new Date})};k.timestamp=function(g,d){return e(g,d,function(h,t,a){v.pcCheck(a,0,0);h=new Date;return h=new Date(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds())})};k.toutc=function(g,d){return e(g,d,function(h,t,a){v.pcCheck(a,1,1);h=v.toDate(a[0]);
return null===h?null:new Date(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds())})};k.tolocal=function(g,d){return e(g,d,function(h,t,a){v.pcCheck(a,1,1);h=v.toDate(a[0]);return null===h?null:v.MomentLibrary.Moment.utc([h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds()]).toDate()})};k.day=function(g,d){return e(g,d,function(h,t,a){v.pcCheck(a,1,1);h=v.toDate(a[0]);return null===
h?NaN:h.getDate()})};k.month=function(g,d){return e(g,d,function(h,t,a){v.pcCheck(a,1,1);h=v.toDate(a[0]);return null===h?NaN:h.getMonth()})};k.year=function(g,d){return e(g,d,function(h,t,a){v.pcCheck(a,1,1);h=v.toDate(a[0]);return null===h?NaN:h.getFullYear()})};k.hour=function(g,d){return e(g,d,function(h,t,a){v.pcCheck(a,1,1);h=v.toDate(a[0]);return null===h?NaN:h.getHours()})};k.second=function(g,d){return e(g,d,function(h,t,a){v.pcCheck(a,1,1);h=v.toDate(a[0]);return null===h?NaN:h.getSeconds()})};
k.millisecond=function(g,d){return e(g,d,function(h,t,a){v.pcCheck(a,1,1);h=v.toDate(a[0]);return null===h?NaN:h.getMilliseconds()})};k.minute=function(g,d){return e(g,d,function(h,t,a){v.pcCheck(a,1,1);h=v.toDate(a[0]);return null===h?NaN:h.getMinutes()})};k.weekday=function(g,d){return e(g,d,function(h,t,a){v.pcCheck(a,1,1);h=v.toDate(a[0]);return null===h?NaN:h.getDay()})};k.isoweekday=function(g,d){return e(g,d,function(h,t,a){v.pcCheck(a,1,1);h=v.toDate(a[0]);if(null===h)return NaN;h=h.getDay();
0===h&&(h=7);return h})};k.isomonth=function(g,d){return e(g,d,function(h,t,a){v.pcCheck(a,1,1);h=v.toDate(a[0]);return null===h?NaN:h.getMonth()+1})};k.isoweek=function(g,d){return e(g,d,function(h,t,a){v.pcCheck(a,1,1);t=v.toDate(a[0]);if(null===t)return NaN;h=r(t).getTime();t=B(t);a=new Date(0);a.setFullYear(t,0,4);a.setHours(0,0,0,0);t=r(a);h-=t.getTime();return Math.round(h/6048E5)+1})};k.isoyear=function(g,d){return e(g,d,function(h,t,a){v.pcCheck(a,1,1);h=v.toDate(a[0]);return null===h?NaN:
B(h)})};k.date=function(g,d){return e(g,d,function(h,t,a){v.pcCheck(a,0,7);if(3===a.length)return l(new Date(v.toNumber(a[0]),v.toNumber(a[1]),v.toNumber(a[2]),0,0,0,0));if(4===a.length)return l(new Date(v.toNumber(a[0]),v.toNumber(a[1]),v.toNumber(a[2]),v.toNumber(a[3]),0,0,0));if(5===a.length)return l(new Date(v.toNumber(a[0]),v.toNumber(a[1]),v.toNumber(a[2]),v.toNumber(a[3]),v.toNumber(a[4]),0,0));if(6===a.length)return l(new Date(v.toNumber(a[0]),v.toNumber(a[1]),v.toNumber(a[2]),v.toNumber(a[3]),
v.toNumber(a[4]),v.toNumber(a[5]),0));if(7===a.length)return l(new Date(v.toNumber(a[0]),v.toNumber(a[1]),v.toNumber(a[2]),v.toNumber(a[3]),v.toNumber(a[4]),v.toNumber(a[5]),v.toNumber(a[6])));if(2===a.length){h=v.toString(a[1]);if(""===h)return null;h=v.standardiseDateFormat(h);a=v.MomentLibrary.Moment(v.toString(a[0]),h,!0);return!0===a.isValid()?a.toDate():null}if(1===a.length){if(v.isString(a[0])){if(""===a[0].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;if(!0===/^[0-9][0-9][0-9][0-9]$/.test(a[0]))return v.toDate(a[0]+
"-01-01")}h=v.toNumber(a[0]);return!1===isNaN(h)?l(new Date(h)):v.toDate(a[0])}if(0===a.length)return new Date})};k.datediff=function(g,d){return e(g,d,function(h,t,a){v.pcCheck(a,2,3);h=v.toDateM(a[0]);t=v.toDateM(a[1]);if(null===h||null===t)return NaN;switch(v.toString(a[2]).toLowerCase()){case "days":case "day":case "d":return h.diff(t,"days",!0);case "months":case "month":return h.diff(t,"months",!0);case "minutes":case "minute":case "m":return"M"===a[2]?h.diff(t,"months",!0):h.diff(t,"minutes",
!0);case "seconds":case "second":case "s":return h.diff(t,"seconds",!0);case "milliseconds":case "millisecond":case "ms":return h.diff(t);case "hours":case "hour":case "h":return h.diff(t,"hours",!0);case "years":case "year":case "y":return h.diff(t,"years",!0);default:return h.diff(t)}})};k.dateadd=function(g,d){return e(g,d,function(h,t,a){v.pcCheck(a,2,3);h=v.toDateM(a[0]);if(null===h)return null;t="milliseconds";switch(v.toString(a[2]).toLowerCase()){case "days":case "day":case "d":t="days";break;
case "months":case "month":t="months";break;case "minutes":case "minute":case "m":t="M"===a[2]?"months":"minutes";break;case "seconds":case "second":case "s":t="seconds";break;case "milliseconds":case "millisecond":case "ms":t="milliseconds";break;case "hours":case "hour":case "h":t="hours";break;case "years":case "year":case "y":t="years"}h.add(v.toNumber(a[1]),t);return h.toDate()})}};Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/functions/geometry":function(){define("exports ../Dictionary ../Feature ../ImmutablePointArray ../../chunks/languageUtils ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ./centroid ../../geometry/support/jsonUtils ../../geometry/support/coordsUtils".split(" "),
function(w,v,B,r,l,k,e,g,d,h,t,a,f,m){function q(E){return E instanceof B||"object"===typeof E&&"FeatureSetReader"===E.type}w.registerFunctions=function(E,J){E.ringisclockwise=function(A,G){return J(A,G,function(c,p,b){l.pcCheck(b,1,1);c=[];let D=p=!1;if(null===b[0])return!1;if(l.isArray(b[0])){for(const C of b[0])if(C instanceof d)c.push(C.hasZ?C.hasM?[C.x,C.y,C.z,C.m]:[C.x,C.y,C.z]:[C.x,C.y]);else throw Error("Invalid Argument");0<c.length&&(p=b[0][0].hasZ,D=b[0][0].hasM)}else if(b[0]instanceof
r)c=b[0]._elements,0<c.length&&(p=b[0]._hasZ,D=b[0]._hasM);else if(l.isImmutableArray(b[0])){for(const C of b[0].toArray())if(C instanceof d)c.push(C.hasZ?C.hasM?[C.x,C.y,C.z,C.m]:[C.x,C.y,C.z]:[C.x,C.y]);else throw Error("Invalid Argument");0<c.length&&(p=b[0].get(0).hasZ,D=b[0].get(0).hasM)}else throw Error("Invalid Argument");return 3>c.length?!1:m.isClockwise(c,D,p)})};E.polygon=function(A,G){return J(A,G,function(c,p,b){l.pcCheck(b,1,1);c=null;if(b[0]instanceof v){if(c=l.fixSpatialReference(B.parseGeometryFromDictionary(b[0]),
A.spatialReference),!1===c instanceof h)throw Error("Illegal Parameter");}else c=b[0]instanceof h?f.fromJSON(b[0].toJSON()):l.fixSpatialReference(new h(JSON.parse(b[0])),A.spatialReference);if(null!==c&&!1===c.spatialReference.equals(A.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return l.fixNullGeometry(c)})};E.polyline=function(A,G){return J(A,G,function(c,p,b){l.pcCheck(b,1,1);c=null;if(b[0]instanceof v){if(c=l.fixSpatialReference(B.parseGeometryFromDictionary(b[0]),
A.spatialReference),!1===c instanceof t)throw Error("Illegal Parameter");}else c=b[0]instanceof t?f.fromJSON(b[0].toJSON()):l.fixSpatialReference(new t(JSON.parse(b[0])),A.spatialReference);if(null!==c&&!1===c.spatialReference.equals(A.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return l.fixNullGeometry(c)})};E.point=function(A,G){return J(A,G,function(c,p,b){l.pcCheck(b,1,1);c=null;if(b[0]instanceof v){if(c=l.fixSpatialReference(B.parseGeometryFromDictionary(b[0]),
A.spatialReference),!1===c instanceof d)throw Error("Illegal Parameter");}else c=b[0]instanceof d?f.fromJSON(b[0].toJSON()):l.fixSpatialReference(new d(JSON.parse(b[0])),A.spatialReference);if(null!==c&&!1===c.spatialReference.equals(A.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return l.fixNullGeometry(c)})};E.multipoint=function(A,G){return J(A,G,function(c,p,b){l.pcCheck(b,1,1);c=null;if(b[0]instanceof v){if(c=
l.fixSpatialReference(B.parseGeometryFromDictionary(b[0]),A.spatialReference),!1===c instanceof g)throw Error("Illegal Parameter");}else c=b[0]instanceof g?f.fromJSON(b[0].toJSON()):l.fixSpatialReference(new g(JSON.parse(b[0])),A.spatialReference);if(null!==c&&!1===c.spatialReference.equals(A.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return l.fixNullGeometry(c)})};E.extent=function(A,G){return J(A,G,function(c,
p,b){b=l.autoCastFeatureToGeometry(b);l.pcCheck(b,1,1);c=null;b[0]instanceof v?c=l.fixSpatialReference(B.parseGeometryFromDictionary(b[0]),A.spatialReference):b[0]instanceof d?(c={xmin:b[0].x,ymin:b[0].y,xmax:b[0].x,ymax:b[0].y,spatialReference:b[0].spatialReference.toJSON()},b=b[0],b.hasZ?(c.zmin=b.z,c.zmax=b.z):b.hasM&&(c.mmin=b.m,c.mmax=b.m),c=f.fromJSON(c)):c=b[0]instanceof h?f.fromJSON(b[0].extent.toJSON()):b[0]instanceof t?f.fromJSON(b[0].extent.toJSON()):b[0]instanceof g?f.fromJSON(b[0].extent.toJSON()):
b[0]instanceof k?f.fromJSON(b[0].toJSON()):l.fixSpatialReference(new k(JSON.parse(b[0])),A.spatialReference);if(null!==c&&!1===c.spatialReference.equals(A.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return l.fixNullGeometry(c)})};E.geometry=function(A,G){return J(A,G,function(c,p,b){l.pcCheck(b,1,1);c=null;c=q(b[0])?l.fixSpatialReference(b[0].geometry(),A.spatialReference):b[0]instanceof v?l.fixSpatialReference(B.parseGeometryFromDictionary(b[0]),
A.spatialReference):l.fixSpatialReference(f.fromJSON(JSON.parse(b[0])),A.spatialReference);if(null!==c&&!1===c.spatialReference.equals(A.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return l.fixNullGeometry(c)})};E.setgeometry=function(A,G){return J(A,G,function(c,p,b){l.pcCheck(b,2,2);if(q(b[0])){if(!0===b[0].immutable)throw Error("Feature is Immutable");if(b[1]instanceof e||null===b[1])b[0]._geometry=b[1];else throw Error("Illegal Argument");
}else throw Error("Illegal Argument");return l.voidOperation})};E.feature=function(A,G){return J(A,G,function(c,p,b){if(0===b.length)throw Error("Missing Parameters");c=null;if(1===b.length)if(l.isString(b[0]))c=B.fromJson(JSON.parse(b[0]));else if(q(b[0]))c=B.createFromArcadeFeature(b[0]);else if(b[0]instanceof e)c=B.createFromGraphicLikeObject(b[0],null,null);else if(b[0]instanceof v)c=b[0].hasField("geometry")?b[0].field("geometry"):null,b=b[0].hasField("attributes")?b[0].field("attributes"):null,
null!==c&&c instanceof v&&(c=B.parseGeometryFromDictionary(c)),null!==b&&(b=B.parseAttributesFromDictionary(b)),c=B.createFromGraphicLikeObject(c,b,null);else throw Error("Illegal Argument");else if(2===b.length){p=c=null;if(null!==b[0])if(b[0]instanceof e)c=b[0];else if(c instanceof v)c=B.parseGeometryFromDictionary(b[0]);else throw Error("Illegal Argument");if(null!==b[1])if(b[1]instanceof v)p=B.parseAttributesFromDictionary(b[1]);else throw Error("Illegal Argument");c=B.createFromGraphicLikeObject(c,
p,null)}else{c=null;p={};if(null!==b[0])if(b[0]instanceof e)c=b[0];else if(c instanceof v)c=B.parseGeometryFromDictionary(b[0]);else throw Error("Illegal Argument");for(let D=1;D<b.length;D+=2){const C=l.toString(b[D]),R=b[D+1];if(null===R||void 0===R||l.isString(R)||isNaN(R)||l.isDate(R)||l.isNumber(R)||l.isBoolean(R)){if(l.isFunctionParameter(R)||!1===l.isSimpleType(R))throw Error("Illegal Argument");p[C]=R===l.voidOperation?null:R}else throw Error("Illegal Argument");}c=B.createFromGraphicLikeObject(c,
p,null)}c._geometry=l.fixSpatialReference(c.geometry(),A.spatialReference);c.immutable=!1;return c})};E.dictionary=function(A,G){return J(A,G,function(c,p,b){if(0===b.length)return b=new v,b.immutable=!1,b;if(1===b.length&&l.isString(b[0]))try{var D=JSON.parse(b[0]),C=v.convertObjectToArcadeDictionary(D,!1);C.immutable=!1;return C}catch(R){throw Error("Missing Parameters or Illegal Json");}if(0!==b.length%2)throw Error("Missing Parameters");c={};for(p=0;p<b.length;p+=2)if(D=l.toString(b[p]),C=b[p+
1],null===C||void 0===C||l.isString(C)||isNaN(C)||l.isDate(C)||l.isNumber(C)||l.isBoolean(C)||l.isArray(C)||l.isImmutableArray(C)){if(l.isFunctionParameter(C))throw Error("Illegal Argument");c[D]=C===l.voidOperation?null:C}else throw Error("Illegal Argument");b=new v(c);b.immutable=!1;return b})};E.haskey=function(A,G){return J(A,G,function(c,p,b){l.pcCheck(b,2,2);c=l.toString(b[1]);if(q(b[0])||b[0]instanceof v)return b[0].hasField(c);throw Error("Illegal Argument");})};E.indexof=function(A,G){return J(A,
G,function(c,p,b){l.pcCheck(b,2,2);c=b[1];if(l.isArray(b[0])){for(p=0;p<b[0].length;p++)if(l.equalityTest(c,b[0][p]))return p;return-1}if(l.isImmutableArray(b[0])){p=b[0].length();for(let D=0;D<p;D++)if(l.equalityTest(c,b[0].get(D)))return D;return-1}throw Error("Illegal Argument");})};E.angle=function(A,G){return J(A,G,function(c,p,b){b=l.autoCastFeatureToGeometry(b);l.pcCheck(b,2,3);if(!(b[0]instanceof d))throw Error("Illegal Argument");if(!(b[1]instanceof d))throw Error("Illegal Argument");if(2<
b.length&&!(b[2]instanceof d))throw Error("Illegal Argument");return 2===b.length?a.angle2D(b[0],b[1]):a.angleBetween2D(b[0],b[1],b[2])})};E.bearing=function(A,G){return J(A,G,function(c,p,b){b=l.autoCastFeatureToGeometry(b);l.pcCheck(b,2,3);if(!(b[0]instanceof d))throw Error("Illegal Argument");if(!(b[1]instanceof d))throw Error("Illegal Argument");if(2<b.length&&!(b[2]instanceof d))throw Error("Illegal Argument");return 2===b.length?a.bearing2D(b[0],b[1]):a.bearingBetween2D(b[0],b[1],b[2])})};E.isselfintersecting=
function(A,G){return J(A,G,function(c,p,b){b=l.autoCastFeatureToGeometry(b);l.pcCheck(b,1,1);c=b[0];if(c instanceof h)return c.isSelfIntersecting;if(c instanceof t)return c=c.paths,a.pathsSelfIntersecting(c);if(c instanceof g)for(p=c.points,b=0;b<p.length;b++)for(let D=0;D<p.length;D++)if(D!==b){let C=!0;for(let R=0;R<p[b].length;R++)if(p[b][R]!==p[D][R]){C=!1;break}if(!0===C)return!0}return l.isArray(c)||l.isImmutableArray(c)?(c=l.autoCastArrayOfPointsToPolyline(c,A.spatialReference),null!==c&&(c=
c.paths),a.pathsSelfIntersecting(c)):!1})}};Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/functions/centroid":function(){define(["exports","../../geometry/Point","../../geometry/support/intersectsBase"],function(w,v,B){function r(h,t,a){const f={x:0,y:0};t&&(f.z=0);a&&(f.m=0);let m=0;var q=h[0];for(let c=0;c<h.length;c++){const p=h[c];a:if(p.length!==q.length)var E=!1;else{for(E=0;E<p.length;E++)if(p[E]!==q[E]){E=!1;break a}E=!0}if(!1===E){E=l(q,p,t);{var J=p,A=t,G=a;const b={x:(q[0]+
J[0])/2,y:(q[1]+J[1])/2};A&&(b.z=(q[2]+J[2])/2);A&&G?b.m=(q[3]+J[3])/2:G&&(b.m=(q[2]+J[2])/2);q=b}q.x*=E;q.y*=E;f.x+=q.x;f.y+=q.y;t&&(q.z*=E,f.z+=q.z);a&&(q.m*=E,f.m+=q.m);m+=E;q=p}}0<m?(f.x/=m,f.y/=m,t&&(f.z/=m),a&&(f.m/=m)):(f.x=h[0][0],f.y=h[0][1],t&&(f.z=h[0][2]),a&&t?f.m=h[0][3]:a&&(f.m=h[0][2]));return f}function l(h,t,a){const f=t[0]-h[0];h=t[1]-h[1];return a?(t=t[2]-t[2],Math.sqrt(f*f+h*h+t*t)):Math.sqrt(f*f+h*h)}function k(h,t,a=0){for(;h<a;)h+=t;for(a+=t;h>=a;)h-=t;return h}function e(h,
t){return Math.atan2(t.y-h.y,t.x-h.x)}function g(h,t,a){var f=h.x-t.x;h=h.y-t.y;var m=a.x-t.x;t=a.y-t.y;return Math.atan2(f*t-m*h,f*m+h*t)}const d=[0,0];w.angle2D=function(h,t){return k(e(h,t),2*Math.PI)*(180/Math.PI)};w.angleBetween2D=function(h,t,a){return k(g(h,t,a),2*Math.PI)*(180/Math.PI)};w.angleBetweenRad=g;w.angleRad=e;w.bearing2D=function(h,t){return k(Math.PI/2-e(h,t),2*Math.PI)*(180/Math.PI)};w.bearingBetween2D=function(h,t,a){return k(-1*g(h,t,a),2*Math.PI)*(180/Math.PI)};w.centroidMultiPoint=
function(h){if(0===h.points.length)return null;var t=0;let a=0,f=0,m=0;for(let q=0;q<h.points.length;q++){const E=h.getPoint(q);!0===E.hasZ&&(f+=E.z);!0===E.hasM&&(m+=E.m);t+=E.x;a+=E.y;m+=E.m}t={x:t/h.points.length,y:a/h.points.length,spatialReference:null};t.spatialReference=h.spatialReference.toJSON();!0===h.hasZ&&(t.z=f/h.points.length);!0===h.hasM&&(t.m=m/h.points.length);return new v(t)};w.centroidPolyline=function(h){const t={x:0,y:0,spatialReference:h.spatialReference.toJSON()},a={x:0,y:0,
spatialReference:h.spatialReference.toJSON()};let f=0,m=0;for(let J=0;J<h.paths.length;J++)if(0!==h.paths[J].length){a:{var q=h.paths[J];var E=!0===h.hasZ;if(1>=q.length){q=0;break a}let A=0;for(let G=1;G<q.length;G++)A+=l(q[G-1],q[G],E);q=A}0===q?(q=r(h.paths[J],!0===h.hasZ,!0===h.hasM),t.x+=q.x,t.y+=q.y,!0===h.hasZ&&(t.z+=q.z),!0===h.hasM&&(t.m+=q.m),++f):(E=r(h.paths[J],!0===h.hasZ,!0===h.hasM),a.x+=E.x*q,a.y+=E.y*q,!0===h.hasZ&&(a.z+=E.z*q),!0===h.hasM&&(a.m+=E.m*q),m+=q)}return 0<m?(a.x/=m,a.y/=
m,!0===h.hasZ&&(a.z/=m),!0===h.hasM&&(a.m/=m),new v(a)):0<f?(t.x/=f,t.y/=f,!0===h.hasZ&&(a.z/=f),!0===h.hasM&&(t.m/=f),new v(t)):null};w.pathsSelfIntersecting=function(h){for(let A=0;A<h.length;A++){const G=h[A];for(var t=0;t<G.length-1;t++){var a=G[t],f=G[t+1];for(var m=A+1;m<h.length;m++)for(var q=0;q<h[m].length-1;q++){var E=h[m][q],J=h[m][q+1];if(B.segmentIntersects(a,f,E,J,d)&&!(d[0]===a[0]&&d[1]===a[1]||d[0]===E[0]&&d[1]===E[1]||d[0]===f[0]&&d[1]===f[1]||d[0]===J[0]&&d[1]===J[1]))return!0}}t=
G.length;if(!(3>t))for(a=0;a<=t-2;a++)for(f=G[a],m=G[a+1],q=a+2;q<=t-2;q++)if(E=G[q],J=G[q+1],B.segmentIntersects(f,m,E,J,d)&&!(d[0]===f[0]&&d[1]===f[1]||d[0]===E[0]&&d[1]===E[1]||d[0]===m[0]&&d[1]===m[1]||d[0]===J[0]&&d[1]===J[1]))return!0}return!1};Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/functions/geomsync":function(){define("exports ../../kernel ../kernel ../../chunks/languageUtils ./centroid ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../geometry/support/jsonUtils".split(" "),
function(w,v,B,r,l,k,e,g,d,h,t,a){function f(q){return 0===v.version.indexOf("4.")?h.fromExtent(q):new h({spatialReference:q.spatialReference,rings:[[[q.xmin,q.ymin],[q.xmin,q.ymax],[q.xmax,q.ymax],[q.xmax,q.ymin],[q.xmin,q.ymin]]]})}let m=null;w.registerFunctions=function(q,E){function J(A){r.pcCheck(A,2,2);if(!(A[0]instanceof e&&A[1]instanceof e||A[0]instanceof e&&null===A[1]||A[1]instanceof e&&null===A[0]||null===A[0]&&null===A[1]))throw Error("Illegal Argument");}q.disjoint=function(A,G){return E(A,
G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);J(b);return null===b[0]||null===b[1]?!0:m.disjoint(b[0],b[1])})};q.intersects=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);J(b);return null===b[0]||null===b[1]?!1:m.intersects(b[0],b[1])})};q.touches=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);J(b);return null===b[0]||null===b[1]?!1:m.touches(b[0],b[1])})};q.crosses=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);
J(b);return null===b[0]||null===b[1]?!1:m.crosses(b[0],b[1])})};q.within=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);J(b);return null===b[0]||null===b[1]?!1:m.within(b[0],b[1])})};q.contains=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);J(b);return null===b[0]||null===b[1]?!1:m.contains(b[0],b[1])})};q.overlaps=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);J(b);return null===b[0]||null===b[1]?!1:m.overlaps(b[0],
b[1])})};q.equals=function(A,G){return E(A,G,function(c,p,b){r.pcCheck(b,2,2);return b[0]===b[1]?!0:b[0]instanceof e&&b[1]instanceof e?m.equals(b[0],b[1]):r.isDate(b[0])&&r.isDate(b[1])?b[0].getTime()===b[1].getTime():!1})};q.relate=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);r.pcCheck(b,3,3);if(b[0]instanceof e&&b[1]instanceof e)return m.relate(b[0],b[1],r.toString(b[2]));if(b[0]instanceof e&&null===b[1]||b[1]instanceof e&&null===b[0]||null===b[0]&&null===b[1])return!1;
throw Error("Illegal Argument");})};q.intersection=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);J(b);return null===b[0]||null===b[1]?null:m.intersect(b[0],b[1])})};q.union=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);c=[];if(0===b.length)throw Error("Function called with wrong number of Parameters");if(1===b.length)if(r.isArray(b[0]))for(b=r.autoCastFeatureToGeometry(b[0]),p=0;p<b.length;p++){if(null!==b[p]){if(!(b[p]instanceof e))throw Error("Illegal Argument");
c.push(b[p])}}else if(r.isImmutableArray(b[0]))for(b=r.autoCastFeatureToGeometry(b[0].toArray()),p=0;p<b.length;p++){if(null!==b[p]){if(!(b[p]instanceof e))throw Error("Illegal Argument");c.push(b[p])}}else{if(b[0]instanceof e)return r.fixSpatialReference(B.cloneGeometry(b[0]),A.spatialReference);if(null===b[0])return null;throw Error("Illegal Argument");}else for(p=0;p<b.length;p++)if(null!==b[p]){if(!(b[p]instanceof e))throw Error("Illegal Argument");c.push(b[p])}return 0===c.length?null:m.union(c)})};
q.difference=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);J(b);return null!==b[0]&&null===b[1]?B.cloneGeometry(b[0]):null===b[0]?null:m.difference(b[0],b[1])})};q.symmetricdifference=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);J(b);return null===b[0]&&null===b[1]?null:null===b[0]?B.cloneGeometry(b[1]):null===b[1]?B.cloneGeometry(b[0]):m.symmetricDifference(b[0],b[1])})};q.clip=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);
r.pcCheck(b,2,2);if(!(b[1]instanceof k)&&null!==b[1])throw Error("Illegal Argument");if(null===b[0])return null;if(!(b[0]instanceof e))throw Error("Illegal Argument");return null===b[1]?null:m.clip(b[0],b[1])})};q.cut=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);r.pcCheck(b,2,2);if(!(b[1]instanceof t)&&null!==b[1])throw Error("Illegal Argument");if(null===b[0])return[];if(!(b[0]instanceof e))throw Error("Illegal Argument");return null===b[1]?[B.cloneGeometry(b[0])]:
m.cut(b[0],b[1])})};q.area=function(A,G){return E(A,G,function(c,p,b){r.pcCheck(b,1,2);b=r.autoCastFeatureToGeometry(b);if(null===b[0])return 0;if(r.isArray(b[0])||r.isImmutableArray(b[0]))return c=r.autoCastArrayOfPointsToPolygon(b[0],A.spatialReference),null===c?0:m.planarArea(c,B.convertSquareUnitsToCode(r.defaultUndefined(b[1],-1)));if(!(b[0]instanceof e))throw Error("Illegal Argument");return m.planarArea(b[0],B.convertSquareUnitsToCode(r.defaultUndefined(b[1],-1)))})};q.areageodetic=function(A,
G){return E(A,G,function(c,p,b){r.pcCheck(b,1,2);b=r.autoCastFeatureToGeometry(b);if(null===b[0])return 0;if(r.isArray(b[0])||r.isImmutableArray(b[0]))return c=r.autoCastArrayOfPointsToPolygon(b[0],A.spatialReference),null===c?0:m.geodesicArea(c,B.convertSquareUnitsToCode(r.defaultUndefined(b[1],-1)));if(!(b[0]instanceof e))throw Error("Illegal Argument");return m.geodesicArea(b[0],B.convertSquareUnitsToCode(r.defaultUndefined(b[1],-1)))})};q.length=function(A,G){return E(A,G,function(c,p,b){r.pcCheck(b,
1,2);b=r.autoCastFeatureToGeometry(b);if(null===b[0])return 0;if(r.isArray(b[0])||r.isImmutableArray(b[0]))return c=r.autoCastArrayOfPointsToPolyline(b[0],A.spatialReference),null===c?0:m.planarLength(c,B.convertLinearUnitsToCode(r.defaultUndefined(b[1],-1)));if(!(b[0]instanceof e))throw Error("Illegal Argument");return m.planarLength(b[0],B.convertLinearUnitsToCode(r.defaultUndefined(b[1],-1)))})};q.lengthgeodetic=function(A,G){return E(A,G,function(c,p,b){r.pcCheck(b,1,2);b=r.autoCastFeatureToGeometry(b);
if(null===b[0])return 0;if(r.isArray(b[0])||r.isImmutableArray(b[0]))return c=r.autoCastArrayOfPointsToPolyline(b[0],A.spatialReference),null===c?0:m.geodesicLength(c,B.convertLinearUnitsToCode(r.defaultUndefined(b[1],-1)));if(!(b[0]instanceof e))throw Error("Illegal Argument");return m.geodesicLength(b[0],B.convertLinearUnitsToCode(r.defaultUndefined(b[1],-1)))})};q.distance=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);r.pcCheck(b,2,3);c=b[0];if(r.isArray(b[0])||r.isImmutableArray(b[0]))c=
r.autoCastArrayOfPointsToMultiPoint(b[0],A.spatialReference);p=b[1];if(r.isArray(b[1])||r.isImmutableArray(b[1]))p=r.autoCastArrayOfPointsToMultiPoint(b[1],A.spatialReference);if(!(c instanceof e))throw Error("Illegal Argument");if(!(p instanceof e))throw Error("Illegal Argument");return m.distance(c,p,B.convertLinearUnitsToCode(r.defaultUndefined(b[2],-1)))})};q.distancegeodetic=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);r.pcCheck(b,2,3);c=b[0];p=b[1];if(!(c instanceof
d))throw Error("Illegal Argument");if(!(p instanceof d))throw Error("Illegal Argument");const D=new t({paths:[],spatialReference:c.spatialReference});D.addPath([c,p]);return m.geodesicLength(D,B.convertLinearUnitsToCode(r.defaultUndefined(b[2],-1)))})};q.densify=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);r.pcCheck(b,2,3);if(null===b[0])return null;if(!(b[0]instanceof e))throw Error("Illegal Argument");c=r.toNumber(b[1]);if(isNaN(c))throw Error("Illegal Argument");
if(0>=c)throw Error("Illegal Argument");return b[0]instanceof h||b[0]instanceof t?m.densify(b[0],c,B.convertLinearUnitsToCode(r.defaultUndefined(b[2],-1))):b[0]instanceof k?m.densify(f(b[0]),c,B.convertLinearUnitsToCode(r.defaultUndefined(b[2],-1))):b[0]})};q.densifygeodetic=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);r.pcCheck(b,2,3);if(null===b[0])return null;if(!(b[0]instanceof e))throw Error("Illegal Argument");c=r.toNumber(b[1]);if(isNaN(c))throw Error("Illegal Argument");
if(0>=c)throw Error("Illegal Argument");return b[0]instanceof h||b[0]instanceof t?m.geodesicDensify(b[0],c,B.convertLinearUnitsToCode(r.defaultUndefined(b[2],-1))):b[0]instanceof k?m.geodesicDensify(f(b[0]),c,B.convertLinearUnitsToCode(r.defaultUndefined(b[2],-1))):b[0]})};q.generalize=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);r.pcCheck(b,2,4);if(null===b[0])return null;if(!(b[0]instanceof e))throw Error("Illegal Argument");c=r.toNumber(b[1]);if(isNaN(c))throw Error("Illegal Argument");
return m.generalize(b[0],c,r.toBoolean(r.defaultUndefined(b[2],!0)),B.convertLinearUnitsToCode(r.defaultUndefined(b[3],-1)))})};q.buffer=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);r.pcCheck(b,2,3);if(null===b[0])return null;if(!(b[0]instanceof e))throw Error("Illegal Argument");c=r.toNumber(b[1]);if(isNaN(c))throw Error("Illegal Argument");return 0===c?B.cloneGeometry(b[0]):m.buffer(b[0],c,B.convertLinearUnitsToCode(r.defaultUndefined(b[2],-1)))})};q.buffergeodetic=
function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);r.pcCheck(b,2,3);if(null===b[0])return null;if(!(b[0]instanceof e))throw Error("Illegal Argument");c=r.toNumber(b[1]);if(isNaN(c))throw Error("Illegal Argument");return 0===c?B.cloneGeometry(b[0]):m.geodesicBuffer(b[0],c,B.convertLinearUnitsToCode(r.defaultUndefined(b[2],-1)))})};q.offset=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);r.pcCheck(b,2,6);if(null===b[0])return null;if(!(b[0]instanceof
h||b[0]instanceof t))throw Error("Illegal Argument");c=r.toNumber(b[1]);if(isNaN(c))throw Error("Illegal Argument");p=r.toNumber(r.defaultUndefined(b[4],10));if(isNaN(p))throw Error("Illegal Argument");const D=r.toNumber(r.defaultUndefined(b[5],0));if(isNaN(D))throw Error("Illegal Argument");return m.offset(b[0],c,B.convertLinearUnitsToCode(r.defaultUndefined(b[2],-1)),r.toString(r.defaultUndefined(b[3],"round")).toLowerCase(),p,D)})};q.rotate=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);
r.pcCheck(b,2,3);c=b[0];if(null===c)return null;if(!(c instanceof e))throw Error("Illegal Argument");c instanceof k&&(c=h.fromExtent(c));p=r.toNumber(b[1]);if(isNaN(p))throw Error("Illegal Argument");b=r.defaultUndefined(b[2],null);if(null===b)return m.rotate(c,p);if(b instanceof d)return m.rotate(c,p,b);throw Error("Illegal Argument");})};q.centroid=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);r.pcCheck(b,1,1);if(null===b[0])return null;c=b[0];if(r.isArray(b[0])||r.isImmutableArray(b[0]))c=
r.autoCastArrayOfPointsToMultiPoint(b[0],A.spatialReference);if(null===c)return null;if(!(c instanceof e))throw Error("Illegal Argument");return c instanceof d?r.fixSpatialReference(B.cloneGeometry(b[0]),A.spatialReference):c instanceof h?c.centroid:c instanceof t?l.centroidPolyline(c):c instanceof g?l.centroidMultiPoint(c):c instanceof k?c.center:null})};q.multiparttosinglepart=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);r.pcCheck(b,1,1);p=[];if(null===b[0])return null;
if(!(b[0]instanceof e))throw Error("Illegal Argument");if(b[0]instanceof d||b[0]instanceof k)return[r.fixSpatialReference(B.cloneGeometry(b[0]),A.spatialReference)];c=m.simplify(b[0]);if(c instanceof h){b=[];p=[];for(var D=0;D<c.rings.length;D++)if(c.isClockwise(c.rings[D])){const C=a.fromJSON({rings:[c.rings[D]],hasZ:!0===c.hasZ,hasM:!0===c.hasM,spatialReference:c.spatialReference.toJSON()});b.push(C)}else p.push({ring:c.rings[D],pt:c.getPoint(D,0)});for(c=0;c<p.length;c++)for(D=0;D<b.length;D++)if(b[D].contains(p[c].pt)){b[D].addRing(p[c].ring);
break}return b}if(c instanceof t){b=[];for(p=0;p<c.paths.length;p++)D=a.fromJSON({paths:[c.paths[p]],hasZ:!0===c.hasZ,hasM:!0===c.hasM,spatialReference:c.spatialReference.toJSON()}),b.push(D);return b}if(b[0]instanceof g){c=r.fixSpatialReference(B.cloneGeometry(b[0]),A.spatialReference);for(b=0;b<c.points.length;b++)p.push(c.getPoint(b));return p}return null})};q.issimple=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);r.pcCheck(b,1,1);if(null===b[0])return!0;if(!(b[0]instanceof
e))throw Error("Illegal Argument");return m.isSimple(b[0])})};q.simplify=function(A,G){return E(A,G,function(c,p,b){b=r.autoCastFeatureToGeometry(b);r.pcCheck(b,1,1);if(null===b[0])return null;if(!(b[0]instanceof e))throw Error("Illegal Argument");return m.simplify(b[0])})}};w.setGeometryEngine=function(q){m=q};Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/kernel":function(){define(["exports","../geometry/Extent"],function(w,v){w.cloneGeometry=function(B){if(null===B)return null;
const r=B.clone();void 0!==B.cache._geVersion&&(r.cache._geVersion=B.cache._geVersion);return r};w.convertLinearUnitsToCode=function(B){if(void 0===B)return null;if("number"===typeof B||"number"===typeof B)return B;switch(B.toLowerCase()){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":case "square-meter":case "square-meters":return 9001;case "miles":case "mile":case "squaremile":case "squaremiles":case "square-miles":case "square-mile":return 9035;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "square-kilometers":case "square-kilometer":case "km":return 9036;
case "yard":case "yd":case "yards":case "square-yards":case "square-yard":case "squareyards":case "squareyard":return 9096;case "feet":case "ft":case "foot":case "square-feet":case "square-foot":case "squarefeet":case "squarefoot":return 9002}return null};w.convertSquareUnitsToCode=function(B){if(void 0===B)return null;if("number"===typeof B)return B;switch(B.toLowerCase()){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":case "square-meter":case "square-meters":return 109404;
case "miles":case "mile":case "squaremile":case "squaremiles":case "square-miles":case "square-mile":return 109413;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "square-kilometers":case "square-kilometer":case "km":return 109414;case "acres":case "acre":case "ac":return 109402;case "hectares":case "hectare":case "ha":return 109401;case "yard":case "yd":case "yards":case "square-yards":case "square-yard":case "squareyards":case "squareyard":return 109442;case "feet":case "ft":case "foot":case "square-feet":case "square-foot":case "squarefeet":case "squarefoot":return 109405}return null};
w.sameGeomType=function(B,r){return B===r||"point"===B&&"esriGeometryPoint"===r||"polyline"===B&&"esriGeometryPolyline"===r||"polygon"===B&&"esriGeometryPolygon"===r||"extent"===B&&"esriGeometryEnvelope"===r||"multipoint"===B&&"esriGeometryMultipoint"===r||"point"===r&&"esriGeometryPoint"===B||"polyline"===r&&"esriGeometryPolyline"===B||"polygon"===r&&"esriGeometryPolygon"===B||"extent"===r&&"esriGeometryEnvelope"===B||"multipoint"===r&&"esriGeometryMultipoint"===B?!0:!1};w.shapeExtent=function(B){if(null===
B)return null;switch(B.type){case "polygon":case "multipoint":case "polyline":return B.extent;case "point":return new v({xmin:B.x,ymin:B.y,xmax:B.x,ymax:B.y,spatialReference:B.spatialReference});case "extent":return B}return null};Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/functions/maths":function(){define(["exports","../../chunks/languageUtils","../../core/number"],function(w,v,B){function r(l,k,e){if("undefined"===typeof e||0===+e)return Math[l](k);k=+k;e=+e;if(isNaN(k)||
"number"!==typeof e||0!==e%1)return NaN;k=k.toString().split("e");k=Math[l](+(k[0]+"e"+(k[1]?+k[1]-e:-e)));k=k.toString().split("e");return+(k[0]+"e"+(k[1]?+k[1]+e:e))}w.registerFunctions=function(l,k){function e(g,d,h){g=v.toNumber(g);return isNaN(g)?g:isNaN(d)||isNaN(h)||d>h?NaN:g<d?d:g>h?h:g}l.number=function(g,d){return k(g,d,function(h,t,a){v.pcCheck(a,1,2);h=a[0];return v.isNumber(h)?h:null===h?0:v.isDate(h)||v.isBoolean(h)?Number(h):v.isArray(h)?NaN:""===h||void 0===h?Number(h):v.isString(h)?
void 0!==a[1]?(a=v.multiReplace(a[1],"\u2030",""),a=v.multiReplace(a,"\u00a4",""),B.parse(h,{pattern:a})):Number(h.trim()):Number(h)})};l.abs=function(g,d){return k(g,d,function(h,t,a){v.pcCheck(a,1,1);return Math.abs(v.toNumber(a[0]))})};l.acos=function(g,d){return k(g,d,function(h,t,a){v.pcCheck(a,1,1);return Math.acos(v.toNumber(a[0]))})};l.asin=function(g,d){return k(g,d,function(h,t,a){v.pcCheck(a,1,1);return Math.asin(v.toNumber(a[0]))})};l.atan=function(g,d){return k(g,d,function(h,t,a){v.pcCheck(a,
1,1);return Math.atan(v.toNumber(a[0]))})};l.atan2=function(g,d){return k(g,d,function(h,t,a){v.pcCheck(a,2,2);return Math.atan2(v.toNumber(a[0]),v.toNumber(a[1]))})};l.ceil=function(g,d){return k(g,d,function(h,t,a){v.pcCheck(a,1,2);return 2===a.length?(h=v.toNumber(a[1]),isNaN(h)&&(h=0),r("ceil",v.toNumber(a[0]),-1*h)):Math.ceil(v.toNumber(a[0]))})};l.round=function(g,d){return k(g,d,function(h,t,a){v.pcCheck(a,1,2);return 2===a.length?(h=v.toNumber(a[1]),isNaN(h)&&(h=0),r("round",v.toNumber(a[0]),
-1*h)):Math.round(v.toNumber(a[0]))})};l.floor=function(g,d){return k(g,d,function(h,t,a){v.pcCheck(a,1,2);return 2===a.length?(h=v.toNumber(a[1]),isNaN(h)&&(h=0),r("floor",v.toNumber(a[0]),-1*h)):Math.floor(v.toNumber(a[0]))})};l.cos=function(g,d){return k(g,d,function(h,t,a){v.pcCheck(a,1,1);return Math.cos(v.toNumber(a[0]))})};l.isnan=function(g,d){return k(g,d,function(h,t,a){v.pcCheck(a,1,1);return"number"===typeof a[0]&&isNaN(a[0])})};l.exp=function(g,d){return k(g,d,function(h,t,a){v.pcCheck(a,
1,1);return Math.exp(v.toNumber(a[0]))})};l.log=function(g,d){return k(g,d,function(h,t,a){v.pcCheck(a,1,1);return Math.log(v.toNumber(a[0]))})};l.pow=function(g,d){return k(g,d,function(h,t,a){v.pcCheck(a,2,2);return v.toNumber(a[0])**v.toNumber(a[1])})};l.random=function(g,d){return k(g,d,function(h,t,a){v.pcCheck(a,0,0);return Math.random()})};l.sin=function(g,d){return k(g,d,function(h,t,a){v.pcCheck(a,1,1);return Math.sin(v.toNumber(a[0]))})};l.sqrt=function(g,d){return k(g,d,function(h,t,a){v.pcCheck(a,
1,1);return Math.sqrt(v.toNumber(a[0]))})};l.tan=function(g,d){return k(g,d,function(h,t,a){v.pcCheck(a,1,1);return Math.tan(v.toNumber(a[0]))})};l.defaultvalue=function(g,d){return k(g,d,function(h,t,a){v.pcCheck(a,2,2);return null===a[0]||""===a[0]||void 0===a[0]?a[1]:a[0]})};l.isempty=function(g,d){return k(g,d,function(h,t,a){v.pcCheck(a,1,1);return null===a[0]||""===a[0]||void 0===a[0]?!0:!1})};l["boolean"]=function(g,d){return k(g,d,function(h,t,a){v.pcCheck(a,1,1);return v.toBoolean(a[0])})};
l.constrain=function(g,d){return k(g,d,function(h,t,a){v.pcCheck(a,3,3);h=v.toNumber(a[1]);t=v.toNumber(a[2]);if(v.isArray(a[0])){var f=[];for(var m of a[0])f.push(e(m,h,t));return f}if(v.isImmutableArray(a[0])){m=[];for(f=0;f<a[0].length();f++)m.push(e(a[0].get(f),h,t));return m}return e(a[0],h,t)})}};Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/functions/stats":function(){define(["exports","../../chunks/languageUtils","./fieldStats"],function(w,v,B){function r(l,k,e,g){if(1===
g.length){if(v.isArray(g[0]))return B.calculateStat(l,g[0],-1);if(v.isImmutableArray(g[0]))return B.calculateStat(l,g[0].toArray(),-1)}return B.calculateStat(l,g,-1)}w.registerFunctions=function(l,k){l.stdev=function(e,g){return k(e,g,function(d,h,t){return r("stdev",d,h,t)})};l.variance=function(e,g){return k(e,g,function(d,h,t){return r("variance",d,h,t)})};l.average=function(e,g){return k(e,g,function(d,h,t){return r("mean",d,h,t)})};l.mean=function(e,g){return k(e,g,function(d,h,t){return r("mean",
d,h,t)})};l.sum=function(e,g){return k(e,g,function(d,h,t){return r("sum",d,h,t)})};l.min=function(e,g){return k(e,g,function(d,h,t){return r("min",d,h,t)})};l.max=function(e,g){return k(e,g,function(d,h,t){return r("max",d,h,t)})};l.distinct=function(e,g){return k(e,g,function(d,h,t){return r("distinct",d,h,t)})};l.count=function(e,g){return k(e,g,function(d,h,t){v.pcCheck(t,1,1);if(v.isArray(t[0])||v.isString(t[0]))return t[0].length;if(v.isImmutableArray(t[0]))return t[0].length();throw Error("Invalid Parameters for Count");
})}};Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/functions/fieldStats":function(){define(["exports","../../chunks/languageUtils"],function(w,v){function B(l){let k=0;for(let e=0;e<l.length;e++)k+=l[e];return k/l.length}function r(l){const k=B(l);let e=0;for(let g=0;g<l.length;g++)e+=(k-l[g])**2;return e/l.length}w.calculateStat=function(l,k,e=1E3){switch(l.toLowerCase()){case "distinct":a:{l=[];const g={},d=[];for(let h=0;h<k.length;h++){if(void 0!==k[h]&&null!==k[h]&&k[h]!==
v.voidOperation){const t=k[h];if(v.isNumber(t)||v.isString(t))void 0===g[t]&&(l.push(t),g[t]=1);else{let a=!1;for(let f=0;f<d.length;f++)!0===v.equalityTest(d[f],t)&&(a=!0);!1===a&&(d.push(t),l.push(t))}}if(l.length>=e&&-1!==e){k=l;break a}}k=l}return k;case "avg":case "mean":return B(v.toNumberArray(k));case "min":return Math.min.apply(Math,v.toNumberArray(k));case "sum":k=v.toNumberArray(k);e=0;for(l=0;l<k.length;l++)e+=k[l];return k=e;case "max":return Math.max.apply(Math,v.toNumberArray(k));case "stdev":case "stddev":return Math.sqrt(r(v.toNumberArray(k)));
case "var":case "variance":return r(v.toNumberArray(k));case "count":return k.length}return 0};w.decodeStatType=function(l){switch(l.toLowerCase()){case "distinct":return"distinct";case "avg":case "mean":return"avg";case "min":return"min";case "sum":return"sum";case "max":return"max";case "stdev":case "stddev":return"stddev";case "var":case "variance":return"var";case "count":return"count"}return""};Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/functions/string":function(){define("exports ../ArcadePortal ../Attachment ../Dictionary ../Feature ../../chunks/languageUtils ../featureset/support/shared ./convertdirection ./hash ../../geometry/Extent ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../geometry/SpatialReference".split(" "),
function(w,v,B,r,l,k,e,g,d,h,t,a,f,m,q){function E(A,G){if(A.x===G.x&&A.y===G.y){if(A.hasZ){if(A.z!==G.z)return!1}else if(G.hasZ)return!1;if(A.hasM){if(A.m!==G.m)return!1}else if(G.hasM)return!1;return!0}return!1}function J(A,G,c){if(null===A)G.updateUint8Array([0,139]);else if(k.isArray(A)){G.updateUint8Array([61]);if(c.map.has(A))A=c.map.get(A),G.updateIntArray([A^61237541]);else{c.map.set(A,c.currentLength++);for(var p of A)J(p,G,c);c.map.delete(A);c.currentLength--}G.updateUint8Array([199])}else if(k.isImmutableArray(A)){G.updateUint8Array([61]);
if(c.map.has(A))A=c.map.get(A),G.updateIntArray([A^61237541]);else{c.map.set(A,c.currentLength++);for(var b of A.toArray())J(b,G,c);c.map.delete(A);c.currentLength--}G.updateUint8Array([199])}else if(k.isDate(A))G.updateIntArray([A.getTime()]),G.updateUint8Array([241]);else if(k.isString(A))G.updateIntArray([A.length]),G.updateWithString(A),G.updateUint8Array([41]);else if(k.isBoolean(A))G.updateUint8Array([!0===A?1:0,113]);else if(k.isNumber(A))G.updateFloatArray([A]),G.updateUint8Array([173]);else{if(A instanceof
B)throw Error("Type not supported in Hash");if(A instanceof v)throw Error("Type not supported in Hash");if(A instanceof r){G.updateUint8Array([223]);if(c.map.has(A))A=c.map.get(A),G.updateIntArray([A^61237541]);else{c.map.set(A,c.currentLength++);for(var D of A.keys())G.updateIntArray([D.length]),G.updateWithString(D),G.updateUint8Array([251]),p=A.field(D),J(p,G,c),G.updateUint8Array([239]);c.map.delete(A);c.currentLength--}G.updateUint8Array([73])}else{if(A instanceof l)throw Error("Type not supported in Hash");
if(A instanceof a)G.updateIntArray([3833836621]),G.updateIntArray([0]),G.updateFloatArray([A.x]),G.updateIntArray([1]),G.updateFloatArray([A.y]),A.hasZ&&(G.updateIntArray([2]),G.updateFloatArray([A.z])),A.hasM&&(G.updateIntArray([3]),G.updateFloatArray([A.m])),G.updateIntArray([3765347959]),J(A.spatialReference.wkid,G,c);else if(A instanceof f){G.updateIntArray([1266616829]);for(D=0;D<A.rings.length;D++){b=A.rings[D];p=[];var C=null;let R=null;for(let Y=0;Y<b.length;Y++){const U=A.getPoint(D,Y);if(0===
Y)C=U;else if(E(R,U))continue;R=U;Y===b.length-1&&E(C,U)||p.push(U)}G.updateIntArray([1397116793,p.length]);for(b=0;b<p.length;b++)C=p[b],G.updateIntArray([3962308117,b]),J(C,G,c),G.updateIntArray([2716288009]);G.updateIntArray([2278822459])}G.updateIntArray([3878477243]);J(A.spatialReference.wkid,G,c)}else if(A instanceof m){G.updateIntArray([4106883559]);for(D=0;D<A.paths.length;D++){p=A.paths[D];G.updateIntArray([1397116793,p.length]);for(b=0;b<p.length;b++)G.updateIntArray([3962308117,b]),J(A.getPoint(D,
b),G,c),G.updateIntArray([2716288009]);G.updateIntArray([2278822459])}G.updateIntArray([2568784753]);J(A.spatialReference.wkid,G,c)}else if(A instanceof t){G.updateIntArray([588535921,A.points.length]);for(D=0;D<A.points.length;D++)p=A.getPoint(D),G.updateIntArray([D]),J(p,G,c);G.updateIntArray([1700171621]);J(A.spatialReference.wkid,G,c)}else if(A instanceof h)G.updateIntArray([3483648373]),G.updateIntArray([0]),G.updateFloatArray([A.xmax]),G.updateIntArray([1]),G.updateFloatArray([A.xmin]),G.updateIntArray([2]),
G.updateFloatArray([A.ymax]),G.updateIntArray([3]),G.updateFloatArray([A.ymin]),A.hasZ&&(G.updateIntArray([4]),G.updateFloatArray([A.zmax]),G.updateIntArray([5]),G.updateFloatArray([A.zmin])),A.hasM&&(G.updateIntArray([6]),G.updateFloatArray([A.mmax]),G.updateIntArray([7]),G.updateFloatArray([A.mmin])),G.updateIntArray([3622027469]),J(A.spatialReference.wkid,G,c);else if(A instanceof q)G.updateIntArray([14]),void 0!==A.wkid&&null!==A.wkid&&G.updateIntArray([A.wkid]),A.wkt&&G.updateWithString(A.wkt);
else{if(k.isFunctionParameter(A))throw Error("Type not supported in Hash");if(k.isFeatureSet(A))throw Error("Type not supported in Hash");k.isFeatureSetCollection(A);throw Error("Type not supported in Hash");}}}}w.registerFunctions=function(A,G){A.portal=function(c,p){return G(c,p,function(b,D,C){k.pcCheck(C,1,1);return new v(k.toString(C[0]))})};A.trim=function(c,p){return G(c,p,function(b,D,C){k.pcCheck(C,1,1);return k.toString(C[0]).trim()})};A.tohex=function(c,p){return G(c,p,function(b,D,C){k.pcCheck(C,
1,1);b=k.toNumber(C[0]);return isNaN(b)?b:b.toString(16)})};A.upper=function(c,p){return G(c,p,function(b,D,C){k.pcCheck(C,1,1);return k.toString(C[0]).toUpperCase()})};A.proper=function(c,p){return G(c,p,function(b,D,C){k.pcCheck(C,1,2);b=1;2===C.length&&"firstword"===k.toString(C[1]).toLowerCase()&&(b=2);D=/\s/;C=k.toString(C[0]);let R="",Y=!0;for(let U=0;U<C.length;U++){let ia=C[U];D.test(ia)?1===b&&(Y=!0):ia.toUpperCase()!==ia.toLowerCase()&&(Y?(ia=ia.toUpperCase(),Y=!1):ia=ia.toLowerCase());
R+=ia}return R})};A.lower=function(c,p){return G(c,p,function(b,D,C){k.pcCheck(C,1,1);return k.toString(C[0]).toLowerCase()})};A.guid=function(c,p){return G(c,p,function(b,D,C){k.pcCheck(C,0,1);if(0<C.length)switch(k.toString(C[0]).toLowerCase()){case "digits":return k.generateUUID().replace("-","").replace("-","").replace("-","").replace("-","");case "digits-hyphen":return k.generateUUID();case "digits-hyphen-parentheses":return"("+k.generateUUID()+")"}return"{"+k.generateUUID()+"}"})};A.console=
function(c,p){return G(c,p,function(b,D,C){0!==C.length&&(1===C.length?c.console(k.toString(C[0])):c.console(k.toString(C)));return k.voidOperation})};A.mid=function(c,p){return G(c,p,function(b,D,C){k.pcCheck(C,2,3);b=k.toNumber(C[1]);if(isNaN(b))return"";0>b&&(b=0);if(2===C.length)return k.toString(C[0]).substr(b);D=k.toNumber(C[2]);if(isNaN(D))return"";0>D&&(D=0);return k.toString(C[0]).substr(b,D)})};A.find=function(c,p){return G(c,p,function(b,D,C){k.pcCheck(C,2,3);b=0;if(2<C.length){b=k.toNumber(k.defaultUndefined(C[2],
0));if(isNaN(b))return-1;0>b&&(b=0)}return k.toString(C[1]).indexOf(k.toString(C[0]),b)})};A.left=function(c,p){return G(c,p,function(b,D,C){k.pcCheck(C,2,2);b=k.toNumber(C[1]);if(isNaN(b))return"";0>b&&(b=0);return k.toString(C[0]).substr(0,b)})};A.right=function(c,p){return G(c,p,function(b,D,C){k.pcCheck(C,2,2);b=k.toNumber(C[1]);if(isNaN(b))return"";0>b&&(b=0);return k.toString(C[0]).substr(-1*b,b)})};A.split=function(c,p){return G(c,p,function(b,D,C){k.pcCheck(C,2,4);b=k.toNumber(k.defaultUndefined(C[2],
-1));D=k.toBoolean(k.defaultUndefined(C[3],!1));-1===b||null===b||!0===D?C=k.toString(C[0]).split(k.toString(C[1])):(isNaN(b)&&(b=-1),-1>b&&(b=-1),C=k.toString(C[0]).split(k.toString(C[1]),b));if(!1===D)return C;D=[];for(let R=0;R<C.length&&!(-1!==b&&D.length>=b);R++)""!==C[R]&&void 0!==C[R]&&D.push(C[R]);return D})};A.text=function(c,p){return G(c,p,function(b,D,C){k.pcCheck(C,1,2);return k.toStringExplicit(C[0],C[1])})};A.concatenate=function(c,p){return G(c,p,function(b,D,C){b=[];if(1>C.length)return"";
if(k.isArray(C[0])){D=k.defaultUndefined(C[2],"");for(var R=0;R<C[0].length;R++)b[R]=k.toStringExplicit(C[0][R],D);return 1<C.length?b.join(C[1]):b.join("")}if(k.isImmutableArray(C[0])){D=k.defaultUndefined(C[2],"");for(R=0;R<C[0].length();R++)b[R]=k.toStringExplicit(C[0].get(R),D);return 1<C.length?b.join(C[1]):b.join("")}for(D=0;D<C.length;D++)b[D]=k.toStringExplicit(C[D]);return b.join("")})};A.reverse=function(c,p){return G(c,p,function(b,D,C){k.pcCheck(C,1,1);if(k.isArray(C[0]))return b=C[0].slice(0),
b.reverse(),b;if(k.isImmutableArray(C[0]))return b=C[0].toArray().slice(0),b.reverse(),b;throw Error("Invalid Parameter");})};A.replace=function(c,p){return G(c,p,function(b,D,C){k.pcCheck(C,3,4);b=k.toString(C[0]);D=k.toString(C[1]);const R=k.toString(C[2]);return(4===C.length?k.toBoolean(C[3]):1)?k.multiReplace(b,D,R):b.replace(D,R)})};A.schema=function(c,p){return G(c,p,function(b,D,C){if(C[0]instanceof l)return(b=C[0].schema())?r.convertObjectToArcadeDictionary(b):null;throw Error("Invalid Parameter");
})};A.subtypes=function(c,p){return G(c,p,function(b,D,C){k.pcCheck(C,1,1);if(C[0]instanceof l)return(b=C[0].subtypes())?r.convertObjectToArcadeDictionary(b):null;throw Error("Invalid Parameter");})};A.subtypecode=function(c,p){return G(c,p,function(b,D,C){k.pcCheck(C,1,1);if(C[0]instanceof l){b=C[0].subtypes();if(!b)return null;if(b.subtypeField&&C[0].hasField(b.subtypeField)){C=C[0].field(b.subtypeField);for(const R of b.subtypes)if(R.code===C)return R.code}return null}throw Error("Invalid Parameter");
})};A.subtypename=function(c,p){return G(c,p,function(b,D,C){k.pcCheck(C,1,1);if(C[0]instanceof l){b=C[0].subtypes();if(!b)return"";if(b.subtypeField&&C[0].hasField(b.subtypeField)){C=C[0].field(b.subtypeField);for(const R of b.subtypes)if(R.code===C)return R.name}return""}throw Error("Invalid Parameter");})};A.gdbversion=function(c,p){return G(c,p,function(b,D,C){k.pcCheck(C,1,1);if(C[0]instanceof l)return C[0].gdbVersion();throw Error("Invalid Parameter");})};A.domain=function(c,p){return G(c,p,
function(b,D,C){k.pcCheck(C,2,3);if(C[0]instanceof l)return(b=C[0].fullDomain(k.toString(C[1]),void 0===C[2]?void 0:k.toNumber(C[2])))&&b.domain?"coded-value"===b.domain.type||"codedValue"===b.domain.type?r.convertObjectToArcadeDictionary({type:"codedValue",name:b.domain.name,dataType:e.layerFieldEsriConstants[b.field.type],codedValues:b.domain.codedValues.map(R=>({name:R.name,code:R.code}))}):r.convertObjectToArcadeDictionary({type:"range",name:b.domain.name,dataType:e.layerFieldEsriConstants[b.field.type],
min:b.domain.min,max:b.domain.max}):null;throw Error("Invalid Parameter");})};A.domainname=function(c,p){return G(c,p,function(b,D,C){k.pcCheck(C,2,4);if(C[0]instanceof l)return C[0].domainValueLookup(k.toString(C[1]),C[2],void 0===C[3]?void 0:k.toNumber(C[3]));throw Error("Invalid Parameter");})};A.domaincode=function(c,p){return G(c,p,function(b,D,C){k.pcCheck(C,2,4);if(C[0]instanceof l)return C[0].domainCodeLookup(k.toString(C[1]),C[2],void 0===C[3]?void 0:k.toNumber(C[3]));throw Error("Invalid Parameter");
})};A.urlencode=function(c,p){return G(c,p,function(b,D,C){k.pcCheck(C,1,1);if(null===C[0])return"";if(C[0]instanceof r){b="";for(const R of C[0].keys())D=C[0].field(R),""!==b&&(b+="\x26"),b=null===D?b+(encodeURIComponent(R)+"\x3d"):b+(encodeURIComponent(R)+"\x3d"+encodeURIComponent(D));return b}return encodeURIComponent(k.toString(C[0]))})};A.hash=function(c,p){return G(c,p,function(b,D,C){k.pcCheck(C,1,1);b=new d.XXH(0);J(C[0],b,{map:new Map,currentLength:0});return b.digest()})};A.convertdirection=
function(c,p){return G(c,p,function(b,D,C){k.pcCheck(C,3,3);return g.convertDirection(C[0],C[1],C[2])})}};Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/functions/convertdirection":function(){define(["exports","../Dictionary","../../chunks/languageUtils"],function(w,v,B){function r(M){if(!1===B.isString(M))throw Error("Invalid Parameter");return M}function l(M,T){T=10**T;return Math.round(M*T)/T}function k(M){const T=parseFloat(M.toString().replace(Math.trunc(M).toString(),"0"))*
Math.sign(M);return 0>M?{fraction:T,integer:Math.ceil(M)}:{fraction:T,integer:Math.floor(M)}}function e(M,T){switch(M){case 0:return"SHORT"===T?"N":"North";case 1:return"SHORT"===T?"E":"East";case 2:return"SHORT"===T?"S":"South";case 3:return"SHORT"===T?"W":"West"}}function g(M,T,N){for(;M.length<N;)M=T+M;return M}function d(M,T){return M-Math.floor(M/T)*T}function h(M){switch(M){case 6:case 1:return 360;case 4:return aa;case 5:return 400;case 2:return 1296E3;case 7:return 60;case 8:return 60;default:throw Error("Unnexpected evaluations");
}}function t(M){switch(M.toUpperCase().trim()){case "NORTH":case "NORTHAZIMUTH":case "NORTH AZIMUTH":return 1;case "POLAR":return 2;case "QUADRANT":return 3;case "SOUTH":case "SOUTHAZIMUTH":case "SOUTH AZIMUTH":return 4}throw Error("Unsupported direction type");}function a(M){switch(M.toUpperCase().trim()){case "D":case "DD":case "DECIMALDEGREE":case "DECIMAL DEGREE":case "DEGREE":case "DECIMALDEGREES":case "DECIMAL DEGREES":case "DEGREES":return 1;case "DMS":case "DEGREESMINUTESSECONDS":case "DEGREES MINUTES SECONDS":return 3;
case "R":case "RAD":case "RADS":case "RADIAN":case "RADIANS":return 4;case "G":case "GON":case "GONS":case "GRAD":case "GRADS":case "GRADIAN":case "GRADIANS":return 5}throw Error("Unsupported units");}function f(M,T,N){let P=null;switch(T){case 1:P=U(M,3600);break;case 2:P=M;break;case 5:P=U(M,3240);break;case 4:P=U(M,ya);break;default:throw Error("Unnexpected evaluation");}switch(N){case 1:return ia(P,3600);case 2:return P;case 5:return ia(P,3240);case 4:return P/ya;default:throw Error("Unnexpected evaluation");
}}function m(M){switch(M){case 1:case 6:case 3:return 1;case 5:return 5;case 7:return 7;case 4:return 4;case 2:case 8:return 2}}function q(M){switch(B.toNumber(M)){case 1:return{first:0,second:1};case 2:return{first:2,second:1};case 3:return{first:2,second:3};case 4:return{first:0,second:3}}return null}function E(M){switch(M.toUpperCase().trim()){case "N":case "NORTH":return 0;case "E":case "EAST":return 1;case "S":case "SOUTH":return 2;case "W":case "WEST":return 3}return null}function J(M){M=parseFloat(M);
if(B.isNumber(M)){if(isNaN(M))throw Error("Invalid conversion");return M}throw Error("Invalid conversion");}function A(M,T,N){const P=3===N;let W=null;var ba=null;let oa=0;var ha=0;ha=0;if(P){if(2>M.length)throw Error("Conversion Error");ha=1;(ba=q(B.toString(M[M.length-1])))?(W=ba.first,ba=ba.second):(oa=1,W=E(B.toString(M[0])),ba=E(B.toString(M[M.length-1])));if(null===W||null===ba)throw Error("Invalid Conversion");}switch(T){case 1:case 4:case 5:if(0===M.length)throw Error("Invalid Conversion");
return P?fa.createFromAngleMeridianAndDirection(ua.createFromAngleAndUnits(J(M[oa]),m(T)),W,ba):fa.createFromAngleAndDirection(ua.createFromAngleAndUnits(J(M[oa]),m(T)),N);case 3:ha=M.length-ha-oa;if(3===ha)return M=ua.createFromDegreesMinutesSeconds(J(M[oa]),J(M[oa+1]),J(M[oa+2])),P?fa.createFromAngleMeridianAndDirection(M,W,ba):fa.createFromAngleAndDirection(M,N);if(1===ha)return M=J(M[oa]),M=va.number_to_dms(M),M=ua.createFromDegreesMinutesSeconds(M.m_degrees,M.m_minutes,M.m_seconds),P?fa.createFromAngleMeridianAndDirection(M,
W,ba):fa.createFromAngleAndDirection(M,N)}throw Error("Conversion Error");}function G(M){const T=[" ","-","/","'",'"',"\\","^","\u00b0",za,"\t","\r","\n","*"];let N="";for(let P=0;P<M.length;P++){const W=M.charAt(P);N=-1!==T.indexOf(W)?N+"RRSPLITRRSPLITRR":N+W}return N.split("RRSPLITRRSPLITRR").filter(P=>""!==P)}function c(M,T,N){const P={padding:0,rounding:0,newpos:T};let W=!1;for(;T<M.length;){const ba=M[T];if(ba===N)W?P.rounding++:P.padding++,T++;else if("."===ba)W=!0,T++;else break}P.newpos=T-
1;return P}const p=M=>(T,N,P)=>{P=P||14;return+M(T,N).toFixed(P)},b=(M,T)=>M+T,D=(M,T)=>M-T,C=(M,T)=>M*T,R=(M,T)=>M/T,Y=(M,T,N)=>p(b)(M,T,N),U=(M,T,N)=>p(C)(M,T,N),ia=(M,T,N)=>p(R)(M,T,N),aa=2*Math.PI,ya=648E3/Math.PI,za=String.fromCharCode(7501);let va=function(){function M(N,P,W){this.m_degrees=N;this.m_minutes=P;this.m_seconds=W}var T=M.prototype;T.get_field=function(N){switch(N){case 1:case 6:return this.m_degrees;case 7:return this.m_minutes;case 2:case 8:return this.m_seconds;default:throw Error("Unnexpected evaluation");
}};M.seconds_to_DMS=function(N){const P=k(N).fraction;N=k(N).integer;const W=Math.floor(N/3600);N-=3600*W;const ba=Math.floor(N/60);return new M(W,ba,N-60*ba+P)};M.number_to_dms=function(N){var P=k(N).fraction;N=k(N).integer;const W=U(k(100*P).fraction,100);P=k(100*P).integer;return new M(N,P,W)};T.format=function(N,P){P=l(this.m_seconds,P);let W=this.m_minutes,ba=this.m_degrees;if(2===N||8===N)60<=P&&(P-=60,++W),60<=W&&(W=0,++ba),360<=ba&&(ba=0);else if(7===N)P=0,W=30<=this.m_seconds?this.m_minutes+
1:this.m_minutes,ba=this.m_degrees,60<=W&&(W=0,++ba),360<=ba&&(ba=0);else if(1===N||6===N)N=ia(this.m_seconds,3600),P=ia(this.m_minutes,60),ba=Math.round(this.m_degrees+P+N),P=W=0;return new M(ba,W,P)};M.DMS_to_seconds=function(N,P,W){return 3600*N+60*P+W};return M}(),xa=function(){function M(T,N,P){this.meridian=T;this.angle=N;this.direction=P}M.prototype.fetch_azimuth=function(T){return 0===T?this.meridian:this.direction};return M}(),fa=function(){function M(N){this.m_angle=N}M.createFromAngleAndDirection=
function(N,P){return new M(new ua(M.convertDirectionFormat(N.extract_angular_units(2),P,1)))};var T=M.prototype;T.getAngle=function(N){const P=this.m_angle.extract_angular_units(2);switch(N){case 1:case 4:case 2:return new ua(M.convertDirectionFormat(P,1,N));case 3:return N=M.seconds_north_azimuth_to_quadrant(P),new ua(N.angle)}};T.getMeridian=function(N){const P=this.m_angle.extract_angular_units(2);switch(N){case 1:return 0;case 4:return 2;case 2:return 1;case 3:return M.seconds_north_azimuth_to_quadrant(P).meridian}};
T.getDirection=function(N){const P=this.m_angle.extract_angular_units(2);switch(N){case 1:return 1;case 4:return 3;case 2:return 0;case 3:return M.seconds_north_azimuth_to_quadrant(P).direction}};M.seconds_north_azimuth_to_quadrant=function(N){const P=324E3>=N||972E3<=N?0:2;return new xa(P,0===P?Math.min(1296E3-N,N):Math.abs(N-648E3),648E3<N?3:1)};M.createFromAngleMeridianAndDirection=function(N,P,W){return new M(new ua(M.secondsQuadrantToNorthAzimuth(N.extract_angular_units(2),P,W)))};M.secondsQuadrantToNorthAzimuth=
function(N,P,W){return 0===P?1===W?N:1296E3-N:1===W?648E3-N:648E3+N};M.convertDirectionFormat=function(N,P,W){let ba=0;switch(P){case 1:ba=N;break;case 2:ba=324E3-N;break;case 3:throw Error("Unnexpected evaluation");case 4:ba=N+648E3}N=0;switch(W){case 1:N=ba;break;case 2:N=324E3-ba;break;case 3:throw Error("Unnexpected evaluation");case 4:N=ba-648E3}N%=1296E3;return 0>N?1296E3+N:N};return M}(),ua=function(){function M(T){this.m_seconds=T}M.createFromAngleAndUnits=function(T,N){return new M(f(T,N,
2))};M.prototype.extract_angular_units=function(T){return f(this.m_seconds,2,m(T))};M.createFromDegreesMinutesSeconds=function(T,N,P){return new M(Y(Y(U(T,3600),U(N,60)),P))};return M}(),Ba=function(){function M(N,P,W,ba){this.m_view=N;this.m_angle=P;this.m_merdian=W;this.m_direction=ba;this.m_formatted_dms=this.m_dms=null}M.createFromStringAndBearing=function(N,P,W){return new M(N,P.getAngle(W),P.getMeridian(W),P.getDirection(W))};var T=M.prototype;T.fetch_angle=function(){return this.m_angle};T.fetch_meridian=
function(){return this.m_merdian};T.fetch_direction=function(){return this.m_direction};T.fetch_m_view=function(){return this.m_view};T.fetch_dms=function(){null===this.m_dms&&this.calculate_dms();return this.m_dms};T.fetch_formatted_dms=function(){null===this.m_formatted_dms&&this.calculate_dms();return this.m_formatted_dms};T.calculate_dms=function(){var N=null;let P=6,W=0;for(N=0;N<this.m_view.length;N++){const ba=this.m_view[N];switch(ba){case "m":N=c(this.m_view,N,ba);P=6===P?7:P;N=N.newpos;
continue;case "s":N=c(this.m_view,N,ba),P=8,W=W<N.rounding?N.rounding:W,N=N.newpos}}this.m_dms=va.seconds_to_DMS(this.m_angle.extract_angular_units(2));this.m_formatted_dms=va.seconds_to_DMS(this.m_angle.extract_angular_units(2)).format(P,W)};return M}();w.convertDirection=function(M,T,N){if(!(T instanceof v))throw Error("Invalid Parameter");if(!1===T.hasField("directionType"))throw Error("Invalid Parameter - Missing directionType");if(!1===T.hasField("angleType"))throw Error("Invalid Parameter - Missing directionType");
var P=t(r(T.field("directiontype")));T=a(r(T.field("angletype")));if(B.isNumber(M)){M=B.toNumber(M);if(3===P)throw Error("Conversion error");3===T?(M=va.number_to_dms(M),P=fa.createFromAngleAndDirection(ua.createFromDegreesMinutesSeconds(M.m_degrees,M.m_minutes,M.m_seconds),P)):P=fa.createFromAngleAndDirection(ua.createFromAngleAndUnits(M,m(T)),P)}else if(B.isString(M))P=A(G(M),T,P);else if(B.isArray(M))P=A(M,T,P);else if(B.isImmutableArray(M))P=A(M.toArray(),T,P);else throw Error("Conversion Error");
if(!(N instanceof v))throw Error("Invalid Parameter");if(!1===N.hasField("directionType"))throw Error("Invalid Parameter - Missing directionType");if(!1===N.hasField("outputType"))throw Error("Invalid Parameter - Missing directionType");M=t(r(N.field("directiontype")));T=N.hasField("angleType")?a(r(N.field("angletype"))):null;var W=r(N.field("outputType")).toUpperCase().trim();if(!M||!W)throw Error("Conversion error");if(!(T||"TEXT"===W&&N.hasField("format")))throw Error("Invalid unit");switch(W){case "VALUE":if(3===
M||3===T)return N=P.getAngle(M),3===M&&3===T?(N=va.seconds_to_DMS(N.extract_angular_units(2)),P=[e(P.getMeridian(M),"SHORT"),N.m_degrees,N.m_minutes,N.m_seconds,e(P.getDirection(M),"SHORT")]):3===T?(P=va.seconds_to_DMS(N.extract_angular_units(2)),P=[P.m_degrees,P.m_minutes,P.m_seconds]):P=3===M?[e(P.getMeridian(M),"SHORT"),N.extract_angular_units(T),e(P.getDirection(M),"SHORT")]:[N.extract_angular_units(T)],P;if((N=m(T))&&3!==T)P=P.getAngle(M).extract_angular_units(N);else throw Error("Conversion Error");
return P;case "TEXT":W="";N.hasField("format")&&(W=B.toString(N.field("format")));if(null===W||""===W){N="";switch(T){case 1:N=3===M?"DD.DD\u00b0":"DDD.DD\u00b0";break;case 3:N=3===M?"dd\u00b0 mm' ss\"":"ddd\u00b0 mm' ss.ss\"";break;case 4:N="R.RR";break;case 5:N="GGG.GG"+za;break;default:throw Error("Conversion error");}3===M&&(N="p "+N+" b");W=N}N=W;var ba="",oa=null,ha=null;T=Ba.createFromStringAndBearing(N,P,M);W={D:1,d:6,m:7,s:8,R:4,G:5};for(ha=0;ha<N.length;ha++){var na=N[ha];switch(na){case "[":oa=
N;na={escaped:"",newpos:ha};for(ha++;ha<oa.length;){var la=oa[ha];ha++;if("]"===la)break;na.escaped+=la}na.newpos=ha-1;oa=na;ba+=oa.escaped;ha=oa.newpos;continue;case "D":case "d":case "m":case "s":case "R":case "G":oa=c(N,ha,na);ha=P.getAngle(M);a:{na=W[na];la=oa.padding;var ta=oa.rounding,z=T;let x=null;switch(na){case 1:case 4:case 5:x=d(l(ha.extract_angular_units(na),ta),h(na));ha=g(x.toFixed(ta),"0",la+ta+(0<ta?1:0));break a;case 6:case 7:x=d(z.fetch_formatted_dms().get_field(na),h(na));ha=g(x.toFixed(ta),
"0",la+ta+(0<ta?1:0));break a;case 8:x=d(l(z.fetch_dms().get_field(na),ta),h(na));ha=g(x.toFixed(ta),"0",la+ta+(0<ta?1:0));break a;default:throw Error("Unnexepected evaluation");}}ba+=ha;ha=oa.newpos;continue;case "P":case "p":ba+=e(T.fetch_meridian(),"p"===na?"SHORT":"LONG");continue;case "B":case "b":ba+=e(T.fetch_direction(),"b"===na?"SHORT":"LONG");continue;default:ba+=na}}return P=ba;default:throw Error("Invalid Parameter");}};w.preciseAdd=Y;w.preciseDivide=ia;w.preciseMinus=(M,T,N)=>p(D)(M,
T,N);w.preciseMultiply=U;Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/functions/hash":function(){define(["exports"],function(w){function v(r){const l=[];for(let k=0,e=r.length;k<e;k++){let g=r.charCodeAt(k);128>g?l.push(g):2048>g?l.push(192|g>>6,128|g&63):55296>g||57344<=g?l.push(224|g>>12,128|g>>6&63,128|g&63):(k++,g=65536+((g&1023)<<10|r.charCodeAt(k)&1023),l.push(240|g>>18,128|g>>12&63,128|g>>6&63,128|g&63))}return new Uint8Array(l)}let B=function(){function r(k){this.seed=
k;this.totallen=0;this.bufs=[];this.init()}var l=r.prototype;l.init=function(){this.bufs=[];this.totallen=0;return this};l.updateFloatArray=function(k){const e=[];for(const g of k)isNaN(g)?e.push("NaN"):Infinity===g?e.push("Infinity"):-Infinity===g?e.push("-Infinity"):0===g?e.push("0"):e.push(g.toString(16));this.update(v(e.join("")))};l.updateIntArray=function(k){k=Int32Array.from(k);this.update(new Uint8Array(k.buffer))};l.updateUint8Array=function(k){this.update(Uint8Array.from(k))};l.updateWithString=
function(k){return this.update(v(k))};l.update=function(k){this.bufs.push(k);this.totallen+=k.length;return this};l.digest=function(){const k=new Uint8Array(this.totallen);let e=0;for(const g of this.bufs)k.set(g,e),e+=g.length;this.init();return this.xxHash32(k,this.seed)};l.xxHash32=function(k,e=0){var g=e+374761393&4294967295;let d=0;if(16<=k.length){g=[e+2654435761+2246822519&4294967295,e+2246822519&4294967295,e+0&4294967295,e-2654435761&4294967295];e=k.length-16;var h=0;for(d=0;(d&4294967280)<=
e;d+=4){var t=d;t=g[h]+(2246822519*(k[t+0]+(k[t+1]<<8))+(2246822519*(k[t+2]+(k[t+3]<<8))<<16))&4294967295;t=t<<13|t>>>19;g[h]=2654435761*(t&65535)+(2654435761*(t>>>16)<<16)&4294967295;h=h+1&3}g=(g[0]<<1|g[0]>>>31)+(g[1]<<7|g[1]>>>25)+(g[2]<<12|g[2]>>>20)+(g[3]<<18|g[3]>>>14)&4294967295}g=g+k.length&4294967295;for(e=k.length-4;d<=e;d+=4)h=d,g=g+(3266489917*(k[h+0]+(k[h+1]<<8))+(3266489917*(k[h+2]+(k[h+3]<<8))<<16))&4294967295,g=g<<17|g>>>15,g=668265263*(g&65535)+(668265263*(g>>>16)<<16)&4294967295;
for(;d<k.length;++d)g+=374761393*k[d],g=g<<11|g>>>21,g=2654435761*(g&65535)+(2654435761*(g>>>16)<<16)&4294967295;g^=g>>>15;g=(2246822519*(g&65535)&4294967295)+(2246822519*(g>>>16)<<16);g^=g>>>13;g=(3266489917*(g&65535)&4294967295)+(3266489917*(g>>>16)<<16);g^=g>>>16;return 0>g?g+4294967296:g};return r}();w.XXH=B;Object.defineProperty(w,"__esModule",{value:!0})})},"esri/views/2d/layers/features/support/FeatureSetReader":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../geometry ../../../../../core/has ../../../../../core/maybe ../../../../../layers/graphics/centroid ../../../../../layers/graphics/featureConversionUtils ../../../../../layers/graphics/OptimizedGeometry ./StaticBitSet ../../../../../geometry/support/jsonUtils".split(" "),
function(w,v,B,r,l,k,e,g,d,h){let t=0;B=function(){function a(m){this.type="FeatureSetReader";this.seen=!1;this._ty=this._tx=this.instance=0;this._sy=this._sx=1;this._deleted=null;this._joined=[];this._objectIdToIndex=null;this.instance=m}a.createInstance=function(){t++;return t=65535<t?0:t};var f=a.prototype;f.setArcadeSpatialReference=function(m){this._arcadeSpatialReference=m};f.attachStorage=function(m){this._storage=m};f.getQuantizationTransform=function(){throw Error("Unable to find transform for featureSet");
};f.getStorage=function(){return this._storage};f.getComputedNumeric=function(m){return this.getComputedNumericAtIndex(0)};f.setComputedNumeric=function(m,q){return this.setComputedNumericAtIndex(q,0)};f.getComputedString=function(m){return this.getComputedStringAtIndex(0)};f.setComputedString=function(m,q){return this.setComputedStringAtIndex(0,q)};f.getComputedNumericAtIndex=function(m){return this._storage.getComputedNumericAtIndex(this.getDisplayId(),m)};f.setComputedNumericAtIndex=function(m,
q){this._storage.setComputedNumericAtIndex(this.getDisplayId(),m,q)};f.getComputedStringAtIndex=function(m){return this._storage.getComputedStringAtIndex(this.getDisplayId(),m)};f.setComputedStringAtIndex=function(m,q){return this._storage.setComputedStringAtIndex(this.getDisplayId(),m,q)};f.transform=function(m,q,E,J){const A=this.copy();A._tx+=m;A._ty+=q;A._sx*=E;A._sy*=J;return A};f.readAttribute=function(m,q=!1){var E=this._readAttribute(m,q);if(void 0!==E)return E;for(const J of this._joined)if(J.setIndex(this.getIndex()),
E=J._readAttribute(m,q),void 0!==E)return E};f.readAttributes=function(){const m=this._readAttributes();for(const q of this._joined){q.setIndex(this.getIndex());const E=q._readAttributes();for(const J of Object.keys(E))m[J]=E[J]}return m};f.joinAttributes=function(m){this._joined.push(m)};f.readArcadeFeature=function(){return this};f.geometry=function(){var m=this.readHydratedGeometry();m=e.convertToGeometry(m,this.geometryType,this.hasZ,this.hasM);if(m=h.fromJSON(m))m.spatialReference=this._arcadeSpatialReference;
return m};f.field=function(m){return this.readAttribute(m,!0)};f.hasField=function(m){return!0};f.setField=function(m,q){};f.keys=function(){return[]};f.castToText=function(){return""};f.removeIds=function(m){if(l.isNone(this._objectIdToIndex)){var q=new Map;const E=this.getCursor();for(;E.next();)q.set(E.getObjectId(),E.getIndex());this._objectIdToIndex=q}q=this._objectIdToIndex;for(const E of m)q.has(E)&&this.removeAtIndex(q.get(E))};f.removeAtIndex=function(m){l.isNone(this._deleted)&&(this._deleted=
d.StaticBitSet.create(this.getSize()));this._deleted.set(m)};f.features=function*(){const m=this.getCursor();for(;m.next();)yield m.readOptimizedFeature()};f._getExists=function(){return l.isNone(this._deleted)||!this._deleted.has(this.getIndex())};f._computeCentroid=function(){if("esriGeometryPolygon"!==this.geometryType)return null;const m=this.readUnquantizedGeometry();if(!m||m.hasIndeterminateRingOrder)return null;const q=l.unwrapOr(this.getQuantizationTransform(),null);return k.getCentroidOptimizedGeometry(new g,
m,this.hasM,this.hasZ,q)};f.copyInto=function(m){m.seen=this.seen;m._storage=this._storage;m._arcadeSpatialReference=this._arcadeSpatialReference;m._joined=this._joined;m._tx=this._tx;m._ty=this._ty;m._sx=this._sx;m._sy=this._sy;m._deleted=this._deleted;m._objectIdToIndex=this._objectIdToIndex};v._createClass(a,[{key:"isEmpty",get:function(){return l.isSome(this._deleted)&&this._deleted.countSet()===this.getSize()}}]);return a}();w.FeatureSetReader=B;Object.defineProperty(w,"__esModule",{value:!0})})},
"esri/layers/graphics/centroid":function(){define(["exports"],function(w){function v(r,l,k,e,g,d,h=1){d=g?d?4:3:d?3:2;let t=k,a=k+d,f=0,m=0,q=k=0,E=0;for(let J=0,A=e-1;J<A;J++,t+=d,a+=d){e=l[t];const G=l[t+1],c=l[t+2],p=l[a],b=l[a+1],D=l[a+2];let C=e*b-p*G;q+=C;f+=(e+p)*C;m+=(G+b)*C;g&&(C=e*D-p*c,k+=(c+D)*C,E+=C);e<r[0]&&(r[0]=e);e>r[1]&&(r[1]=e);G<r[2]&&(r[2]=G);G>r[3]&&(r[3]=G);g&&(c<r[4]&&(r[4]=c),c>r[5]&&(r[5]=c))}0<q*h&&(q*=-1);0<E*h&&(E*=-1);if(!q)return null;r=[f,m,.5*q];g&&(r[3]=k,r[4]=.5*
E);return r}function B(r,l,k,e,g){g=e?g?4:3:g?3:2;let d=l,h=l+g,t=0,a=0,f=0,m=0;for(let A=0,G=k-1;A<G;A++,d+=g,h+=g){var q=r[d];const c=r[d+1],p=r[d+2],b=r[h],D=r[h+1],C=r[h+2];if(e){{var E=b-q;var J=D-c;const R=C-p;E=Math.sqrt(E*E+J*J+R*R)}}else E=b-q,J=D-c,E=Math.sqrt(E*E+J*J);E&&(t+=E,e?(q=[q+.5*(b-q),c+.5*(D-c),p+.5*(C-p)],a+=E*q[0],f+=E*q[1],m+=E*q[2]):(q=[q+.5*(b-q),c+.5*(D-c)],a+=E*q[0],f+=E*q[1]))}return 0<t?e?[a/t,f/t,m/t]:[a/t,f/t]:0<k?e?[r[l],r[l+1],r[l+2]]:[r[l],r[l+1]]:null}w.getCentroidOptimizedGeometry=
function(r,l,k,e,g){if(!l||!l.lengths.length)return null;const d="upperLeft"===(null==g?void 0:g.originPosition)?-1:1;r.lengths.length&&(r.lengths.length=0);r.coords.length&&(r.coords.length=0);g=r.coords;const h=[],t=k?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:a,coords:f}=l,m=k?
e?4:3:e?3:2;let q=0;for(var E of a){const J=v(t,f,q,E,k,e,d);J&&h.push(J);q+=E*m}h.sort((J,A)=>{let G=d*J[2]-d*A[2];0===G&&k&&(G=J[4]-A[4]);return G});h.length&&(E=6*h[0][2],g[0]=h[0][0]/E,g[1]=h[0][1]/E,k&&(E=6*h[0][4],g[2]=0!==E?h[0][3]/E:0),g[0]<t[0]||g[0]>t[1]||g[1]<t[2]||g[1]>t[3]||k&&(g[2]<t[4]||g[2]>t[5]))&&(g.length=0);if(!g.length)if(l=l.lengths[0]?B(f,0,a[0],k,e):null)g[0]=l[0],g[1]=l[1],k&&2<l.length&&(g[2]=l[2]);else return null;return r};w.lineCentroid=B;Object.defineProperty(w,"__esModule",
{value:!0})})},"esri/views/2d/layers/features/support/StaticBitSet":function(){define(["exports"],function(w){let v=function(){function B(l,k){this._mask=0;this._buf=l;this._mask=k}B.fromBuffer=function(l,k){return new B(l,k)};B.create=function(l,k=4294967295){l=new Uint32Array(Math.ceil(l/32));return new B(l,k)};var r=B.prototype;r._getIndex=function(l){return Math.floor(l/32)};r.has=function(l){l&=this._mask;return!!(this._buf[this._getIndex(l)]&1<<l%32)};r.hasRange=function(l,k){for(;l%32&&l!==
k;){if(this.has(l))return!0;l++}for(;k%32&&l!==k;){if(this.has(l))return!0;k--}if(l===k)return!1;for(l/=32;l!==k/32;l++)if(this._buf[l])return!0;return!1};r.set=function(l){l&=this._mask;const k=this._getIndex(l);this._buf[k]|=1<<l%32};r.setRange=function(l,k){for(;l%32&&l!==k;)this.set(l++);for(;k%32&&l!==k;)this.set(k--);if(l!==k)for(l/=32;l!==k/32;l++)this._buf[l]=4294967295};r.unset=function(l){l&=this._mask;const k=this._getIndex(l);this._buf[k]&=4294967295^1<<l%32};r.resize=function(l){const k=
this._buf;l=new Uint32Array(Math.ceil(l/32));l.set(k);this._buf=l};r.or=function(l){for(let k=0;k<this._buf.length;k++)this._buf[k]|=l._buf[k];return this};r.and=function(l){for(let k=0;k<this._buf.length;k++)this._buf[k]&=l._buf[k];return this};r.xor=function(l){for(let k=0;k<this._buf.length;k++)this._buf[k]^=l._buf[k];return this};r.ior=function(l){for(let k=0;k<this._buf.length;k++)this._buf[k]|=~l._buf[k];return this};r.iand=function(l){for(let k=0;k<this._buf.length;k++)this._buf[k]&=~l._buf[k];
return this};r.ixor=function(l){for(let k=0;k<this._buf.length;k++)this._buf[k]^=~l._buf[k];return this};r.any=function(){for(let l=0;l<this._buf.length;l++)if(this._buf[l])return!0;return!1};r.copy=function(l){for(let k=0;k<this._buf.length;k++)this._buf[k]=l._buf[k];return this};r.clone=function(){return new B(this._buf.slice(),this._mask)};r.clear=function(){for(let l=0;l<this._buf.length;l++)this._buf[l]=0};r.forEachSet=function(l){for(let k=0;k<this._buf.length;k++){let e=this._buf[k],g=32*k;
if(e)for(;e;)e&1&&l(g),e>>>=1,g++}};r.countSet=function(){let l=0;this.forEachSet(k=>{l++});return l};return B}();w.StaticBitSet=v;Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/arcadeRuntime":function(){define("exports ./ArcadePortal ./Attachment ./Dictionary ./Feature ./FunctionWrapper ./ImmutablePathArray ./ImmutablePointArray ../chunks/languageUtils ./treeAnalysis ./functions/array ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../geometry/SpatialReference".split(" "),
function(w,v,B,r,l,k,e,g,d,h,t,a,f,m,q,E,J,A,G,c,p,b,D,C){function R(z,x){const I=[];for(let L=0;L<x.arguments.length;L++)I.push(U(z,x.arguments[L]));return I}function Y(z,x,I){try{return I(z,x,R(z,x))}catch(L){throw L;}}function U(z,x){try{switch(x.type){case "EmptyStatement":return d.voidOperation;case "VariableDeclarator":{let V=null===x.init?null:U(z,x.init);V===d.voidOperation&&(V=null);if("Identifier"!==x.id.type)throw Error("Can only assign a regular variable");const ea=x.id.name.toLowerCase();
null!==z.localScope?z.localScope[ea]={value:V,valueset:!0,node:x.init}:z.globalScope[ea]={value:V,valueset:!0,node:x.init};var I=d.voidOperation}return I;case "VariableDeclaration":for(var L=0;L<x.declarations.length;L++)U(z,x.declarations[L]);return d.voidOperation;case "BlockStatement":a:{let V=d.voidOperation;for(L=0;L<x.body.length;L++)if(V=U(z,x.body[L]),V instanceof d.ReturnResult||V===d.breakResult||V===d.continueResult){var S=V;break a}S=V}return S;case "FunctionDeclaration":{const V=x.id.name.toLowerCase();
z.globalScope[V]={valueset:!0,node:null,value:new k(x,z)};var da=d.voidOperation}return da;case "ReturnStatement":if(null===x.argument)var ra=new d.ReturnResult(d.voidOperation);else{var ka=U(z,x.argument);ra=new d.ReturnResult(ka)}return ra;case "IfStatement":{if("AssignmentExpression"===x.test.type||"UpdateExpression"===x.test.type)throw Error(h.nodeErrorMessage(x.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const V=U(z,x.test);if(!0===V)var n=U(z,x.consequent);else if(!1===V)n=null!==
x.alternate?U(z,x.alternate):d.voidOperation;else throw Error(h.nodeErrorMessage(x,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));}return n;case "ExpressionStatement":if("AssignmentExpression"===x.expression.type||"UpdateExpression"===x.expression.type)var u=U(z,x.expression);else if("CallExpression"===x.expression.type){const V=U(z,x.expression);u=V===d.voidOperation?d.voidOperation:new d.ImplicitResult(V)}else{{const V=U(z,x.expression);u=V===d.voidOperation?d.voidOperation:new d.ImplicitResult(V)}}return u;
case "AssignmentExpression":{const V=U(z,x.right);L=null;var H="";if("MemberExpression"===x.left.type){L=U(z,x.left.object);!0===x.left.computed?H=U(z,x.left.property):"Identifier"===x.left.property.type&&(H=x.left.property.name);if(d.isArray(L))if(d.isNumber(H)){0>H&&(H=L.length+H);if(0>H||H>L.length)throw Error("Assignment outside of array bounds");if(H===L.length&&"\x3d"!==x.operator)throw Error("Invalid Parameter");L[H]=aa(V,x.operator,L[H],x)}else throw Error("Invalid Parameter");else if(L instanceof
r){if(!1===d.isString(H))throw Error("Dictionary accessor must be a string");if(!0===L.hasField(H))L.setField(H,aa(V,x.operator,L.field(H),x));else{if("\x3d"!==x.operator)throw Error("Invalid Parameter");L.setField(H,aa(V,x.operator,null,x))}}else if(L instanceof l){if(!1===d.isString(H))throw Error("Feature accessor must be a string");if(!0===L.hasField(H))L.setField(H,aa(V,x.operator,L.field(H),x));else{if("\x3d"!==x.operator)throw Error("Invalid Parameter");L.setField(H,aa(V,x.operator,null,x))}}else{if(d.isImmutableArray(L))throw Error("Array is Immutable");
throw Error("Invalid Parameter");}var K=d.voidOperation}else if(L=x.left.name.toLowerCase(),null!==z.localScope&&void 0!==z.localScope[L])z.localScope[L]={value:aa(V,x.operator,z.localScope[L].value,x),valueset:!0,node:x.right},K=d.voidOperation;else if(void 0!==z.globalScope[L])z.globalScope[L]={value:aa(V,x.operator,z.globalScope[L].value,x),valueset:!0,node:x.right},K=d.voidOperation;else throw Error("Variable not recognised");}return K;case "UpdateExpression":{let V;L=null;H="";if("MemberExpression"===
x.argument.type){L=U(z,x.argument.object);!0===x.argument.computed?H=U(z,x.argument.property):"Identifier"===x.argument.property.type&&(H=x.argument.property.name);if(d.isArray(L))if(d.isNumber(H)){0>H&&(H=L.length+H);if(0>H||H>=L.length)throw Error("Assignment outside of array bounds");V=d.toNumber(L[H]);L[H]="++"===x.operator?V+1:V-1}else throw Error("Invalid Parameter");else if(L instanceof r){if(!1===d.isString(H))throw Error("Dictionary accessor must be a string");if(!0===L.hasField(H))V=d.toNumber(L.field(H)),
L.setField(H,"++"===x.operator?V+1:V-1);else throw Error("Invalid Parameter");}else if(L instanceof l){if(!1===d.isString(H))throw Error("Feature accessor must be a string");if(!0===L.hasField(H))V=d.toNumber(L.field(H)),L.setField(H,"++"===x.operator?V+1:V-1);else throw Error("Invalid Parameter");}else{if(d.isImmutableArray(L))throw Error("Array is Immutable");throw Error("Invalid Parameter");}var Q=!1===x.prefix?V:"++"===x.operator?V+1:V-1}else{L="Identifier"===x.argument.type?x.argument.name.toLowerCase():
"";if(!L)throw Error("Invalid identifier");if(null!==z.localScope&&void 0!==z.localScope[L])V=d.toNumber(z.localScope[L].value),z.localScope[L]={value:"++"===x.operator?V+1:V-1,valueset:!0,node:x},Q=!1===x.prefix?V:"++"===x.operator?V+1:V-1;else if(void 0!==z.globalScope[L])V=d.toNumber(z.globalScope[L].value),z.globalScope[L]={value:"++"===x.operator?V+1:V-1,valueset:!0,node:x},Q=!1===x.prefix?V:"++"===x.operator?V+1:V-1;else throw Error("Variable not recognised");}}return Q;case "BreakStatement":return d.breakResult;
case "ContinueStatement":return d.continueResult;case "TemplateElement":return x.value?x.value.cooked:"";case "TemplateLiteral":var ja;L="";H=0;for(const V of x.quasis)if(L+=V.value?V.value.cooked:"",!1===V.tail){const ea=x.expressions[H]?d.toString(U(z,x.expressions[H])):"";L+=ea;H++}return ja=L;case "ForStatement":null!==x.init&&U(z,x.init);H={testResult:!0,lastAction:d.voidOperation};do b:{K=z;Q=x;ja=H;if(null!==Q.test){ja.testResult=U(K,Q.test);if(!1===ja.testResult)break b;if(!0!==ja.testResult)throw Error(h.nodeErrorMessage(Q,
"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));}ja.lastAction=U(K,Q.body);ja.lastAction===d.breakResult?ja.testResult=!1:ja.lastAction instanceof d.ReturnResult?ja.testResult=!1:null!==Q.update&&U(K,Q.update)}while(!0===H.testResult);L=H.lastAction instanceof d.ReturnResult?H.lastAction:d.voidOperation;return L;case "ForInStatement":return ia(z,x);case "Identifier":return ua(z,x);case "MemberExpression":return za(z,x);case "Literal":return x.value;case "CallExpression":return Ba(z,x);case "UnaryExpression":return va(z,
x);case "BinaryExpression":return xa(z,x);case "LogicalExpression":return fa(z,x);case "ConditionalExpression":throw Error(h.nodeErrorMessage(x,"RUNTIME","NOTSUPPORTED"));case "ArrayExpression":try{L=[];for(H=0;H<x.elements.length;H++){const V=U(z,x.elements[H]);if(d.isFunctionParameter(V))throw Error(h.nodeErrorMessage(x,"RUNTIME","FUNCTIONCONTEXTILLEGAL"));V===d.voidOperation?L.push(null):L.push(V)}var ma=L}catch(V){throw V;}return ma;case "ObjectExpression":{L={};for(H=0;H<x.properties.length;H++){const ea=
U(z,x.properties[H]);if(d.isFunctionParameter(ea.value))throw Error("Illegal Argument");if(!1===d.isString(ea.key))throw Error("Illegal Argument");L[ea.key.toString()]=ea.value===d.voidOperation?null:ea.value}const V=new r(L);V.immutable=!1;var qa=V}return qa;case "Property":return{key:"Identifier"===x.key.type?x.key.name:U(z,x.key),value:U(z,x.value)};default:throw Error(h.nodeErrorMessage(x,"RUNTIME","UNREOGNISED"));}}catch(V){throw V;}}function ia(z,x){var I=U(z,x.right);"VariableDeclaration"===
x.left.type&&U(z,x.left);let L=null;var S="";if("VariableDeclaration"===x.left.type){var da=x.left.declarations[0].id;"Identifier"===da.type&&(S=da.name)}else"Identifier"===x.left.type&&(S=x.left.name);if(!S)throw Error(h.nodeErrorMessage(x,"RUNTIME","INVALIDVARIABLE"));S=S.toLowerCase();null!==z.localScope&&void 0!==z.localScope[S]&&(L=z.localScope[S]);null===L&&void 0!==z.globalScope[S]&&(L=z.globalScope[S]);if(null===L)throw Error(h.nodeErrorMessage(x,"RUNTIME","VARIABLENOTDECLARED"));if(d.isArray(I)||
d.isString(I)){I=I.length;for(S=0;S<I;S++){L.value=S;da=U(z,x.body);if(da===d.breakResult)break;if(da instanceof d.ReturnResult)return da}return d.voidOperation}if(d.isImmutableArray(I)){for(S=0;S<I.length();S++){L.value=S;da=U(z,x.body);if(da===d.breakResult)break;if(da instanceof d.ReturnResult)return da}return d.voidOperation}if(I instanceof r||I instanceof l)for(I=I.keys(),S=0;S<I.length;S++){L.value=I[S];da=U(z,x.body);if(da===d.breakResult)break;if(da instanceof d.ReturnResult)return da}else return d.voidOperation}
function aa(z,x,I,L){switch(x){case "\x3d":return z===d.voidOperation?null:z;case "/\x3d":return d.toNumber(I)/d.toNumber(z);case "*\x3d":return d.toNumber(I)*d.toNumber(z);case "-\x3d":return d.toNumber(I)-d.toNumber(z);case "+\x3d":return d.isString(I)||d.isString(z)?d.toString(I)+d.toString(z):d.toNumber(I)+d.toNumber(z);case "%\x3d":return d.toNumber(I)%d.toNumber(z);default:throw Error(h.nodeErrorMessage(L,"RUNTIME","OPERATORNOTRECOGNISED"));}}function ya(z,x,I){x=x.toLowerCase();switch(x){case "hasz":return z=
z.hasZ,void 0===z?!1:z;case "hasm":return z=z.hasM,void 0===z?!1:z;case "spatialreference":return x=z.spatialReference._arcadeCacheId,void 0===x&&(I=!0,Object.freeze&&Object.isFrozen(z.spatialReference)&&(I=!1),I&&(na++,x=z.spatialReference._arcadeCacheId=na)),z=new r({wkt:z.spatialReference.wkt,wkid:z.spatialReference.wkid}),void 0!==x&&(z._arcadeCacheId="SPREF"+x.toString()),z}switch(z.type){case "extent":switch(x){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return z=
z[x],void 0!==z?z:null;case "type":return"Extent"}break;case "polygon":switch(x){case "rings":return x=z.cache._arcadeCacheId,void 0===x&&(na++,x=na,z.cache._arcadeCacheId=x),new e(z.rings,z.spatialReference,!0===z.hasZ,!0===z.hasM,x);case "type":return"Polygon"}break;case "point":switch(x){case "x":case "y":case "z":case "m":return void 0!==z[x]?z[x]:null;case "type":return"Point"}break;case "polyline":switch(x){case "paths":return x=z.cache._arcadeCacheId,void 0===x&&(na++,x=na,z.cache._arcadeCacheId=
x),new e(z.paths,z.spatialReference,!0===z.hasZ,!0===z.hasM,x);case "type":return"Polyline"}break;case "multipoint":switch(x){case "points":return x=z.cache._arcadeCacheId,void 0===x&&(na++,x=na,z.cache._arcadeCacheId=x),new g(z.points,z.spatialReference,!0===z.hasZ,!0===z.hasM,x,1);case "type":return"Multipoint"}}throw Error(h.nodeErrorMessage(I,"RUNTIME","PROPERTYNOTFOUND"));}function za(z,x){try{const I=U(z,x.object);if(null===I)throw Error(h.nodeErrorMessage(x,"RUNTIME","NOTFOUND"));if(!1===x.computed){if("Identifier"===
x.property.type){if(I instanceof r||I instanceof l)return I.field(x.property.name);if(I instanceof G)return ya(I,x.property.name,x)}throw Error(h.nodeErrorMessage(x,"RUNTIME","INVALIDTYPE"));}{let L=U(z,x.property);if(I instanceof r||I instanceof l){if(d.isString(L))return I.field(L);throw Error(h.nodeErrorMessage(x,"RUNTIME","INVALIDTYPE"));}if(I instanceof G){if(d.isString(L))return ya(I,L,x);throw Error(h.nodeErrorMessage(x,"RUNTIME","INVALIDTYPE"));}if(d.isArray(I)){if(d.isNumber(L)&&isFinite(L)&&
Math.floor(L)===L){0>L&&(L=I.length+L);if(L>=I.length||0>L)throw Error(h.nodeErrorMessage(x,"RUNTIME","OUTOFBOUNDS"));return I[L]}throw Error(h.nodeErrorMessage(x,"RUNTIME","INVALIDTYPE"));}if(d.isString(I)){if(d.isNumber(L)&&isFinite(L)&&Math.floor(L)===L){0>L&&(L=I.length+L);if(L>=I.length||0>L)throw Error(h.nodeErrorMessage(x,"RUNTIME","OUTOFBOUNDS"));return I[L]}throw Error(h.nodeErrorMessage(x,"RUNTIME","INVALIDTYPE"));}if(d.isImmutableArray(I)&&d.isNumber(L)&&isFinite(L)&&Math.floor(L)===L){0>
L&&(L=I.length()+L);if(L>=I.length()||0>L)throw Error(h.nodeErrorMessage(x,"RUNTIME","OUTOFBOUNDS"));return I.get(L)}throw Error(h.nodeErrorMessage(x,"RUNTIME","INVALIDTYPE"));}}catch(I){throw I;}}function va(z,x){try{const I=U(z,x.argument);if(d.isBoolean(I)){if("!"===x.operator)return!I;if("-"===x.operator)return-1*d.toNumber(I);if("+"===x.operator)return 1*d.toNumber(I);if("~"===x.operator)return~d.toNumber(I);throw Error(h.nodeErrorMessage(x,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("~"===x.operator)return~d.toNumber(I);
if("-"===x.operator)return-1*d.toNumber(I);if("+"===x.operator)return 1*d.toNumber(I);throw Error(h.nodeErrorMessage(x,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}catch(I){throw I;}}function xa(z,x){try{const I=[U(z,x.left),U(z,x.right)],L=I[0],S=I[1];switch(x.operator){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return d.binaryOperator(d.toNumber(L),d.toNumber(S),x.operator);case "\x3d\x3d":return d.equalityTest(L,S);case "!\x3d":return!d.equalityTest(L,S);case "\x3c":return d.greaterThanLessThan(L,
S,x.operator);case "\x3e":return d.greaterThanLessThan(L,S,x.operator);case "\x3c\x3d":return d.greaterThanLessThan(L,S,x.operator);case "\x3e\x3d":return d.greaterThanLessThan(L,S,x.operator);case "+":return d.isString(L)||d.isString(S)?d.toString(L)+d.toString(S):d.toNumber(L)+d.toNumber(S);case "-":return d.toNumber(L)-d.toNumber(S);case "*":return d.toNumber(L)*d.toNumber(S);case "/":return d.toNumber(L)/d.toNumber(S);case "%":return d.toNumber(L)%d.toNumber(S);default:throw Error(h.nodeErrorMessage(x,
"RUNTIME","OPERATORNOTRECOGNISED"));}}catch(I){throw I;}}function fa(z,x){try{if("AssignmentExpression"===x.left.type||"UpdateExpression"===x.left.type)throw Error(h.nodeErrorMessage(x.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===x.right.type||"UpdateExpression"===x.right.type)throw Error(h.nodeErrorMessage(x.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const I=U(z,x.left);if(d.isBoolean(I))switch(x.operator){case "||":if(!0===I)return I;{const L=U(z,
x.right);if(d.isBoolean(L))return L;throw Error(h.nodeErrorMessage(x,"RUNTIME","ONLYORORAND"));}case "\x26\x26":if(!1===I)return I;{const L=U(z,x.right);if(d.isBoolean(L))return L;throw Error(h.nodeErrorMessage(x,"RUNTIME","ONLYORORAND"));}default:throw Error(h.nodeErrorMessage(x,"RUNTIME","ONLYORORAND"));}throw Error(h.nodeErrorMessage(x,"RUNTIME","ONLYBOOLEAN"));}catch(I){throw I;}}function ua(z,x){let I;try{const L=x.name.toLowerCase();if(null!==z.localScope&&void 0!==z.localScope[L]){I=z.localScope[L];
if(!0===I.valueset)return I.value;I.value=U(z,I.node);I.valueset=!0;return I.value}if(void 0!==z.globalScope[L]){I=z.globalScope[L];if(!0===I.valueset)return I.value;I.value=U(z,I.node);I.valueset=!0;return I.value}throw Error(h.nodeErrorMessage(x,"RUNTIME","VARIABLENOTFOUND"));}catch(L){throw L;}}function Ba(z,x){try{if("Identifier"!==x.callee.type)throw Error(h.nodeErrorMessage(x,"RUNTIME","ONLYNODESSUPPORTED"));if(null!==z.localScope&&void 0!==z.localScope[x.callee.name.toLowerCase()]){const I=
z.localScope[x.callee.name.toLowerCase()];if(I.value instanceof d.NativeFunction)return I.value.fn(z,x);if(I.value instanceof k)return ba(z,x,I.value.definition);throw Error(h.nodeErrorMessage(x,"RUNTIME","NOTAFUNCTION"));}if(void 0!==z.globalScope[x.callee.name.toLowerCase()]){const I=z.globalScope[x.callee.name.toLowerCase()];if(I.value instanceof d.NativeFunction)return I.value.fn(z,x);if(I.value instanceof k)return ba(z,x,I.value.definition);throw Error(h.nodeErrorMessage(x,"RUNTIME","NOTAFUNCTION"));
}throw Error(h.nodeErrorMessage(x,"RUNTIME","NOTFOUND"));}catch(I){throw I;}}function M(z){return null==z?"":d.isArray(z)||d.isImmutableArray(z)?"Array":d.isDate(z)?"Date":d.isString(z)?"String":d.isBoolean(z)?"Boolean":d.isNumber(z)?"Number":z instanceof B?"Attachment":z instanceof v?"Portal":z instanceof r?"Dictionary":z instanceof l?"Feature":z instanceof p?"Point":z instanceof b?"Polygon":z instanceof D?"Polyline":z instanceof c?"Multipoint":z instanceof A?"Extent":d.isFunctionParameter(z)?"Function":
d.isFeatureSet(z)?"FeatureSet":d.isFeatureSetCollection(z)?"FeatureSetCollection":z===d.voidOperation?"":"number"===typeof z&&isNaN(z)?"Number":"Unrecognised Type"}function T(z,x,I,L){try{const S=U(z,x.arguments[I]);if(d.equalityTest(S,L))return U(z,x.arguments[I+1]);{const da=x.arguments.length-I;return 1===da?U(z,x.arguments[I]):2===da?null:3===da?U(z,x.arguments[I+2]):T(z,x,I+2,L)}}catch(S){throw S;}}function N(z,x,I,L){try{if(!0===L)return U(z,x.arguments[I+1]);if(3===x.arguments.length-I)return U(z,
x.arguments[I+2]);{const S=U(z,x.arguments[I+2]);if(!1===d.isBoolean(S))throw Error("WHEN needs boolean test conditions");return N(z,x,I+2,S)}}catch(S){throw S;}}function P(z,x){var I=z.length,L=Math.floor(I/2);if(0===I)return[];if(1===I)return[z[0]];var S=P(z.slice(0,L),x);z=P(z.slice(L,I),x);for(I=[];0<S.length||0<z.length;)0<S.length&&0<z.length?(L=x(S[0],z[0]),isNaN(L)&&(L=0),0>=L?(I.push(S[0]),S=S.slice(1)):(I.push(z[0]),z=z.slice(1))):0<S.length?(I.push(S[0]),S=S.slice(1)):0<z.length&&(I.push(z[0]),
z=z.slice(1));return x=I}function W(z,x,I){try{const L=z.body;if(I.length!==z.params.length)throw Error("Invalid Parameter calls to function.");for(let da=0;da<I.length;da++)x.localScope[z.params[da].name.toLowerCase()]={value:I[da],valueset:!0,node:null};const S=U(x,L);if(S instanceof d.ReturnResult)return S.value;if(S===d.breakResult)throw Error("Cannot Break from a Function");if(S===d.continueResult)throw Error("Cannot Continue from a Function");return S instanceof d.ImplicitResult?S.value:S}catch(L){throw L;
}}function ba(z,x,I){return Y(z,x,function(L,S,da){L={spatialReference:z.spatialReference,globalScope:z.globalScope,depthCounter:z.depthCounter+1,console:z.console,lrucache:z.lrucache,interceptor:z.interceptor,localScope:{}};if(64<L.depthCounter)throw Error("Exceeded maximum function depth");return W(I,L,da)})}function oa(z){return function(){const x={spatialReference:z.context.spatialReference,console:z.context.console,lrucache:z.context.lrucache,interceptor:z.context.interceptor,localScope:{},depthCounter:z.context.depthCounter+
1,globalScope:z.context.globalScope};if(64<x.depthCounter)throw Error("Exceeded maximum function depth");return W(z.definition,x,arguments)}}function ha(z){console.log(z)}let na=0;const la={};t.registerFunctions(la,Y);a.registerFunctions(la,Y);J.registerFunctions(la,Y);q.registerFunctions(la,Y);f.registerFunctions(la,Y);E.registerFunctions(la,Y);m.registerFunctions(la,Y);la["typeof"]=function(z,x){return Y(z,x,function(I,L,S){d.pcCheck(S,1,1);I=M(S[0]);if("Unrecognised Type"===I)throw Error("Unrecognised Type");
return I})};la.iif=function(z,x){try{d.pcCheck(null===x.arguments?[]:x.arguments,3,3);const I=U(z,x.arguments[0]);if(!1===d.isBoolean(I))throw Error("IF Function must have a boolean test condition");const L=U(z,x.arguments[1]),S=U(z,x.arguments[2]);return!0===I?L:S}catch(I){throw I;}};la.decode=function(z,x){try{if(2>x.arguments.length)throw Error("Missing Parameters");if(2===x.arguments.length)return U(z,x.arguments[1]);{if(0===(x.arguments.length-1)%2)throw Error("Must have a default value result.");
const I=U(z,x.arguments[0]);return T(z,x,1,I)}}catch(I){throw I;}};la.when=function(z,x){try{if(3>x.arguments.length)throw Error("Missing Parameters");if(0===x.arguments.length%2)throw Error("Must have a default value result.");const I=U(z,x.arguments[0]);if(!1===d.isBoolean(I))throw Error("WHEN needs boolean test conditions");return N(z,x,0,I)}catch(I){throw I;}};la.top=function(z,x){return Y(z,x,function(I,L,S){d.pcCheck(S,2,2);if(d.isArray(S[0]))return d.toNumber(S[1])>=S[0].length?S[0].slice(0):
S[0].slice(0,d.toNumber(S[1]));if(d.isImmutableArray(S[0]))return d.toNumber(S[1])>=S[0].length()?S[0].slice(0):S[0].slice(0,d.toNumber(S[1]));throw Error("Top cannot accept this parameter type");})};la.first=function(z,x){return Y(z,x,function(I,L,S){d.pcCheck(S,1,1);return d.isArray(S[0])?0===S[0].length?null:S[0][0]:d.isImmutableArray(S[0])?0===S[0].length()?null:S[0].get(0):null})};la.sort=function(z,x){return Y(z,x,function(I,L,S){d.pcCheck(S,1,2);I=S[0];d.isImmutableArray(I)&&(I=I.toArray());
if(!1===d.isArray(I))throw Error("Illegal Argument");if(1<S.length){if(!1===d.isFunctionParameter(S[1]))throw Error("Illegal Argument");var da=I;const ka=oa(S[1]);return da=P(da,function(n,u){return ka(n,u)})}S=I;if(0===S.length)return[];I={};for(L=0;L<S.length;L++){var ra=M(S[L]);""!==ra&&(I[ra]=!0)}if(!0===I.Array||!0===I.Dictionary||!0===I.Feature||!0===I.Point||!0===I.Polygon||!0===I.Polyline||!0===I.Multipoint||!0===I.Extent||!0===I.Function)return S.slice(0);L=0;ra="";for(da in I)L++,ra=da;
return S=1<L||"String"===ra?P(S,function(ka,n){if(null===ka||void 0===ka||ka===d.voidOperation)return null===n||void 0===n||n===d.voidOperation?0:1;if(null===n||void 0===n||n===d.voidOperation)return-1;ka=d.toString(ka);n=d.toString(n);return ka<n?-1:ka===n?0:1}):"Number"===ra?P(S,function(ka,n){return ka-n}):"Boolean"===ra?P(S,function(ka,n){return ka===n?0:n?-1:1}):"Date"===ra?P(S,function(ka,n){return n-ka}):S.slice(0)})};for(const z in la)la[z]={value:new d.NativeFunction(la[z]),valueset:!0,node:null};
const ta=function(){};ta.prototype=la;ta.prototype.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null};ta.prototype.pi={value:Math.PI,valueset:!0,node:null};t={fixSpatialReference:d.fixSpatialReference,parseArguments:R,standardFunction:Y};w.executeScript=function(z,x){let I=x.spatialReference;if(null===I||void 0===I)I=new C({wkid:102100});{var L=x.vars;var S=x.customfunctions;const da=new ta;L||(L={});S||(S={});const ra=new r({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",
backwardslash:"\\"});ra.immutable=!1;da.textformatting={value:ra,valueset:!0,node:null};for(const ka in S)da[ka]={value:new d.NativeFunction(S[ka]),native:!0,valueset:!0,node:null};for(const ka in L)da[ka]=L[ka]&&"esri.Graphic"===L[ka].declaredClass?{value:l.createFromGraphic(L[ka]),valueset:!0,node:null}:{value:L[ka],valueset:!0,node:null};L=da}z=U({spatialReference:I,globalScope:L,localScope:null,console:x.console?x.console:ha,lrucache:x.lrucache,interceptor:x.interceptor,depthCounter:1},z.body[0].body);
z instanceof d.ReturnResult&&(z=z.value);z instanceof d.ImplicitResult&&(z=z.value);z===d.voidOperation&&(z=null);if(z===d.breakResult)throw Error("Cannot return BREAK");if(z===d.continueResult)throw Error("Cannot return CONTINUE");if(z instanceof k)throw Error("Cannot return FUNCTION");if(z instanceof d.NativeFunction)throw Error("Cannot return FUNCTION");return z};w.extend=function(z){const x={mode:"sync",compiled:!1,functions:{},signatures:[],standardFunction:Y,evaluateIdentifier:ua,arcadeCustomFunctionHandler:oa};
for(let I=0;I<z.length;I++)z[I].registerFunctions(x);for(const I in x.functions)la[I]={value:new d.NativeFunction(x.functions[I]),valueset:!0,node:null},ta.prototype[I]=la[I];for(z=0;z<x.signatures.length;z++)h.addFunctionDeclaration(x.signatures[z],"async")};w.extractFieldLiterals=function(z,x){return h.findFieldLiterals(z)};w.findFunctionCalls=function(z){return h.findFunctionCalls(z)};w.functionHelper=t;w.referencesFunction=function(z,x){return h.referencesFunction(z,x)};w.referencesMember=function(z,
x){return h.referencesMember(z,x)};w.validateScript=function(z,x){return h.validateScript(z,x,"simple")};Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/parser":function(){define(["exports","./treeAnalysis","./lib/esprima"],function(w,v,B){w.extractFieldLiterals=function(r,l){return v.findFieldLiterals(r)};w.parseScript=function(r,l=[]){r=B.parse("function _() { "+r+"\n}");if(null===r.body||void 0===r.body)throw Error("No formula provided.");if(0===r.body.length)throw Error("No formula provided.");
if(0===r.body.length)throw Error("No formula provided.");if("BlockStatement"!==r.body[0].body.type)throw Error("Invalid formula content.");const k=v.validateLanguage(r);if(""!==k)throw Error(k);v.findScriptDependencies(r,l);return r};w.referencesFunction=function(r,l){return v.referencesFunction(r,l)};w.referencesMember=function(r,l){return v.referencesMember(r,l)};w.scriptCheck=function(r,l,k,e,g){const d=[];r="function _() { \n"+r+"\n}";try{const h=B.parse(r,{tolerant:!0,loc:!0,range:!0}),t=h.errors;
if(0<t.length)for(let f=0;f<t.length;f++)d.push({line:t[f].lineNumber-2,character:t[f].column,reason:t[f].description});const a=v.checkScript(h,l,k,e,g);for(l=0;l<a.length;l++)a[l].line-=2,a[l].range&&(a[l].range=[a[l][0]-15,a[l][1]-15]),a[l].loc&&(a[l].loc.start.line-=2,a[l].loc.end.line-=2),d.push(a[l])}catch(h){try{if("Unexpected token }"===h.description){const t=r.split("\n").length;h.lineNumber===t?(h.index=r.length-1,d.push({line:h.lineNumber-4,character:h.column,reason:"Unexpected end of script"})):
(h.index=r.length-1,d.push({line:h.lineNumber-2,character:h.column,reason:"Unexpected end of script"}))}else d.push({line:h.lineNumber-2,character:h.column,reason:h.description})}catch(t){}}return d};w.validateScript=function(r,l,k){return v.validateScript(r,l,k)};Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/lib/esprima":function(){define(["exports","./comment-handler","./parser","./tokenizer","./syntax"],function(w,v,B,r,l){function k(e,g,d){let h=null;const t=(m,q)=>{d&&d(m,
q);h&&h.visit(m,q)};let a="function"===typeof d?t:null,f=!1;if(g){f="boolean"===typeof g.comment&&g.comment;const m="boolean"===typeof g.attachComment&&g.attachComment;if(f||m)h=new v.CommentHandler,h.attach=m,g.comment=!0,a=t}e=new B.Parser(e,g,a);g=e.parseScript();f&&h&&(g.comments=h.comments);e.config.tokens&&(g.tokens=e.tokens);e.config.tolerant&&(g.errors=e.errorHandler.errors);return g}w.Syntax=l.Syntax;w.parse=k;w.parseScript=function(e,g,d){g=g||{};g.sourceType="script";return k(e,g,d)};w.tokenize=
function(e,g,d){e=new r.Tokenizer(e,g);g=[];try{for(;;){let h=e.getNextToken();if(!h)break;d&&(h=d(h));g.push(h)}}catch(h){e.errorHandler.tolerate(h)}e.errorHandler.tolerant&&(g.errors=e.errors());return g};w.version="4.0.0-dev";Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/lib/comment-handler":function(){define(["exports","./syntax"],function(w,v){let B=function(){function r(){this.attach=!1;this.comments=[];this.stack=[];this.leading=[];this.trailing=[]}var l=r.prototype;l.insertInnerComments=
function(k,e){if(k.type===v.Syntax.BlockStatement&&0===k.body.length){const g=[];for(let d=this.leading.length-1;0<=d;--d){const h=this.leading[d];e.end.offset>=h.start&&(g.unshift(h.comment),this.leading.splice(d,1),this.trailing.splice(d,1))}g.length&&(k.innerComments=g)}};l.findTrailingComments=function(k){let e=[];if(0<this.trailing.length){for(var g=this.trailing.length-1;0<=g;--g){var d=this.trailing[g];d.start>=k.end.offset&&e.unshift(d.comment)}this.trailing.length=0;return e}(g=this.stack[this.stack.length-
1])&&g.node.trailingComments&&(d=g.node.trailingComments[0])&&d.range[0]>=k.end.offset&&(e=g.node.trailingComments,delete g.node.trailingComments);return e};l.findLeadingComments=function(k){const e=[];for(var g;0<this.stack.length;){var d=this.stack[this.stack.length-1];if(d&&d.start>=k.start.offset)g=d.node,this.stack.pop();else break}if(g){d=g.leadingComments?g.leadingComments.length:0;for(--d;0<=d;--d){const h=g.leadingComments[d];h.range[1]<=k.start.offset&&(e.unshift(h),g.leadingComments.splice(d,
1))}g.leadingComments&&0===g.leadingComments.length&&delete g.leadingComments;return e}for(g=this.leading.length-1;0<=g;--g)d=this.leading[g],d.start<=k.start.offset&&(e.unshift(d.comment),this.leading.splice(g,1));return e};l.visitNode=function(k,e){if(!(k.type===v.Syntax.Program&&0<k.body.length)){this.insertInnerComments(k,e);var g=this.findTrailingComments(e),d=this.findLeadingComments(e);0<d.length&&(k.leadingComments=d);0<g.length&&(k.trailingComments=g);this.stack.push({node:k,start:e.start.offset})}};
l.visitComment=function(k,e){const g="L"===k.type[0]?"Line":"Block",d={type:g,value:k.value};k.range&&(d.range=k.range);k.loc&&(d.loc=k.loc);this.comments.push(d);this.attach&&(e={comment:{type:g,value:k.value,range:[e.start.offset,e.end.offset]},start:e.start.offset},k.loc&&(e.comment.loc=k.loc),k.type=g,this.leading.push(e),this.trailing.push(e))};l.visit=function(k,e){"LineComment"===k.type?this.visitComment(k,e):"BlockComment"===k.type?this.visitComment(k,e):this.attach&&this.visitNode(k,e)};
return r}();w.CommentHandler=B;Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/lib/syntax":function(){define(["exports"],function(w){w.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",
EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",
SequenceExpression:"SequenceExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement"};Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/lib/parser":function(){define("exports ./assert ./error-handler ./messages ./nodes ./scanner ./syntax ./token".split(" "),function(w,v,B,r,l,k,
e,g){let d=function(){function h(a,f={},m){this.config={range:"boolean"===typeof f.range&&f.range,loc:"boolean"===typeof f.loc&&f.loc,source:null,tokens:"boolean"===typeof f.tokens&&f.tokens,comment:"boolean"===typeof f.comment&&f.comment,tolerant:"boolean"===typeof f.tolerant&&f.tolerant};this.config.loc&&f.source&&null!==f.source&&(this.config.source=String(f.source));this.delegate=m;this.errorHandler=new B.ErrorHandler;this.errorHandler.tolerant=this.config.tolerant;this.scanner=new k.Scanner(a,
this.errorHandler);this.scanner.trackComment=this.config.comment;this.operatorPrecedence={")":0,";":0,",":0,"\x3d":0,"]":0,"||":1,"\x26\x26":2,"|":3,"^":4,"\x26":5,"\x3d\x3d":6,"!\x3d":6,"\x3d\x3d\x3d":6,"!\x3d\x3d":6,"\x3c":7,"\x3e":7,"\x3c\x3d":7,"\x3e\x3d":7,"\x3c\x3c":8,"\x3e\x3e":8,"\x3e\x3e\x3e":8,"+":9,"-":9,"*":11,"/":11,"%":11};this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0};this.hasLineTerminator=!1;this.context={isModule:!1,allowIn:!0,allowStrictDirective:!0,
firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1};this.tokens=[];this.startMarker={index:0,line:this.scanner.lineNumber,column:0};this.lastMarker={index:0,line:this.scanner.lineNumber,column:0};this.nextToken();this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}var t=h.prototype;t.throwError=function(a,...f){const m=f.slice();a=a.replace(/%(\d)/g,
(q,E)=>{v.assert(E<m.length,"Message reference must be in range");return m[E]});throw this.errorHandler.createError(this.lastMarker.index,this.lastMarker.line,this.lastMarker.column+1,a);};t.tolerateError=function(a,...f){const m=f.slice();a=a.replace(/%(\d)/g,(q,E)=>{v.assert(E<m.length,"Message reference must be in range");return m[E]});this.errorHandler.tolerateError(this.lastMarker.index,this.scanner.lineNumber,this.lastMarker.column+1,a)};t.unexpectedTokenError=function(a,f){let m=f||r.Messages.UnexpectedToken;
a?(f||(m=2===a.type?r.Messages.UnexpectedEOS:3===a.type?r.Messages.UnexpectedIdentifier:6===a.type?r.Messages.UnexpectedNumber:8===a.type?r.Messages.UnexpectedString:10===a.type?r.Messages.UnexpectedTemplate:r.Messages.UnexpectedToken,4===a.type&&(this.scanner.isFutureReservedWord(a.value)?m=r.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(a.value)&&(m=r.Messages.StrictReservedWord))),f=a.value):f="ILLEGAL";m=m.replace("%0",f);return a&&"number"===typeof a.lineNumber?
this.errorHandler.createError(a.start,a.lineNumber,a.start-(this.lastMarker.index-this.lastMarker.column)+1,m):this.errorHandler.createError(this.lastMarker.index,this.lastMarker.line,this.lastMarker.column+1,m)};t.throwUnexpectedToken=function(a,f){throw this.unexpectedTokenError(a,f);};t.tolerateUnexpectedToken=function(a,f){this.errorHandler.tolerate(this.unexpectedTokenError(a,f))};t.collectComments=function(){if(this.config.comment){const a=this.scanner.scanComments();if(0<a.length&&this.delegate)for(let f=
0;f<a.length;++f){const m=a[f],q={type:m.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(m.slice[0],m.slice[1])};this.config.range&&(q.range=m.range);this.config.loc&&(q.loc=m.loc);this.delegate(q,{start:{line:m.loc.start.line,column:m.loc.start.column,offset:m.range[0]},end:{line:m.loc.end.line,column:m.loc.end.column,offset:m.range[1]}})}}else this.scanner.scanComments()};t.getTokenRaw=function(a){return this.scanner.source.slice(a.start,a.end)};t.convertToken=function(a){const f=
{type:g.TokenName[a.type],value:this.getTokenRaw(a)};this.config.range&&(f.range=[a.start,a.end]);this.config.loc&&(f.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}});9===a.type&&(f.regex={pattern:a.pattern,flags:a.flags});return f};t.nextToken=function(){const a=this.lookahead;this.lastMarker.index=this.scanner.index;this.lastMarker.line=this.scanner.lineNumber;this.lastMarker.column=this.scanner.index-
this.scanner.lineStart;this.collectComments();this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);const f=this.scanner.lex();this.hasLineTerminator=a.lineNumber!==f.lineNumber;f&&this.context.strict&&3===f.type&&this.scanner.isStrictModeReservedWord(f.value)&&(f.type=4);this.lookahead=f;this.config.tokens&&2!==f.type&&this.tokens.push(this.convertToken(f));
return a};t.nextRegexToken=function(){this.collectComments();const a=this.scanner.scanRegExp();this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(a)));this.lookahead=a;this.nextToken();return a};t.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}};t.startNode=function(a,f=0){let m=a.start-a.lineStart,q=a.lineNumber;0>m&&(m+=f,q--);return{index:a.start,line:q,column:m}};t.finalize=function(a,f){this.config.range&&
(f.range=[a.index,this.lastMarker.index]);this.config.loc&&(f.loc={start:{line:a.line,column:a.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(f.loc.source=this.config.source));this.delegate&&this.delegate(f,{start:{line:a.line,column:a.column,offset:a.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}});return f};t.expect=function(a){const f=this.nextToken();7===f.type&&f.value===a||this.throwUnexpectedToken(f)};
t.expectCommaSeparator=function(){if(this.config.tolerant){const a=this.lookahead;7===a.type&&","===a.value?this.nextToken():7===a.type&&";"===a.value?(this.nextToken(),this.tolerateUnexpectedToken(a)):this.tolerateUnexpectedToken(a,r.Messages.UnexpectedToken)}else this.expect(",")};t.expectKeyword=function(a){const f=this.nextToken();4===f.type&&f.value.toLowerCase()===a.toLowerCase()||this.throwUnexpectedToken(f)};t.match=function(a){return 7===this.lookahead.type&&this.lookahead.value===a};t.matchKeyword=
function(a){return 4===this.lookahead.type&&this.lookahead.value.toLowerCase()===a.toLowerCase()};t.matchContextualKeyword=function(a){return 3===this.lookahead.type&&this.lookahead.value===a};t.matchAssign=function(){if(7!==this.lookahead.type)return!1;const a=this.lookahead.value;return"\x3d"===a||"*\x3d"===a||"**\x3d"===a||"/\x3d"===a||"%\x3d"===a||"+\x3d"===a||"-\x3d"===a||"\x3c\x3c\x3d"===a||"\x3e\x3e\x3d"===a||"\x3e\x3e\x3e\x3d"===a||"\x26\x3d"===a||"^\x3d"===a||"|\x3d"===a};t.isolateCoverGrammar=
function(a){const f=this.context.isBindingElement,m=this.context.isAssignmentTarget,q=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0;this.context.isAssignmentTarget=!0;this.context.firstCoverInitializedNameError=null;a=a.call(this);null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError);this.context.isBindingElement=f;this.context.isAssignmentTarget=m;this.context.firstCoverInitializedNameError=q;return a};
t.inheritCoverGrammar=function(a){const f=this.context.isBindingElement,m=this.context.isAssignmentTarget,q=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0;this.context.isAssignmentTarget=!0;this.context.firstCoverInitializedNameError=null;a=a.call(this);this.context.isBindingElement=this.context.isBindingElement&&f;this.context.isAssignmentTarget=this.context.isAssignmentTarget&&m;this.context.firstCoverInitializedNameError=q||this.context.firstCoverInitializedNameError;
return a};t.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)};t.parsePrimaryExpression=function(){var a=this.createNode();let f,m;switch(this.lookahead.type){case 3:a=this.finalize(a,new l.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&
this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,r.Messages.StrictOctalLiteral);this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;f=this.nextToken();m=this.getTokenRaw(f);a=this.finalize(a,new l.Literal(f.value,m));break;case 1:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;f=this.nextToken();m=this.getTokenRaw(f);a=this.finalize(a,new l.Literal("true"===f.value.toLowerCase(),m));break;case 5:this.context.isAssignmentTarget=!1;this.context.isBindingElement=
!1;f=this.nextToken();m=this.getTokenRaw(f);a=this.finalize(a,new l.Literal(null,m));break;case 10:a=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case "(":this.context.isBindingElement=!1;a=this.inheritCoverGrammar(this.parseGroupExpression);break;case "[":a=this.inheritCoverGrammar(this.parseArrayInitializer);break;case "{":a=this.inheritCoverGrammar(this.parseObjectInitializer);break;default:a=this.throwUnexpectedToken(this.nextToken())}break;case 4:this.context.isAssignmentTarget=
!1;this.context.isBindingElement=!1;a=this.matchKeyword("function")?this.parseFunctionExpression():this.throwUnexpectedToken(this.nextToken());break;default:a=this.throwUnexpectedToken(this.nextToken())}return a};t.parseArrayInitializer=function(){const a=this.createNode(),f=[];for(this.expect("[");!this.match("]");)this.match(",")?(this.nextToken(),f.push(null)):(f.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(","));this.expect("]");return this.finalize(a,
new l.ArrayExpression(f))};t.parsePropertyMethod=function(a){this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;const f=this.context.strict,m=this.context.allowStrictDirective;this.context.allowStrictDirective=a.simple;const q=this.isolateCoverGrammar(this.parseFunctionSourceElements);this.context.strict&&a.firstRestricted&&this.tolerateUnexpectedToken(a.firstRestricted,a.message);this.context.strict&&a.stricted&&this.tolerateUnexpectedToken(a.stricted,a.message);this.context.strict=
f;this.context.allowStrictDirective=m;return q};t.parsePropertyMethodFunction=function(){const a=this.createNode(),f=this.parseFormalParameters(),m=this.parsePropertyMethod(f);return this.finalize(a,new l.FunctionExpression(null,f.params,m,!1))};t.parseObjectPropertyKey=function(){var a=this.createNode();const f=this.nextToken();switch(f.type){case 8:case 6:{this.context.strict&&f.octal&&this.tolerateUnexpectedToken(f,r.Messages.StrictOctalLiteral);const m=this.getTokenRaw(f);a=this.finalize(a,new l.Literal(f.value,
m));break}case 3:case 1:case 5:case 4:a=this.finalize(a,new l.Identifier(f.value));break;case 7:"["===f.value?(a=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):a=this.throwUnexpectedToken(f);break;default:a=this.throwUnexpectedToken(f)}return a};t.isPropertyKey=function(a,f){return a.type===e.Syntax.Identifier&&a.name===f||a.type===e.Syntax.Literal&&a.value===f};t.parseObjectProperty=function(a){const f=this.createNode();var m=this.lookahead,q=null;let E=null,J=!1,A=!1,
G=!1,c=!1;3===m.type?(q=m.value,this.nextToken(),J=this.match("["),q=(c=!this.hasLineTerminator&&"async"===q&&!this.match(":")&&!this.match("(")&&!this.match("*")&&!this.match(","))?this.parseObjectPropertyKey():this.finalize(f,new l.Identifier(q))):this.match("*")?this.nextToken():(J=this.match("["),q=this.parseObjectPropertyKey());q||this.throwUnexpectedToken(this.lookahead);this.match(":")&&!c?(!J&&this.isPropertyKey(q,"__proto__")&&(a.value&&this.tolerateError(r.Messages.DuplicateProtoProperty),
a.value=!0),this.nextToken(),E=this.inheritCoverGrammar(this.parseAssignmentExpression)):this.match("(")?(E=this.parsePropertyMethodFunction(),A=!0):3===m.type?(a=this.finalize(f,new l.Identifier(m.value)),this.match("\x3d")?(this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),G=!0,m=this.isolateCoverGrammar(this.parseAssignmentExpression),E=this.finalize(f,new l.AssignmentPattern(a,m))):(G=!0,E=a)):this.throwUnexpectedToken(this.nextToken());return this.finalize(f,new l.Property("init",
q,J,E,A,G))};t.parseObjectInitializer=function(){const a=this.createNode();this.expect("{");const f=[],m={value:!1};for(;!this.match("}");)f.push(this.parseObjectProperty(m)),this.match("}")||this.expectCommaSeparator();this.expect("}");return this.finalize(a,new l.ObjectExpression(f))};t.parseTemplateHead=function(){v.assert(this.lookahead.head,"Template literal must start with a template head");const a=this.createNode(),f=this.nextToken();return this.finalize(a,new l.TemplateElement({raw:f.value,
cooked:f.cooked},f.tail))};t.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();const a=this.createNode(),f=this.nextToken();return this.finalize(a,new l.TemplateElement({raw:f.value,cooked:f.cooked},f.tail))};t.parseTemplateLiteral=function(){const a=this.createNode(),f=[],m=[];let q=this.parseTemplateHead();for(m.push(q);!q.tail;)f.push(this.parseExpression()),q=this.parseTemplateElement(),m.push(q);return this.finalize(a,new l.TemplateLiteral(m,f))};t.reinterpretExpressionAsPattern=
function(a){switch(a.type){case e.Syntax.ArrayExpression:a.type=e.Syntax.ArrayPattern;for(var f=0;f<a.elements.length;f++)null!==a.elements[f]&&this.reinterpretExpressionAsPattern(a.elements[f]);break;case e.Syntax.ObjectExpression:a.type=e.Syntax.ObjectPattern;for(f=0;f<a.properties.length;f++)this.reinterpretExpressionAsPattern(a.properties[f].value);break;case e.Syntax.AssignmentExpression:a.type=e.Syntax.AssignmentPattern,delete a.operator,this.reinterpretExpressionAsPattern(a.left)}};t.parseGroupExpression=
function(){this.expect("(");if(this.match(")")){this.nextToken();this.match("\x3d\x3e")||this.expect("\x3d\x3e");var a={type:"ArrowParameterPlaceHolder",params:[],async:!1}}else{var f=this.lookahead;let m=!1;this.context.isBindingElement=!0;a=this.inheritCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){const q=[];this.context.isAssignmentTarget=!1;for(q.push(a);2!==this.lookahead.type&&this.match(",");){this.nextToken();if(this.match(")")){this.nextToken();for(a=0;a<q.length;a++)this.reinterpretExpressionAsPattern(q[a]);
m=!0;a={type:"ArrowParameterPlaceHolder",params:q,async:!1}}else q.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(m)break}m||(a=this.finalize(this.startNode(f),new l.SequenceExpression(q)))}if(!m){this.expect(")");if(this.match("\x3d\x3e")&&(a.type===e.Syntax.Identifier&&"yield"===a.name&&(m=!0,a={type:"ArrowParameterPlaceHolder",params:[a],async:!1}),!m)){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead);if(a.type===e.Syntax.SequenceExpression)for(f=0;f<
a.expressions.length;f++)this.reinterpretExpressionAsPattern(a.expressions[f]);else this.reinterpretExpressionAsPattern(a);a={type:"ArrowParameterPlaceHolder",params:a.type===e.Syntax.SequenceExpression?a.expressions:[a],async:!1}}this.context.isBindingElement=!1}}return a};t.parseArguments=function(){this.expect("(");const a=[];if(!this.match(")"))for(;;){const f=this.isolateCoverGrammar(this.parseAssignmentExpression);a.push(f);if(this.match(")"))break;this.expectCommaSeparator();if(this.match(")"))break}this.expect(")");
return a};t.isIdentifierName=function(a){return 3===a.type||4===a.type||1===a.type||5===a.type};t.parseIdentifierName=function(){const a=this.createNode(),f=this.nextToken();this.isIdentifierName(f)||this.throwUnexpectedToken(f);return this.finalize(a,new l.Identifier(f.value))};t.parseLeftHandSideExpressionAllowCall=function(){const a=this.lookahead,f=this.context.allowIn;this.context.allowIn=!0;let m;for(m=this.inheritCoverGrammar(this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=
!1;this.context.isAssignmentTarget=!0;this.expect(".");var q=this.parseIdentifierName();m=this.finalize(this.startNode(a),new l.StaticMemberExpression(m,q))}else if(this.match("("))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1,q=this.parseArguments(),m=this.finalize(this.startNode(a),new l.CallExpression(m,q));else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),q=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),
m=this.finalize(this.startNode(a),new l.ComputedMemberExpression(m,q));else break;this.context.allowIn=f;return m};t.parseLeftHandSideExpression=function(){v.assert(this.context.allowIn,"callee of new expression always allow in keyword.");const a=this.startNode(this.lookahead);let f=this.inheritCoverGrammar(this.parsePrimaryExpression);for(;;)if(this.match("[")){this.context.isBindingElement=!1;this.context.isAssignmentTarget=!0;this.expect("[");var m=this.isolateCoverGrammar(this.parseExpression);
this.expect("]");f=this.finalize(a,new l.ComputedMemberExpression(f,m))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),m=this.parseIdentifierName(),f=this.finalize(a,new l.StaticMemberExpression(f,m));else break;return f};t.parseUpdateExpression=function(){let a;var f=this.lookahead;if(this.match("++")||this.match("--")){f=this.startNode(f);var m=this.nextToken();a=this.inheritCoverGrammar(this.parseUnaryExpression);this.context.strict&&
a.type===e.Syntax.Identifier&&this.scanner.isRestrictedWord(a.name)&&this.tolerateError(r.Messages.StrictLHSPrefix);this.context.isAssignmentTarget||this.tolerateError(r.Messages.InvalidLHSInAssignment);a=this.finalize(f,new l.UpdateExpression(m.value,a,!0));this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}else a=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),this.hasLineTerminator||7!==this.lookahead.type||!this.match("++")&&!this.match("--")||(this.context.strict&&
a.type===e.Syntax.Identifier&&this.scanner.isRestrictedWord(a.name)&&this.tolerateError(r.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(r.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,m=this.nextToken().value,a=this.finalize(this.startNode(f),new l.UpdateExpression(m,a,!1)));return a};t.parseUnaryExpression=function(){let a;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||
this.matchKeyword("void")||this.matchKeyword("typeof")){const f=this.startNode(this.lookahead),m=this.nextToken();a=this.inheritCoverGrammar(this.parseUnaryExpression);a=this.finalize(f,new l.UnaryExpression(m.value,a));this.context.strict&&"delete"===a.operator&&a.argument.type===e.Syntax.Identifier&&this.tolerateError(r.Messages.StrictDelete);this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}else a=this.parseUpdateExpression();return a};t.parseExponentiationExpression=function(){const a=
this.lookahead;var f=this.inheritCoverGrammar(this.parseUnaryExpression);if(f.type!==e.Syntax.UnaryExpression&&this.match("**")){this.nextToken();this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;const m=this.isolateCoverGrammar(this.parseExponentiationExpression);f=this.finalize(this.startNode(a),new l.BinaryExpression("**",f,m))}return f};t.binaryPrecedence=function(a){const f=a.value;return 7===a.type?this.operatorPrecedence[f]||0:4===a.type?"instanceof"===f||this.context.allowIn&&
"in"===f?7:0:0};t.parseBinaryExpression=function(){var a=this.lookahead,f=this.inheritCoverGrammar(this.parseExponentiationExpression),m=this.lookahead,q=this.binaryPrecedence(m);if(0<q){this.nextToken();this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;a=[a,this.lookahead];var E=this.isolateCoverGrammar(this.parseExponentiationExpression);m=[f,m.value,E];for(var J=[q];;){q=this.binaryPrecedence(this.lookahead);if(0>=q)break;for(;2<m.length&&q<=J[J.length-1];){E=m.pop();const G=
m.pop();J.pop();f=m.pop();a.pop();var A=a[a.length-1];A=this.startNode(A,A.lineStart);m.push(this.finalize(A,new l.BinaryExpression(G,f,E)))}m.push(this.nextToken().value);J.push(q);a.push(this.lookahead);m.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}q=m.length-1;f=m[q];for(J=a.pop();1<q;)E=a.pop(),J=this.startNode(E,J&&J.lineStart),f=this.finalize(J,new l.BinaryExpression(m[q-1],m[q-2],f)),q-=2,J=E}return f};t.parseConditionalExpression=function(){const a=this.lookahead;let f=
this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var m=this.context.allowIn;this.context.allowIn=!0;const q=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=m;this.expect(":");m=this.isolateCoverGrammar(this.parseAssignmentExpression);f=this.finalize(this.startNode(a),new l.ConditionalExpression(f,q,m));this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}return f};t.checkPatternParam=function(a,f){switch(f.type){case e.Syntax.Identifier:this.validateParam(a,
f,f.name);break;case e.Syntax.AssignmentPattern:this.checkPatternParam(a,f.left);break;case e.Syntax.ArrayPattern:for(var m=0;m<f.elements.length;m++)null!==f.elements[m]&&this.checkPatternParam(a,f.elements[m]);break;case e.Syntax.ObjectPattern:for(m=0;m<f.properties.length;m++)this.checkPatternParam(a,f.properties[m].value)}a.simple=a.simple&&f instanceof l.Identifier};t.reinterpretAsCoverFormalsList=function(a){const f=[a],m={simple:!0,paramSet:{}};switch(a.type){case e.Syntax.Identifier:break;
default:return null}for(a=0;a<f.length;++a){const q=f[a];this.checkPatternParam(m,q);f[a]=q}m.message===r.Messages.StrictParamDupe&&this.throwUnexpectedToken(this.context.strict?m.stricted:m.firstRestricted,m.message);return{simple:m.simple,params:f,stricted:m.stricted,firstRestricted:m.firstRestricted,message:m.message}};t.parseAssignmentExpression=function(){let a;const f=this.lookahead;var m=f;a=this.parseConditionalExpression();if(this.matchAssign()){this.context.isAssignmentTarget||this.tolerateError(r.Messages.InvalidLHSInAssignment);
if(this.context.strict&&a.type===e.Syntax.Identifier){var q=a;this.scanner.isRestrictedWord(q.name)&&this.tolerateUnexpectedToken(m,r.Messages.StrictLHSAssignment);this.scanner.isStrictModeReservedWord(q.name)&&this.tolerateUnexpectedToken(m,r.Messages.StrictReservedWord)}this.match("\x3d")?this.reinterpretExpressionAsPattern(a):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);m=this.nextToken();m=m.value;q=this.isolateCoverGrammar(this.parseAssignmentExpression);a=this.finalize(this.startNode(f),
new l.AssignmentExpression(m,a,q));this.context.firstCoverInitializedNameError=null}return a};t.parseExpression=function(){const a=this.lookahead;let f=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){const m=[];for(m.push(f);2!==this.lookahead.type&&this.match(",");)this.nextToken(),m.push(this.isolateCoverGrammar(this.parseAssignmentExpression));f=this.finalize(this.startNode(a),new l.SequenceExpression(m))}return f};t.parseStatementListItem=function(){let a;this.context.isAssignmentTarget=
!0;this.context.isBindingElement=!0;if(4===this.lookahead.type)switch(this.lookahead.value){case "function":a=this.parseFunctionDeclaration();break;default:a=this.parseStatement()}else a=this.parseStatement();return a};t.parseBlock=function(){const a=this.createNode();this.expect("{");const f=[];for(;!this.match("}");)f.push(this.parseStatementListItem());this.expect("}");return this.finalize(a,new l.BlockStatement(f))};t.parseBlockOrObjectInitialiser=function(){const a=this.createNode();this.expect("{");
if(3===this.lookahead.type||8===this.lookahead.type){var f=this.scanner.saveState();this.scanner.scanComments();var m=this.scanner.lex();this.scanner.restoreState(f);if(7===m.type&&":"===m.value){f=[];for(m={value:!1};!this.match("}");)f.push(this.parseObjectProperty(m)),this.match("}")||this.expectCommaSeparator();this.expect("}");return this.finalize(a,new l.ObjectExpression(f))}}for(f=[];!this.match("}");)f.push(this.parseStatementListItem());this.expect("}");return this.finalize(a,new l.BlockStatement(f))};
t.parseLexicalBinding=function(a,f){const m=this.createNode();a=this.parsePattern([],a);this.context.strict&&a.type===e.Syntax.Identifier&&this.scanner.isRestrictedWord(a.name)&&this.tolerateError(r.Messages.StrictVarName);let q=null;if(!f.inFor&&a.type!==e.Syntax.Identifier||this.match("\x3d"))this.expect("\x3d"),q=this.isolateCoverGrammar(this.parseAssignmentExpression);return this.finalize(m,new l.VariableDeclarator(a,q))};t.parseBindingList=function(a,f){const m=[this.parseLexicalBinding(a,f)];
for(;this.match(",");)this.nextToken(),m.push(this.parseLexicalBinding(a,f));return m};t.parseArrayPattern=function(a,f){const m=this.createNode();this.expect("[");const q=[];for(;!this.match("]");)this.match(",")?(this.nextToken(),q.push(null)):(q.push(this.parsePatternWithDefault(a,f)),this.match("]")||this.expect(","));this.expect("]");return this.finalize(m,new l.ArrayPattern(q))};t.parsePropertyPattern=function(a,f){const m=this.createNode();let q=!1,E=!1,J;if(3===this.lookahead.type){var A=
this.lookahead;J=this.parseVariableIdentifier();const G=this.finalize(m,new l.Identifier(A.value));this.match("\x3d")?(a.push(A),E=!0,this.nextToken(),a=this.parseAssignmentExpression(),A=this.finalize(this.startNode(A),new l.AssignmentPattern(G,a))):this.match(":")?(this.expect(":"),A=this.parsePatternWithDefault(a,f)):(a.push(A),E=!0,A=G)}else q=this.match("["),J=this.parseObjectPropertyKey(),this.expect(":"),A=this.parsePatternWithDefault(a,f);return this.finalize(m,new l.Property("init",J,q,A,
!1,E))};t.parseObjectPattern=function(a,f){const m=this.createNode(),q=[];for(this.expect("{");!this.match("}");)q.push(this.parsePropertyPattern(a,f)),this.match("}")||this.expect(",");this.expect("}");return this.finalize(m,new l.ObjectPattern(q))};t.parsePattern=function(a,f){this.match("[")?a=this.parseArrayPattern(a,f):this.match("{")?a=this.parseObjectPattern(a,f):(!this.matchKeyword("let")||"const"!==f&&"let"!==f||this.tolerateUnexpectedToken(this.lookahead,r.Messages.LetInLexicalBinding),
a.push(this.lookahead),a=this.parseVariableIdentifier(f));return a};t.parsePatternWithDefault=function(a,f){const m=this.lookahead;a=this.parsePattern(a,f);this.match("\x3d")&&(this.nextToken(),f=this.isolateCoverGrammar(this.parseAssignmentExpression),a=this.finalize(this.startNode(m),new l.AssignmentPattern(a,f)));return a};t.parseVariableIdentifier=function(a){const f=this.createNode(),m=this.nextToken();3!==m.type&&(this.context.strict&&4===m.type&&this.scanner.isStrictModeReservedWord(m.value)?
this.tolerateUnexpectedToken(m,r.Messages.StrictReservedWord):(this.context.strict||"let"!==m.value||"var"!==a)&&this.throwUnexpectedToken(m));return this.finalize(f,new l.Identifier(m.value))};t.parseVariableDeclaration=function(a){const f=this.createNode(),m=this.parsePattern([],"var");this.context.strict&&m.type===e.Syntax.Identifier&&this.scanner.isRestrictedWord(m.name)&&this.tolerateError(r.Messages.StrictVarName);let q=null;this.match("\x3d")?(this.nextToken(),q=this.isolateCoverGrammar(this.parseAssignmentExpression)):
m.type===e.Syntax.Identifier||a.inFor||this.expect("\x3d");return this.finalize(f,new l.VariableDeclarator(m,q))};t.parseVariableDeclarationList=function(a){a={inFor:a.inFor};const f=[];for(f.push(this.parseVariableDeclaration(a));this.match(",");)this.nextToken(),f.push(this.parseVariableDeclaration(a));return f};t.parseVariableStatement=function(){const a=this.createNode();this.expectKeyword("var");const f=this.parseVariableDeclarationList({inFor:!1});this.consumeSemicolon();return this.finalize(a,
new l.VariableDeclaration(f,"var"))};t.parseEmptyStatement=function(){const a=this.createNode();this.expect(";");return this.finalize(a,new l.EmptyStatement)};t.parseExpressionStatement=function(){const a=this.createNode(),f=this.parseExpression();this.consumeSemicolon();return this.finalize(a,new l.ExpressionStatement(f))};t.parseIfClause=function(){this.context.strict&&this.matchKeyword("function")&&this.tolerateError(r.Messages.StrictFunction);return this.parseStatement(!0)};t.parseIfStatement=
function(){const a=this.createNode();let f,m=null;this.expectKeyword("if");this.expect("(");const q=this.parseExpression();!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),f=this.finalize(this.createNode(),new l.EmptyStatement)):(this.expect(")"),f=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),m=this.parseIfClause()));return this.finalize(a,new l.IfStatement(q,f,m))};t.parseForStatement=function(){var a=null;let f=null,m=null;let q;const E=
this.createNode();this.expectKeyword("for");this.expect("(");if(this.match(";"))this.nextToken();else if(this.matchKeyword("var")){a=this.createNode();this.nextToken();var J=this.context.allowIn;this.context.allowIn=!1;var A=this.parseVariableDeclarationList({inFor:!0});this.context.allowIn=J;if(1===A.length&&this.matchKeyword("in")){var G=A[0];G.init&&(G.id.type===e.Syntax.ArrayPattern||G.id.type===e.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(r.Messages.ForInOfLoopInitializer,
"for-in");a=this.finalize(a,new l.VariableDeclaration(A,"var"));this.nextToken();G=a;q=this.parseExpression();a=null}else 1===A.length&&null===A[0].init&&this.matchContextualKeyword("of")?(a=this.finalize(a,new l.VariableDeclaration(A,"var")),this.nextToken(),G=a,q=this.parseAssignmentExpression(),a=null):(a=this.finalize(a,new l.VariableDeclaration(A,"var")),this.expect(";"))}else{A=this.lookahead;J=this.context.isBindingElement;const c=this.context.isAssignmentTarget,p=this.context.firstCoverInitializedNameError,
b=this.context.allowIn;this.context.allowIn=!1;a=this.inheritCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=b;if(this.matchKeyword("in"))this.context.isAssignmentTarget&&a.type!==e.Syntax.AssignmentExpression||this.tolerateError(r.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(a),G=a,q=this.parseExpression(),a=null;else{this.context.isBindingElement=J;this.context.isAssignmentTarget=c;this.context.firstCoverInitializedNameError=p;if(this.match(",")){for(a=
[a];this.match(",");)this.nextToken(),a.push(this.isolateCoverGrammar(this.parseAssignmentExpression));a=this.finalize(this.startNode(A),new l.SequenceExpression(a))}this.expect(";")}}"undefined"===typeof G&&(this.match(";")||(f=this.isolateCoverGrammar(this.parseExpression)),this.expect(";"),this.match(")")||(m=this.isolateCoverGrammar(this.parseExpression)));!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),A=this.finalize(this.createNode(),new l.EmptyStatement)):
(this.expect(")"),J=this.context.inIteration,this.context.inIteration=!0,A=this.isolateCoverGrammar(this.parseStatementBlockAllowed),this.context.inIteration=J);return"undefined"===typeof G?this.finalize(E,new l.ForStatement(a,f,m,A)):this.finalize(E,new l.ForInStatement(G,q,A))};t.parseContinueStatement=function(){const a=this.createNode();this.expectKeyword("continue");let f=null;if(3===this.lookahead.type&&!this.hasLineTerminator){const m=this.parseVariableIdentifier();f=m;Object.prototype.hasOwnProperty.call(this.context.labelSet,
"$"+m.name)||this.throwError(r.Messages.UnknownLabel,m.name)}this.consumeSemicolon();null!==f||this.context.inIteration||this.throwError(r.Messages.IllegalContinue);return this.finalize(a,new l.ContinueStatement(f))};t.parseBreakStatement=function(){const a=this.createNode();this.expectKeyword("break");var f=null;3!==this.lookahead.type||this.hasLineTerminator||(f=this.parseVariableIdentifier(),Object.prototype.hasOwnProperty.call(this.context.labelSet,"$"+f.name)||this.throwError(r.Messages.UnknownLabel,
f.name));this.consumeSemicolon();null!==f||this.context.inIteration||this.context.inSwitch||this.throwError(r.Messages.IllegalBreak);return this.finalize(a,new l.BreakStatement(f))};t.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(r.Messages.IllegalReturn);const a=this.createNode();this.expectKeyword("return");const f=(this.match(";")||this.match("}")||this.hasLineTerminator||2===this.lookahead.type)&&8!==this.lookahead.type&&10!==this.lookahead.type?null:this.parseExpression();
this.consumeSemicolon();return this.finalize(a,new l.ReturnStatement(f))};t.parseLabelledStatement=function(){const a=this.createNode();var f=this.parseExpression();this.consumeSemicolon();f=new l.ExpressionStatement(f);return this.finalize(a,f)};t.parseStatementBlockAllowed=function(){return this.parseStatement(!0)};t.parseStatement=function(a=!1){switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:a=this.parseExpressionStatement();break;case 7:{const f=this.lookahead.value;a=
"{"===f?a?this.parseBlockOrObjectInitialiser():this.parseObjectInitializer():"("===f?this.parseExpressionStatement():";"===f?this.parseEmptyStatement():this.parseExpressionStatement();break}case 3:a=this.parseLabelledStatement();break;case 4:switch(this.lookahead.value.toLowerCase()){case "break":a=this.parseBreakStatement();break;case "continue":a=this.parseContinueStatement();break;case "for":a=this.parseForStatement();break;case "function":a=this.parseFunctionDeclaration();break;case "if":a=this.parseIfStatement();
break;case "return":a=this.parseReturnStatement();break;case "var":a=this.parseVariableStatement();break;default:a=this.parseExpressionStatement()}break;default:a=this.throwUnexpectedToken(this.lookahead)}return a};t.parseFunctionSourceElements=function(){const a=this.createNode();this.expect("{");const f=[],m=this.context.labelSet,q=this.context.inIteration,E=this.context.inSwitch,J=this.context.inFunctionBody;this.context.labelSet={};this.context.inIteration=!1;this.context.inSwitch=!1;for(this.context.inFunctionBody=
!0;2!==this.lookahead.type&&!this.match("}");)f.push(this.parseStatementListItem());this.expect("}");this.context.labelSet=m;this.context.inIteration=q;this.context.inSwitch=E;this.context.inFunctionBody=J;return this.finalize(a,new l.BlockStatement(f))};t.validateParam=function(a,f,m){const q="$"+m;this.context.strict?(this.scanner.isRestrictedWord(m)&&(a.stricted=f,a.message=r.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(a.paramSet,q)&&(a.stricted=f,a.message=r.Messages.StrictParamDupe)):
a.firstRestricted||(this.scanner.isRestrictedWord(m)?(a.firstRestricted=f,a.message=r.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(m)?(a.firstRestricted=f,a.message=r.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(a.paramSet,q)&&(a.stricted=f,a.message=r.Messages.StrictParamDupe));"function"===typeof Object.defineProperty?Object.defineProperty(a.paramSet,q,{value:!0,enumerable:!0,writable:!0,configurable:!0}):a.paramSet[q]=!0};t.parseFormalParameter=function(a){const f=
[],m=this.parsePatternWithDefault(f);for(let q=0;q<f.length;q++)this.validateParam(a,f[q],f[q].value);a.simple=a.simple&&m instanceof l.Identifier;a.params.push(m)};t.parseFormalParameters=function(a){a={simple:!0,params:[],firstRestricted:a};this.expect("(");if(!this.match(")"))for(a.paramSet={};2!==this.lookahead.type;){this.parseFormalParameter(a);if(this.match(")"))break;this.expect(",");if(this.match(")"))break}this.expect(")");return{simple:a.simple,params:a.params,stricted:a.stricted,firstRestricted:a.firstRestricted,
message:a.message}};t.parseFunctionDeclaration=function(a){const f=this.createNode();this.expectKeyword("function");let m,q=null,E=null;a&&this.match("(")||(a=this.lookahead,q=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(a.value)&&this.tolerateUnexpectedToken(a,r.Messages.StrictFunctionName):this.scanner.isRestrictedWord(a.value)?(E=a,m=r.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(a.value)&&(E=a,m=r.Messages.StrictReservedWord));var J=this.parseFormalParameters(E);
a=J.params;const A=J.stricted;E=J.firstRestricted;J.message&&(m=J.message);const G=this.context.strict,c=this.context.allowStrictDirective;this.context.allowStrictDirective=J.simple;J=this.parseFunctionSourceElements();this.context.strict&&E&&this.throwUnexpectedToken(E,m);this.context.strict&&A&&this.tolerateUnexpectedToken(A,m);this.context.strict=G;this.context.allowStrictDirective=c;return this.finalize(f,new l.FunctionDeclaration(q,a,J,!1))};t.parseFunctionExpression=function(){const a=this.createNode();
this.expectKeyword("function");let f,m=null,q;if(!this.match("(")){var E=this.lookahead;m=this.parseVariableIdentifier();this.context.strict?this.scanner.isRestrictedWord(E.value)&&this.tolerateUnexpectedToken(E,r.Messages.StrictFunctionName):this.scanner.isRestrictedWord(E.value)?(q=E,f=r.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(E.value)&&(q=E,f=r.Messages.StrictReservedWord)}var J=this.parseFormalParameters(q);E=J.params;const A=J.stricted;q=J.firstRestricted;J.message&&
(f=J.message);const G=this.context.strict,c=this.context.allowStrictDirective;this.context.allowStrictDirective=J.simple;J=this.parseFunctionSourceElements();this.context.strict&&q&&this.throwUnexpectedToken(q,f);this.context.strict&&A&&this.tolerateUnexpectedToken(A,f);this.context.strict=G;this.context.allowStrictDirective=c;return this.finalize(a,new l.FunctionExpression(m,E,J,!1))};t.qualifiedPropertyName=function(a){switch(a.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return"["===
a.value}return!1};t.isStartOfExpression=function(){let a=!0;const f=this.lookahead.value;switch(this.lookahead.type){case 7:a="["===f||"("===f||"{"===f||"+"===f||"-"===f||"!"===f||"~"===f||"++"===f||"--"===f||"/"===f||"/\x3d"===f;break;case 4:a="class"===f||"delete"===f||"function"===f||"let"===f||"new"===f||"super"===f||"this"===f||"typeof"===f||"void"===f||"yield"===f}return a};t.parseScript=function(){const a=this.createNode(),f=[];for(;2!==this.lookahead.type;)f.push(this.parseStatementListItem());
return this.finalize(a,new l.Script(f))};return h}();w.Parser=d;Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/lib/assert":function(){define(["exports"],function(w){w.assert=function(v,B){if(!v)throw Error("ASSERT: "+B);};Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/lib/error-handler":function(){define(["exports"],function(w){let v=function(){function B(){this.errors=[];this.tolerant=!1}var r=B.prototype;r.recordError=function(l){this.errors.push(l)};r.tolerate=
function(l){if(this.tolerant)this.recordError(l);else throw l;};r.constructError=function(l,k){l=Error(l);try{throw l;}catch(e){Object.create&&Object.defineProperty&&(l=Object.create(e),Object.defineProperty(l,"column",{value:k}))}return l};r.createError=function(l,k,e,g){e=this.constructError("Line "+k+": "+g,e);e.index=l;e.lineNumber=k;e.description=g;return e};r.throwError=function(l,k,e,g){throw this.createError(l,k,e,g);};r.tolerateError=function(l,k,e,g){l=this.createError(l,k,e,g);if(this.tolerant)this.recordError(l);
else throw l;};return B}();w.ErrorHandler=v;Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/lib/messages":function(){define(["exports"],function(w){w.Messages={BadImportCallArity:"Unexpected token",BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",
DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token \x3d",DefaultRestProperty:"Unexpected token \x3d",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",
IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",
InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",
ParameterAfterRestParameter:"Rest parameter must be last formal parameter",PropertyAfterRestProperty:"Unexpected token",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",
StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",
StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",
UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"};Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/lib/nodes":function(){define(["exports","./syntax"],function(w,v){w.ArrayExpression=function(B){this.type=v.Syntax.ArrayExpression;this.elements=B};w.ArrayPattern=function(B){this.type=v.Syntax.ArrayPattern;this.elements=B};w.AssignmentExpression=function(B,r,l){this.type=v.Syntax.AssignmentExpression;this.operator=B;this.left=r;this.right=
l};w.AssignmentPattern=function(B,r){this.type=v.Syntax.AssignmentPattern;this.left=B;this.right=r};w.BinaryExpression=function(B,r,l){this.type="||"===B||"\x26\x26"===B?v.Syntax.LogicalExpression:v.Syntax.BinaryExpression;this.operator=B;this.left=r;this.right=l};w.BlockStatement=function(B){this.type=v.Syntax.BlockStatement;this.body=B};w.BreakStatement=function(B){this.type=v.Syntax.BreakStatement;this.label=B};w.CallExpression=function(B,r){this.type=v.Syntax.CallExpression;this.callee=B;this.arguments=
r};w.ComputedMemberExpression=function(B,r){this.type=v.Syntax.MemberExpression;this.computed=!0;this.object=B;this.property=r};w.ConditionalExpression=function(B,r,l){this.type=v.Syntax.ConditionalExpression;this.test=B;this.consequent=r;this.alternate=l};w.ContinueStatement=function(B){this.type=v.Syntax.ContinueStatement;this.label=B};w.EmptyStatement=function(){this.type=v.Syntax.EmptyStatement};w.ExpressionStatement=function(B){this.type=v.Syntax.ExpressionStatement;this.expression=B};w.ForInStatement=
function(B,r,l){this.type=v.Syntax.ForInStatement;this.left=B;this.right=r;this.body=l;this.each=!1};w.ForStatement=function(B,r,l,k){this.type=v.Syntax.ForStatement;this.init=B;this.test=r;this.update=l;this.body=k};w.FunctionDeclaration=function(B,r,l,k){this.type=v.Syntax.FunctionDeclaration;this.id=B;this.params=r;this.body=l;this.generator=k;this.async=this.expression=!1};w.FunctionExpression=function(B,r,l,k){this.type=v.Syntax.FunctionExpression;this.id=B;this.params=r;this.body=l;this.generator=
k;this.async=this.expression=!1};w.Identifier=function(B){this.type=v.Syntax.Identifier;this.name=B};w.IfStatement=function(B,r,l){this.type=v.Syntax.IfStatement;this.test=B;this.consequent=r;this.alternate=l};w.Literal=function(B,r){this.type=v.Syntax.Literal;this.value=B;this.raw=r};w.MethodDefinition=function(B,r,l,k,e){this.type=v.Syntax.MethodDefinition;this.key=B;this.computed=r;this.value=l;this.kind=k;this.static=e};w.Module=function(B){this.type=v.Syntax.Program;this.body=B;this.sourceType=
"module"};w.ObjectExpression=function(B){this.type=v.Syntax.ObjectExpression;this.properties=B};w.ObjectPattern=function(B){this.type=v.Syntax.ObjectPattern;this.properties=B};w.Property=function(B,r,l,k,e,g){this.type=v.Syntax.Property;this.key=r;this.computed=l;this.value=k;this.kind=B;this.method=e;this.shorthand=g};w.ReturnStatement=function(B){this.type=v.Syntax.ReturnStatement;this.argument=B};w.Script=function(B){this.type=v.Syntax.Program;this.body=B;this.sourceType="script"};w.SequenceExpression=
function(B){this.type=v.Syntax.SequenceExpression;this.expressions=B};w.StaticMemberExpression=function(B,r){this.type=v.Syntax.MemberExpression;this.computed=!1;this.object=B;this.property=r};w.TemplateElement=function(B,r){this.type=v.Syntax.TemplateElement;this.value=B;this.tail=r};w.TemplateLiteral=function(B,r){this.type=v.Syntax.TemplateLiteral;this.quasis=B;this.expressions=r};w.UnaryExpression=function(B,r){this.type=v.Syntax.UnaryExpression;this.operator=B;this.argument=r;this.prefix=!0};
w.UpdateExpression=function(B,r,l){this.type=v.Syntax.UpdateExpression;this.operator=B;this.argument=r;this.prefix=l};w.VariableDeclaration=function(B,r){this.type=v.Syntax.VariableDeclaration;this.declarations=B;this.kind=r};w.VariableDeclarator=function(B,r){this.type=v.Syntax.VariableDeclarator;this.id=B;this.init=r};Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/lib/scanner":function(){define(["exports","./assert","./character","./messages"],function(w,v,B,r){let l=function(){function k(g,
d){this.source=g;this.errorHandler=d;this.isModule=this.trackComment=!1;this.length=g.length;this.index=0;this.lineNumber=0<g.length?1:0;this.lineStart=0;this.curlyStack=[]}var e=k.prototype;e.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart,curlyStack:this.curlyStack.slice()}};e.restoreState=function(g){this.index=g.index;this.lineNumber=g.lineNumber;this.lineStart=g.lineStart;this.curlyStack=g.curlyStack};e.eof=function(){return this.index>=this.length};
e.throwUnexpectedToken=function(g=r.Messages.UnexpectedTokenIllegal){return this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,g)};e.tolerateUnexpectedToken=function(g=r.Messages.UnexpectedTokenIllegal){this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,g)};e.skipSingleLineComment=function(g){let d=[],h,t;this.trackComment&&(d=[],h=this.index-g,t={start:{line:this.lineNumber,column:this.index-this.lineStart-g},end:{}});for(;!this.eof();){const a=
this.source.charCodeAt(this.index);++this.index;if(B.Character.isLineTerminator(a))return this.trackComment&&(t.end={line:this.lineNumber,column:this.index-this.lineStart-1},d.push({multiLine:!1,slice:[h+g,this.index-1],range:[h,this.index-1],loc:t})),13===a&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,d}this.trackComment&&(t.end={line:this.lineNumber,column:this.index-this.lineStart},d.push({multiLine:!1,slice:[h+g,this.index],range:[h,this.index],
loc:t}));return d};e.skipMultiLineComment=function(){let g=[],d,h;this.trackComment&&(g=[],d=this.index-2,h={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});for(;!this.eof();){const t=this.source.charCodeAt(this.index);if(B.Character.isLineTerminator(t))13===t&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else{if(42===t&&47===this.source.charCodeAt(this.index+1))return this.index+=2,this.trackComment&&(h.end=
{line:this.lineNumber,column:this.index-this.lineStart},g.push({multiLine:!0,slice:[d+2,this.index-2],range:[d,this.index],loc:h})),g;++this.index}}this.trackComment&&(h.end={line:this.lineNumber,column:this.index-this.lineStart},g.push({multiLine:!0,slice:[d+2,this.index],range:[d,this.index],loc:h}));this.tolerateUnexpectedToken();return g};e.scanComments=function(){let g;this.trackComment&&(g=[]);for(var d=0===this.index;!this.eof();){var h=this.source.charCodeAt(this.index);if(B.Character.isWhiteSpace(h))++this.index;
else if(B.Character.isLineTerminator(h))++this.index,13===h&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,d=!0;else if(47===h)if(h=this.source.charCodeAt(this.index+1),47===h)this.index+=2,d=this.skipSingleLineComment(2),this.trackComment&&(g=g.concat(d)),d=!0;else if(42===h)this.index+=2,h=this.skipMultiLineComment(),this.trackComment&&(g=g.concat(h));else break;else if(d&&45===h)if(45===this.source.charCodeAt(this.index+1)&&62===this.source.charCodeAt(this.index+
2))this.index+=3,h=this.skipSingleLineComment(3),this.trackComment&&(g=g.concat(h));else break;else if(60!==h||this.isModule)break;else if("!--"===this.source.slice(this.index+1,this.index+4))this.index+=4,h=this.skipSingleLineComment(4),this.trackComment&&(g=g.concat(h));else break}return g};e.isFutureReservedWord=function(g){return!1};e.isStrictModeReservedWord=function(g){return!1};e.isRestrictedWord=function(g){return!1};e.isKeyword=function(g){g=g.toLowerCase();switch(g.length){case 2:return"if"===
g||"in"===g;case 3:return"var"===g||"for"===g;case 4:return"else"===g;case 5:return"break"===g;case 6:return"return"===g;case 8:return"function"===g||"continue"===g;default:return!1}};e.codePointAt=function(g){let d=this.source.charCodeAt(g);55296<=d&&56319>=d&&(g=this.source.charCodeAt(g+1),56320<=g&&57343>=g&&(d=1024*(d-55296)+g-56320+65536));return d};e.scanHexEscape=function(g){g="u"===g?4:2;let d=0;for(let h=0;h<g;++h)if(!this.eof()&&B.Character.isHexDigit(this.source.charCodeAt(this.index)))d=
16*d+"0123456789abcdef".indexOf(this.source[this.index++].toLowerCase());else return null;return String.fromCharCode(d)};e.scanUnicodeCodePointEscape=function(){let g=this.source[this.index],d=0;for("}"===g&&this.throwUnexpectedToken();!this.eof();){g=this.source[this.index++];if(!B.Character.isHexDigit(g.charCodeAt(0)))break;d=16*d+"0123456789abcdef".indexOf(g.toLowerCase())}(1114111<d||"}"!==g)&&this.throwUnexpectedToken();return B.Character.fromCodePoint(d)};e.getIdentifier=function(){const g=
this.index++;for(;!this.eof();){const d=this.source.charCodeAt(this.index);if(92===d||55296<=d&&57343>d)return this.index=g,this.getComplexIdentifier();if(B.Character.isIdentifierPart(d))++this.index;else break}return this.source.slice(g,this.index)};e.getComplexIdentifier=function(){let g=this.codePointAt(this.index),d=B.Character.fromCodePoint(g);this.index+=d.length;let h;92===g&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,
h=this.scanUnicodeCodePointEscape()):(h=this.scanHexEscape("u"),null!==h&&"\\"!==h&&B.Character.isIdentifierStart(h.charCodeAt(0))||this.throwUnexpectedToken()),d=h);for(;!this.eof();){g=this.codePointAt(this.index);if(!B.Character.isIdentifierPart(g))break;h=B.Character.fromCodePoint(g);d+=h;this.index+=h.length;92===g&&(d=d.substr(0,d.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,h=this.scanUnicodeCodePointEscape()):
(h=this.scanHexEscape("u"),null!==h&&"\\"!==h&&B.Character.isIdentifierPart(h.charCodeAt(0))||this.throwUnexpectedToken()),d+=h)}return d};e.octalToDecimal=function(g){let d="0"!==g,h="01234567".indexOf(g);!this.eof()&&B.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(d=!0,h=8*h+"01234567".indexOf(this.source[this.index++]),0<="0123".indexOf(g)&&!this.eof()&&B.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(h=8*h+"01234567".indexOf(this.source[this.index++])));return{code:h,
octal:d}};e.scanIdentifier=function(){let g;const d=this.index,h=92===this.source.charCodeAt(d)?this.getComplexIdentifier():this.getIdentifier();g=1===h.length?3:this.isKeyword(h)?4:"null"===h.toLowerCase()?5:"true"===h.toLowerCase()||"false"===h.toLowerCase()?1:3;if(3!==g&&d+h.length!==this.index){const t=this.index;this.index=d;this.tolerateUnexpectedToken(r.Messages.InvalidEscapedReservedWord);this.index=t}return{type:g,value:h,lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}};
e.scanPunctuator=function(){const g=this.index;let d=this.source[this.index];switch(d){case "(":case "{":"{"===d&&this.curlyStack.push("{");++this.index;break;case ".":++this.index;"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,d="...");break;case "}":++this.index;this.curlyStack.pop();break;case ")":case ";":case ",":case "[":case "]":case ":":case "?":case "~":++this.index;break;default:d=this.source.substr(this.index,4),"\x3e\x3e\x3e\x3d"===d?this.index+=4:(d=d.substr(0,
3),"\x3d\x3d\x3d"===d||"!\x3d\x3d"===d||"\x3e\x3e\x3e"===d||"\x3c\x3c\x3d"===d||"\x3e\x3e\x3d"===d||"**\x3d"===d?this.index+=3:(d=d.substr(0,2),"\x26\x26"===d||"||"===d||"\x3d\x3d"===d||"!\x3d"===d||"+\x3d"===d||"-\x3d"===d||"*\x3d"===d||"/\x3d"===d||"++"===d||"--"===d||"\x3c\x3c"===d||"\x3e\x3e"===d||"\x26\x3d"===d||"|\x3d"===d||"^\x3d"===d||"%\x3d"===d||"\x3c\x3d"===d||"\x3e\x3d"===d||"\x3d\x3e"===d||"**"===d?this.index+=2:(d=this.source[this.index],0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(d)&&++this.index)))}this.index===
g&&this.throwUnexpectedToken();return{type:7,value:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}};e.scanHexLiteral=function(g){let d="";for(;!this.eof()&&B.Character.isHexDigit(this.source.charCodeAt(this.index));)d+=this.source[this.index++];0===d.length&&this.throwUnexpectedToken();B.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();return{type:6,value:parseInt("0x"+d,16),lineNumber:this.lineNumber,lineStart:this.lineStart,
start:g,end:this.index}};e.scanBinaryLiteral=function(g){let d="",h;for(;!this.eof();){h=this.source[this.index];if("0"!==h&&"1"!==h)break;d+=this.source[this.index++]}0===d.length&&this.throwUnexpectedToken();this.eof()||(h=this.source.charCodeAt(this.index),(B.Character.isIdentifierStart(h)||B.Character.isDecimalDigit(h))&&this.throwUnexpectedToken());return{type:6,value:parseInt(d,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}};e.scanOctalLiteral=function(g,d){let h=
"",t=!1;B.Character.isOctalDigit(g.charCodeAt(0))?(t=!0,h="0"+this.source[this.index++]):++this.index;for(;!this.eof()&&B.Character.isOctalDigit(this.source.charCodeAt(this.index));)h+=this.source[this.index++];t||0!==h.length||this.throwUnexpectedToken();(B.Character.isIdentifierStart(this.source.charCodeAt(this.index))||B.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken();return{type:6,value:parseInt(h,8),octal:t,lineNumber:this.lineNumber,lineStart:this.lineStart,
start:d,end:this.index}};e.scanNumericLiteral=function(){const g=this.index;let d=this.source[g];v.assert(B.Character.isDecimalDigit(d.charCodeAt(0))||"."===d,"Numeric literal must start with a decimal digit or a decimal point");let h="";if("."!==d){h=this.source[this.index++];d=this.source[this.index];if("0"===h){if("x"===d||"X"===d)return++this.index,this.scanHexLiteral(g);if("b"===d||"B"===d)return++this.index,this.scanBinaryLiteral(g);if("o"===d||"O"===d)return this.scanOctalLiteral(d,g)}for(;B.Character.isDecimalDigit(this.source.charCodeAt(this.index));)h+=
this.source[this.index++];d=this.source[this.index]}if("."===d){for(h+=this.source[this.index++];B.Character.isDecimalDigit(this.source.charCodeAt(this.index));)h+=this.source[this.index++];d=this.source[this.index]}if("e"===d||"E"===d){h+=this.source[this.index++];d=this.source[this.index];if("+"===d||"-"===d)h+=this.source[this.index++];if(B.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;B.Character.isDecimalDigit(this.source.charCodeAt(this.index));)h+=this.source[this.index++];
else this.throwUnexpectedToken()}B.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();return{type:6,value:parseFloat(h),lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}};e.scanStringLiteral=function(){const g=this.index;let d=this.source[g];v.assert("'"===d||'"'===d,"String literal must starts with a quote");++this.index;let h=!1,t="";for(;!this.eof();){var a=this.source[this.index++];if(a===d){d="";break}if("\\"===a)if((a=this.source[this.index++])&&
B.Character.isLineTerminator(a.charCodeAt(0)))++this.lineNumber,"\r"===a&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(a){case "u":"{"===this.source[this.index]?(++this.index,t+=this.scanUnicodeCodePointEscape()):(a=this.scanHexEscape(a),null===a&&this.throwUnexpectedToken(),t+=a);break;case "x":a=this.scanHexEscape(a);null===a&&this.throwUnexpectedToken(r.Messages.InvalidHexEscapeSequence);t+=a;break;case "n":t+="\n";break;case "r":t+="\r";break;case "t":t+=
"\t";break;case "b":t+="\b";break;case "f":t+="\f";break;case "v":t+="\x0B";break;case "8":case "9":t+=a;this.tolerateUnexpectedToken();break;default:a&&B.Character.isOctalDigit(a.charCodeAt(0))?(a=this.octalToDecimal(a),h=a.octal||h,t+=String.fromCharCode(a.code)):t+=a}else if(B.Character.isLineTerminator(a.charCodeAt(0)))break;else t+=a}""!==d&&(this.index=g,this.throwUnexpectedToken());return{type:8,value:t,octal:h,lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}};e.scanTemplate=
function(){let g="",d=!1;const h=this.index,t="`"===this.source[h];let a=!1,f=2;for(++this.index;!this.eof();){var m=this.source[this.index++];if("`"===m){f=1;d=a=!0;break}if("$"===m){if("{"===this.source[this.index]){this.curlyStack.push("${");++this.index;d=!0;break}g+=m}else if("\\"===m)if(m=this.source[this.index++],B.Character.isLineTerminator(m.charCodeAt(0)))++this.lineNumber,"\r"===m&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(m){case "n":g+="\n";break;
case "r":g+="\r";break;case "t":g+="\t";break;case "u":if("{"===this.source[this.index])++this.index,g+=this.scanUnicodeCodePointEscape();else{const q=this.index,E=this.scanHexEscape(m);null!==E?g+=E:(this.index=q,g+=m)}break;case "x":m=this.scanHexEscape(m);null===m&&this.throwUnexpectedToken(r.Messages.InvalidHexEscapeSequence);g+=m;break;case "b":g+="\b";break;case "f":g+="\f";break;case "v":g+="\v";break;default:"0"===m?(B.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(r.Messages.TemplateOctalLiteral),
g+="\x00"):B.Character.isOctalDigit(m.charCodeAt(0))?this.throwUnexpectedToken(r.Messages.TemplateOctalLiteral):g+=m}else B.Character.isLineTerminator(m.charCodeAt(0))?(++this.lineNumber,"\r"===m&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,g+="\n"):g+=m}d||this.throwUnexpectedToken();t||this.curlyStack.pop();return{type:10,value:this.source.slice(h+1,this.index-f),cooked:g,head:t,tail:a,lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}};e.testRegExp=
function(g,d){let h=g;0<=d.indexOf("u")&&(h=h.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,(t,a,f)=>{t=parseInt(a||f,16);1114111<t&&this.throwUnexpectedToken(r.Messages.InvalidRegExp);return 65535>=t?String.fromCharCode(t):"\uffff"}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"\uffff"));try{RegExp(h)}catch(t){this.throwUnexpectedToken(r.Messages.InvalidRegExp)}try{return new RegExp(g,d)}catch(t){return null}};e.scanRegExpBody=function(){let g=this.source[this.index];v.assert("/"===g,"Regular expression literal must start with a slash");
let d=this.source[this.index++],h=!1,t=!1;for(;!this.eof();)if(g=this.source[this.index++],d+=g,"\\"===g)g=this.source[this.index++],B.Character.isLineTerminator(g.charCodeAt(0))&&this.throwUnexpectedToken(r.Messages.UnterminatedRegExp),d+=g;else if(B.Character.isLineTerminator(g.charCodeAt(0)))this.throwUnexpectedToken(r.Messages.UnterminatedRegExp);else if(h)"]"===g&&(h=!1);else{if("/"===g){t=!0;break}"["===g&&(h=!0)}t||this.throwUnexpectedToken(r.Messages.UnterminatedRegExp);return d.substr(1,
d.length-2)};e.scanRegExpFlags=function(){let g="";for(;!this.eof();){var d=this.source[this.index];if(!B.Character.isIdentifierPart(d.charCodeAt(0)))break;++this.index;if("\\"!==d||this.eof())g+=d;else{d=this.source[this.index];if("u"===d){++this.index;d=this.index;const h=this.scanHexEscape("u");if(null!==h)for(g+=h;d<this.index;++d);else this.index=d,g+="u"}this.tolerateUnexpectedToken()}}return g};e.scanRegExp=function(){const g=this.index,d=this.scanRegExpBody(),h=this.scanRegExpFlags(),t=this.testRegExp(d,
h);return{type:9,value:"",pattern:d,flags:h,regex:t,lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}};e.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};const g=this.source.charCodeAt(this.index);return B.Character.isIdentifierStart(g)?this.scanIdentifier():40===g||41===g||59===g?this.scanPunctuator():39===g||34===g?this.scanStringLiteral():46===g?B.Character.isDecimalDigit(this.source.charCodeAt(this.index+
1))?this.scanNumericLiteral():this.scanPunctuator():B.Character.isDecimalDigit(g)?this.scanNumericLiteral():96===g||125===g&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():55296<=g&&57343>g&&B.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()};return k}();w.Scanner=l;Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/lib/character":function(){define(["exports"],function(w){var v=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDEC0-\uDEEB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,
B=/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D3-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDF00-\uDF1C\uDF27\uDF30-\uDF50\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD46\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E\uDC5F\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/;
const r={fromCodePoint(l){return 65536>l?String.fromCharCode(l):String.fromCharCode(55296+(l-65536>>10))+String.fromCharCode(56320+(l-65536&1023))},isWhiteSpace(l){return 32===l||9===l||11===l||12===l||160===l||5760<=l&&0<=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(l)},isLineTerminator(l){return 10===l||13===l||8232===l||8233===l},isIdentifierStart(l){return 36===l||95===l||65<=l&&90>=l||97<=l&&122>=l||92===l||128<=l&&v.test(r.fromCodePoint(l))},isIdentifierPart(l){return 36===
l||95===l||65<=l&&90>=l||97<=l&&122>=l||48<=l&&57>=l||92===l||128<=l&&B.test(r.fromCodePoint(l))},isDecimalDigit(l){return 48<=l&&57>=l},isHexDigit(l){return 48<=l&&57>=l||65<=l&&70>=l||97<=l&&102>=l},isOctalDigit(l){return 48<=l&&55>=l}};w.Character=r;Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/lib/token":function(){define(["exports"],function(w){w.TokenName={1:"Boolean",2:"\x3cend\x3e",3:"Identifier",4:"Keyword",5:"Null",6:"Numeric",7:"Punctuator",8:"String",9:"RegularExpression",
10:"Template"};Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/lib/tokenizer":function(){define(["exports","./error-handler","./scanner","./token"],function(w,v,B,r){let l=function(){function e(){this.values=[];this.curly=this.paren=-1}var g=e.prototype;g.beforeFunctionExpression=function(d){return 0<="( { [ in typeof instanceof new return case delete throw void \x3d +\x3d -\x3d *\x3d **\x3d /\x3d %\x3d \x3c\x3c\x3d \x3e\x3e\x3d \x3e\x3e\x3e\x3d \x26\x3d |\x3d ^\x3d , + - * ** / % ++ -- \x3c\x3c \x3e\x3e \x3e\x3e\x3e \x26 | ^ ! ~ \x26\x26 || ? : \x3d\x3d\x3d \x3d\x3d \x3e\x3d \x3c\x3d \x3c \x3e !\x3d !\x3d\x3d".split(" ").indexOf(d)};
g.isRegexStart=function(){var d=this.values[this.values.length-1];let h=null!==d;switch(d){case "this":case "]":h=!1;break;case ")":d=this.values[this.paren-1];h="if"===d||"while"===d||"for"===d||"with"===d;break;case "}":h=!0,"function"===this.values[this.curly-3]?h=(d=this.values[this.curly-4])?!this.beforeFunctionExpression(d):!1:"function"===this.values[this.curly-4]&&(h=(d=this.values[this.curly-5])?!this.beforeFunctionExpression(d):!0)}return h};g.push=function(d){7===d.type||4===d.type?("{"===
d.value?this.curly=this.values.length:"("===d.value&&(this.paren=this.values.length),this.values.push(d.value)):this.values.push(null)};return e}(),k=function(){function e(d,h){this.errorHandler=new v.ErrorHandler;this.errorHandler.tolerant=h?"boolean"===typeof h.tolerant&&h.tolerant:!1;this.scanner=new B.Scanner(d,this.errorHandler);this.scanner.trackComment=h?"boolean"===typeof h.comment&&h.comment:!1;this.trackRange=h?"boolean"===typeof h.range&&h.range:!1;this.trackLoc=h?"boolean"===typeof h.loc&&
h.loc:!1;this.buffer=[];this.reader=new l}var g=e.prototype;g.errors=function(){return this.errorHandler.errors};g.getNextToken=function(){if(0===this.buffer.length){var d=this.scanner.scanComments();if(this.scanner.trackComment)for(let t=0;t<d.length;++t){const a=d[t];var h=this.scanner.source.slice(a.slice[0],a.slice[1]);h={type:a.multiLine?"BlockComment":"LineComment",value:h};this.trackRange&&(h.range=a.range);this.trackLoc&&(h.loc=a.loc);this.buffer.push(h)}if(!this.scanner.eof()){let t;this.trackLoc&&
(t={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});let a;if("/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart()){d=this.scanner.saveState();try{a=this.scanner.scanRegExp()}catch(f){this.scanner.restoreState(d),a=this.scanner.lex()}}else a=this.scanner.lex();this.reader.push(a);d={type:r.TokenName[a.type],value:this.scanner.source.slice(a.start,a.end)};this.trackRange&&(d.range=[a.start,a.end]);this.trackLoc&&(t.end={line:this.scanner.lineNumber,
column:this.scanner.index-this.scanner.lineStart},d.loc=t);9===a.type&&(d.regex={pattern:a.pattern,flags:a.flags});this.buffer.push(d)}}return this.buffer.shift()};return e}();w.Tokenizer=k;Object.defineProperty(w,"__esModule",{value:!0})})},"esri/intl/moment":function(){define(["require","exports","../chunks/_rollupPluginBabelHelpers","./locale"],function(w,v,B,r){function l(){l=B._asyncToGenerator(function*(e=r.getLocale()){const g=(yield(new Promise(function(h,t){w(["../chunks/moment"],h,t)})).then(function(h){return h.moment})).default;
e=e.toLowerCase();let d=k.has(e);if(!d){const h=e.split("-");1<h.length&&k.has(h[0])&&(e=h[0],d=!0)}d?yield k.get(e)():e="en";e!==g.locale()&&g.locale(e);return g});return l.apply(this,arguments)}const k=new Map([["ar",()=>(new Promise(function(e,g){w(["../chunks/ar"],e,g)})).then(function(e){return e.ar})],["ar-dz",()=>(new Promise(function(e,g){w(["../chunks/ar-dz"],e,g)})).then(function(e){return e.arDz})],["ar-kw",()=>(new Promise(function(e,g){w(["../chunks/ar-kw"],e,g)})).then(function(e){return e.arKw})],
["ar-ly",()=>(new Promise(function(e,g){w(["../chunks/ar-ly"],e,g)})).then(function(e){return e.arLy})],["ar-ma",()=>(new Promise(function(e,g){w(["../chunks/ar-ma"],e,g)})).then(function(e){return e.arMa})],["ar-sa",()=>(new Promise(function(e,g){w(["../chunks/ar-sa"],e,g)})).then(function(e){return e.arSa})],["ar-tn",()=>(new Promise(function(e,g){w(["../chunks/ar-tn"],e,g)})).then(function(e){return e.arTn})],["bs",()=>(new Promise(function(e,g){w(["../chunks/bs"],e,g)})).then(function(e){return e.bs})],
["ca",()=>(new Promise(function(e,g){w(["../chunks/ca"],e,g)})).then(function(e){return e.ca})],["cs",()=>(new Promise(function(e,g){w(["../chunks/cs"],e,g)})).then(function(e){return e.cs})],["da",()=>(new Promise(function(e,g){w(["../chunks/da"],e,g)})).then(function(e){return e.da})],["de",()=>(new Promise(function(e,g){w(["../chunks/de"],e,g)})).then(function(e){return e.de})],["de-at",()=>(new Promise(function(e,g){w(["../chunks/de-at"],e,g)})).then(function(e){return e.deAt})],["de-ch",()=>
(new Promise(function(e,g){w(["../chunks/de-ch"],e,g)})).then(function(e){return e.deCh})],["el",()=>(new Promise(function(e,g){w(["../chunks/el"],e,g)})).then(function(e){return e.el})],["en-au",()=>(new Promise(function(e,g){w(["../chunks/en-au"],e,g)})).then(function(e){return e.enAu})],["en-ca",()=>(new Promise(function(e,g){w(["../chunks/en-ca"],e,g)})).then(function(e){return e.enCa})],["en-gb",()=>(new Promise(function(e,g){w(["../chunks/en-gb"],e,g)})).then(function(e){return e.enGb})],["en-ie",
()=>(new Promise(function(e,g){w(["../chunks/en-ie"],e,g)})).then(function(e){return e.enIe})],["en-il",()=>(new Promise(function(e,g){w(["../chunks/en-il"],e,g)})).then(function(e){return e.enIl})],["en-in",()=>(new Promise(function(e,g){w(["../chunks/en-in"],e,g)})).then(function(e){return e.enIn})],["en-nz",()=>(new Promise(function(e,g){w(["../chunks/en-nz"],e,g)})).then(function(e){return e.enNz})],["en-sg",()=>(new Promise(function(e,g){w(["../chunks/en-sg"],e,g)})).then(function(e){return e.enSg})],
["es",()=>(new Promise(function(e,g){w(["../chunks/es"],e,g)})).then(function(e){return e.es})],["es-do",()=>(new Promise(function(e,g){w(["../chunks/es-do"],e,g)})).then(function(e){return e.esDo})],["es-mx",()=>(new Promise(function(e,g){w(["../chunks/es-mx"],e,g)})).then(function(e){return e.esMx})],["es-us",()=>(new Promise(function(e,g){w(["../chunks/es-us"],e,g)})).then(function(e){return e.esUs})],["et",()=>(new Promise(function(e,g){w(["../chunks/et"],e,g)})).then(function(e){return e.et})],
["fi",()=>(new Promise(function(e,g){w(["../chunks/fi"],e,g)})).then(function(e){return e.fi})],["fr",()=>(new Promise(function(e,g){w(["../chunks/fr"],e,g)})).then(function(e){return e.fr})],["fr-ca",()=>(new Promise(function(e,g){w(["../chunks/fr-ca"],e,g)})).then(function(e){return e.frCa})],["fr-ch",()=>(new Promise(function(e,g){w(["../chunks/fr-ch"],e,g)})).then(function(e){return e.frCh})],["he",()=>(new Promise(function(e,g){w(["../chunks/he"],e,g)})).then(function(e){return e.he})],["hr",
()=>(new Promise(function(e,g){w(["../chunks/hr"],e,g)})).then(function(e){return e.hr})],["hu",()=>(new Promise(function(e,g){w(["../chunks/hu"],e,g)})).then(function(e){return e.hu})],["id",()=>(new Promise(function(e,g){w(["../chunks/id"],e,g)})).then(function(e){return e.id})],["it",()=>(new Promise(function(e,g){w(["../chunks/it"],e,g)})).then(function(e){return e.it})],["it-ch",()=>(new Promise(function(e,g){w(["../chunks/it-ch"],e,g)})).then(function(e){return e.itCh})],["ja",()=>(new Promise(function(e,
g){w(["../chunks/ja"],e,g)})).then(function(e){return e.ja})],["ko",()=>(new Promise(function(e,g){w(["../chunks/ko"],e,g)})).then(function(e){return e.ko})],["lt",()=>(new Promise(function(e,g){w(["../chunks/lt"],e,g)})).then(function(e){return e.lt})],["lv",()=>(new Promise(function(e,g){w(["../chunks/lv"],e,g)})).then(function(e){return e.lv})],["nb",()=>(new Promise(function(e,g){w(["../chunks/nb"],e,g)})).then(function(e){return e.nb})],["nl",()=>(new Promise(function(e,g){w(["../chunks/nl"],
e,g)})).then(function(e){return e.nl})],["nl-be",()=>(new Promise(function(e,g){w(["../chunks/nl-be"],e,g)})).then(function(e){return e.nlBe})],["pl",()=>(new Promise(function(e,g){w(["../chunks/pl"],e,g)})).then(function(e){return e.pl})],["pt",()=>(new Promise(function(e,g){w(["../chunks/pt"],e,g)})).then(function(e){return e.pt})],["pt-br",()=>(new Promise(function(e,g){w(["../chunks/pt-br"],e,g)})).then(function(e){return e.ptBr})],["ro",()=>(new Promise(function(e,g){w(["../chunks/ro"],e,g)})).then(function(e){return e.ro})],
["ru",()=>(new Promise(function(e,g){w(["../chunks/ru"],e,g)})).then(function(e){return e.ru})],["sk",()=>(new Promise(function(e,g){w(["../chunks/sk"],e,g)})).then(function(e){return e.sk})],["sl",()=>(new Promise(function(e,g){w(["../chunks/sl"],e,g)})).then(function(e){return e.sl})],["sr",()=>(new Promise(function(e,g){w(["../chunks/sr"],e,g)})).then(function(e){return e.sr})],["sr-cyrl",()=>(new Promise(function(e,g){w(["../chunks/sr-cyrl"],e,g)})).then(function(e){return e.srCyrl})],["sv",()=>
(new Promise(function(e,g){w(["../chunks/sv"],e,g)})).then(function(e){return e.sv})],["th",()=>(new Promise(function(e,g){w(["../chunks/th"],e,g)})).then(function(e){return e.th})],["tr",()=>(new Promise(function(e,g){w(["../chunks/tr"],e,g)})).then(function(e){return e.tr})],["uk",()=>(new Promise(function(e,g){w(["../chunks/uk"],e,g)})).then(function(e){return e.uk})],["vi",()=>(new Promise(function(e,g){w(["../chunks/vi"],e,g)})).then(function(e){return e.vi})],["zh-cn",()=>(new Promise(function(e,
g){w(["../chunks/zh-cn"],e,g)})).then(function(e){return e.zhCn})],["zh-hk",()=>(new Promise(function(e,g){w(["../chunks/zh-hk"],e,g)})).then(function(e){return e.zhHk})],["zh-mo",()=>(new Promise(function(e,g){w(["../chunks/zh-mo"],e,g)})).then(function(e){return e.zhMo})],["zh-tw",()=>(new Promise(function(e,g){w(["../chunks/zh-tw"],e,g)})).then(function(e){return e.zhTw})]]);v.loadMoment=function(){return l.apply(this,arguments)};Object.defineProperty(v,"__esModule",{value:!0})})},"*noref":1}});
define("exports ../chunks/arcade ../arcade/Dictionary ../arcade/Feature ../core/lang ../renderers/visualVariables/support/sizeVariableUtils".split(" "),function(w,v,B,r,l,k){function e(f){if(!f)return null;try{return v.parseScript(f)}catch(m){}return null}function g(f,m){if(!f)return!1;if("string"===typeof f)return m(f);if("simple"===f.type||"class-breaks"===f.type||"unique-value"===f.type||"dot-density"===f.type||"dictionary"===f.type){if("dot-density"===f.type){var q=f.attributes.some(E=>m(E.valueExpression));
if(q)return q}q=f.visualVariables;q=!!q&&q.some(E=>{let J=m(E.valueExpression);"size"===E.type&&(k.isSizeVariable(E.minSize)&&(J=J||m(E.minSize.valueExpression)),k.isSizeVariable(E.maxSize)&&(J=J||m(E.maxSize.valueExpression)));return J});return"valueExpression"in f&&m(f.valueExpression)?!0:q}return"esri.layers.support.LabelClass"===f.declaredClass?(f=f.labelExpressionInfo&&f.labelExpressionInfo.expression,!(!f||!m(f))||!1):"esri.PopupTemplate"===f.declaredClass?!!f.expressionInfos&&f.expressionInfos.some(E=>
m(E.expression)):!1}function d(f){f=e(f);return!!f&&v.scriptTouchesGeometry(f)}function h(f){f=e(f);return!!f&&v.scriptUsesGeometryEngine(f)}const t=/^\$feature\./i,a={vars:{$feature:"any",$view:"any"},spatialReference:null};w.arcade=v.arcade;w.Dictionary=B;w.arcadeFeature=r;w.convertFeatureLayerToFeatureSet=function(f,m){if(null===f)return null;const q=v.featureSetUtils();return q?q.constructFeatureSet(f,m):null};w.convertMapToFeatureSetCollection=function(f){if(null===f||null===f.map)return null;
const m=v.featureSetUtils();return m?m.createFeatureSetCollectionFromMap(f.map,f.spatialReference):null};w.convertServiceUrlToWorkspace=function(f,m){const q=v.featureSetUtils();return q?q.createFeatureSetCollectionFromService(f,m):null};w.createExecContext=function(f,m){return{vars:{$feature:null==f?new r:r.createFromGraphic(f),$view:m&&m.view},spatialReference:m&&m.sr}};w.createFeature=function(f,m,q){return r.createFromGraphicLikeObject(m,f,q)};w.createFunction=function(f,m){f="string"===typeof f?
e(f):f;if(!f)return null;try{return m=m||l.clone(a),v.compileScript(f,m)}catch(q){}return null};w.createSyntaxTree=e;w.dependsOnView=function(f){return v.referencesMember(f,"$view")};w.enableFeatureSetOperations=function(){return v.enableFeatureSetSupport()};w.enableGeometryOperations=function(){return v.enableGeometrySupport()};w.evalSyntaxTree=function(f,m){let q;try{q=v.executeScript(f,m)}catch(E){q=null}return q};w.executeAsyncFunction=function(f,m){try{return f?f(m):Promise.resolve(null)}catch(q){return Promise.resolve(null)}};
w.executeFunction=function(f,m){let q;try{q=f?f(m):null}catch(E){q=null}return q};w.extractFieldNames=function(f){if(!f)return[];f="string"===typeof f?e(f):f;if(!f)return[];const m=[];v.extractFieldLiterals(f).forEach(q=>{t.test(q)&&(q=q.replace(t,""),m.push(q))});m.sort();return m.filter((q,E)=>0===E||m[E-1]!==q)};w.getViewInfo=function(f){if(f&&(null!=f.spatialReference||null!=f.scale&&null!=f.viewingMode))return{view:f.viewingMode&&null!=f.scale?new B({viewingMode:f.viewingMode,scale:f.scale}):
null,sr:f.spatialReference}};w.hasGeometryFunctions=function(f){return g(f,d)};w.hasGeometryOperations=function(f){return g(f,h)};w.hasVariable=function(f,m){return f?v.referencesMember(f,m):!1};w.loadScriptDependencies=function(f,m,q=[]){return v.loadScriptDependencies(f,m,q)};w.updateExecContext=function(f,m){f.vars.$feature=m};Object.defineProperty(w,"__esModule",{value:!0})});