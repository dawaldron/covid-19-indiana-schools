// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("exports ../../kernel ../kernel ../../chunks/languageUtils ./centroid ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../geometry/support/jsonUtils".split(" "),function(v,A,m,c,w,t,k,x,u,q,r,y){function z(g){return 0===A.version.indexOf("4.")?q.fromExtent(g):new q({spatialReference:g.spatialReference,rings:[[[g.xmin,g.ymin],[g.xmin,g.ymax],[g.xmax,g.ymax],[g.xmax,g.ymin],[g.xmin,g.ymin]]]})}let h=
null;v.registerFunctions=function(g,l){function p(d){c.pcCheck(d,2,2);if(!(d[0]instanceof k&&d[1]instanceof k||d[0]instanceof k&&null===d[1]||d[1]instanceof k&&null===d[0]||null===d[0]&&null===d[1]))throw Error("Illegal Argument");}g.disjoint=function(d,f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);p(a);return null===a[0]||null===a[1]?!0:h.disjoint(a[0],a[1])})};g.intersects=function(d,f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);p(a);return null===a[0]||null===
a[1]?!1:h.intersects(a[0],a[1])})};g.touches=function(d,f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);p(a);return null===a[0]||null===a[1]?!1:h.touches(a[0],a[1])})};g.crosses=function(d,f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);p(a);return null===a[0]||null===a[1]?!1:h.crosses(a[0],a[1])})};g.within=function(d,f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);p(a);return null===a[0]||null===a[1]?!1:h.within(a[0],a[1])})};g.contains=function(d,
f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);p(a);return null===a[0]||null===a[1]?!1:h.contains(a[0],a[1])})};g.overlaps=function(d,f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);p(a);return null===a[0]||null===a[1]?!1:h.overlaps(a[0],a[1])})};g.equals=function(d,f){return l(d,f,function(b,e,a){c.pcCheck(a,2,2);return a[0]===a[1]?!0:a[0]instanceof k&&a[1]instanceof k?h.equals(a[0],a[1]):c.isDate(a[0])&&c.isDate(a[1])?a[0].getTime()===a[1].getTime():!1})};g.relate=
function(d,f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);c.pcCheck(a,3,3);if(a[0]instanceof k&&a[1]instanceof k)return h.relate(a[0],a[1],c.toString(a[2]));if(a[0]instanceof k&&null===a[1]||a[1]instanceof k&&null===a[0]||null===a[0]&&null===a[1])return!1;throw Error("Illegal Argument");})};g.intersection=function(d,f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);p(a);return null===a[0]||null===a[1]?null:h.intersect(a[0],a[1])})};g.union=function(d,f){return l(d,
f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);b=[];if(0===a.length)throw Error("Function called with wrong number of Parameters");if(1===a.length)if(c.isArray(a[0]))for(a=c.autoCastFeatureToGeometry(a[0]),e=0;e<a.length;e++){if(null!==a[e]){if(!(a[e]instanceof k))throw Error("Illegal Argument");b.push(a[e])}}else if(c.isImmutableArray(a[0]))for(a=c.autoCastFeatureToGeometry(a[0].toArray()),e=0;e<a.length;e++){if(null!==a[e]){if(!(a[e]instanceof k))throw Error("Illegal Argument");b.push(a[e])}}else{if(a[0]instanceof
k)return c.fixSpatialReference(m.cloneGeometry(a[0]),d.spatialReference);if(null===a[0])return null;throw Error("Illegal Argument");}else for(e=0;e<a.length;e++)if(null!==a[e]){if(!(a[e]instanceof k))throw Error("Illegal Argument");b.push(a[e])}return 0===b.length?null:h.union(b)})};g.difference=function(d,f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);p(a);return null!==a[0]&&null===a[1]?m.cloneGeometry(a[0]):null===a[0]?null:h.difference(a[0],a[1])})};g.symmetricdifference=function(d,
f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);p(a);return null===a[0]&&null===a[1]?null:null===a[0]?m.cloneGeometry(a[1]):null===a[1]?m.cloneGeometry(a[0]):h.symmetricDifference(a[0],a[1])})};g.clip=function(d,f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);c.pcCheck(a,2,2);if(!(a[1]instanceof t)&&null!==a[1])throw Error("Illegal Argument");if(null===a[0])return null;if(!(a[0]instanceof k))throw Error("Illegal Argument");return null===a[1]?null:h.clip(a[0],a[1])})};
g.cut=function(d,f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);c.pcCheck(a,2,2);if(!(a[1]instanceof r)&&null!==a[1])throw Error("Illegal Argument");if(null===a[0])return[];if(!(a[0]instanceof k))throw Error("Illegal Argument");return null===a[1]?[m.cloneGeometry(a[0])]:h.cut(a[0],a[1])})};g.area=function(d,f){return l(d,f,function(b,e,a){c.pcCheck(a,1,2);a=c.autoCastFeatureToGeometry(a);if(null===a[0])return 0;if(c.isArray(a[0])||c.isImmutableArray(a[0]))return b=c.autoCastArrayOfPointsToPolygon(a[0],
d.spatialReference),null===b?0:h.planarArea(b,m.convertSquareUnitsToCode(c.defaultUndefined(a[1],-1)));if(!(a[0]instanceof k))throw Error("Illegal Argument");return h.planarArea(a[0],m.convertSquareUnitsToCode(c.defaultUndefined(a[1],-1)))})};g.areageodetic=function(d,f){return l(d,f,function(b,e,a){c.pcCheck(a,1,2);a=c.autoCastFeatureToGeometry(a);if(null===a[0])return 0;if(c.isArray(a[0])||c.isImmutableArray(a[0]))return b=c.autoCastArrayOfPointsToPolygon(a[0],d.spatialReference),null===b?0:h.geodesicArea(b,
m.convertSquareUnitsToCode(c.defaultUndefined(a[1],-1)));if(!(a[0]instanceof k))throw Error("Illegal Argument");return h.geodesicArea(a[0],m.convertSquareUnitsToCode(c.defaultUndefined(a[1],-1)))})};g.length=function(d,f){return l(d,f,function(b,e,a){c.pcCheck(a,1,2);a=c.autoCastFeatureToGeometry(a);if(null===a[0])return 0;if(c.isArray(a[0])||c.isImmutableArray(a[0]))return b=c.autoCastArrayOfPointsToPolyline(a[0],d.spatialReference),null===b?0:h.planarLength(b,m.convertLinearUnitsToCode(c.defaultUndefined(a[1],
-1)));if(!(a[0]instanceof k))throw Error("Illegal Argument");return h.planarLength(a[0],m.convertLinearUnitsToCode(c.defaultUndefined(a[1],-1)))})};g.lengthgeodetic=function(d,f){return l(d,f,function(b,e,a){c.pcCheck(a,1,2);a=c.autoCastFeatureToGeometry(a);if(null===a[0])return 0;if(c.isArray(a[0])||c.isImmutableArray(a[0]))return b=c.autoCastArrayOfPointsToPolyline(a[0],d.spatialReference),null===b?0:h.geodesicLength(b,m.convertLinearUnitsToCode(c.defaultUndefined(a[1],-1)));if(!(a[0]instanceof
k))throw Error("Illegal Argument");return h.geodesicLength(a[0],m.convertLinearUnitsToCode(c.defaultUndefined(a[1],-1)))})};g.distance=function(d,f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);c.pcCheck(a,2,3);b=a[0];if(c.isArray(a[0])||c.isImmutableArray(a[0]))b=c.autoCastArrayOfPointsToMultiPoint(a[0],d.spatialReference);e=a[1];if(c.isArray(a[1])||c.isImmutableArray(a[1]))e=c.autoCastArrayOfPointsToMultiPoint(a[1],d.spatialReference);if(!(b instanceof k))throw Error("Illegal Argument");
if(!(e instanceof k))throw Error("Illegal Argument");return h.distance(b,e,m.convertLinearUnitsToCode(c.defaultUndefined(a[2],-1)))})};g.distancegeodetic=function(d,f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);c.pcCheck(a,2,3);b=a[0];e=a[1];if(!(b instanceof u))throw Error("Illegal Argument");if(!(e instanceof u))throw Error("Illegal Argument");const n=new r({paths:[],spatialReference:b.spatialReference});n.addPath([b,e]);return h.geodesicLength(n,m.convertLinearUnitsToCode(c.defaultUndefined(a[2],
-1)))})};g.densify=function(d,f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);c.pcCheck(a,2,3);if(null===a[0])return null;if(!(a[0]instanceof k))throw Error("Illegal Argument");b=c.toNumber(a[1]);if(isNaN(b))throw Error("Illegal Argument");if(0>=b)throw Error("Illegal Argument");return a[0]instanceof q||a[0]instanceof r?h.densify(a[0],b,m.convertLinearUnitsToCode(c.defaultUndefined(a[2],-1))):a[0]instanceof t?h.densify(z(a[0]),b,m.convertLinearUnitsToCode(c.defaultUndefined(a[2],
-1))):a[0]})};g.densifygeodetic=function(d,f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);c.pcCheck(a,2,3);if(null===a[0])return null;if(!(a[0]instanceof k))throw Error("Illegal Argument");b=c.toNumber(a[1]);if(isNaN(b))throw Error("Illegal Argument");if(0>=b)throw Error("Illegal Argument");return a[0]instanceof q||a[0]instanceof r?h.geodesicDensify(a[0],b,m.convertLinearUnitsToCode(c.defaultUndefined(a[2],-1))):a[0]instanceof t?h.geodesicDensify(z(a[0]),b,m.convertLinearUnitsToCode(c.defaultUndefined(a[2],
-1))):a[0]})};g.generalize=function(d,f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);c.pcCheck(a,2,4);if(null===a[0])return null;if(!(a[0]instanceof k))throw Error("Illegal Argument");b=c.toNumber(a[1]);if(isNaN(b))throw Error("Illegal Argument");return h.generalize(a[0],b,c.toBoolean(c.defaultUndefined(a[2],!0)),m.convertLinearUnitsToCode(c.defaultUndefined(a[3],-1)))})};g.buffer=function(d,f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);c.pcCheck(a,2,3);if(null===
a[0])return null;if(!(a[0]instanceof k))throw Error("Illegal Argument");b=c.toNumber(a[1]);if(isNaN(b))throw Error("Illegal Argument");return 0===b?m.cloneGeometry(a[0]):h.buffer(a[0],b,m.convertLinearUnitsToCode(c.defaultUndefined(a[2],-1)))})};g.buffergeodetic=function(d,f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);c.pcCheck(a,2,3);if(null===a[0])return null;if(!(a[0]instanceof k))throw Error("Illegal Argument");b=c.toNumber(a[1]);if(isNaN(b))throw Error("Illegal Argument");
return 0===b?m.cloneGeometry(a[0]):h.geodesicBuffer(a[0],b,m.convertLinearUnitsToCode(c.defaultUndefined(a[2],-1)))})};g.offset=function(d,f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);c.pcCheck(a,2,6);if(null===a[0])return null;if(!(a[0]instanceof q||a[0]instanceof r))throw Error("Illegal Argument");b=c.toNumber(a[1]);if(isNaN(b))throw Error("Illegal Argument");e=c.toNumber(c.defaultUndefined(a[4],10));if(isNaN(e))throw Error("Illegal Argument");const n=c.toNumber(c.defaultUndefined(a[5],
0));if(isNaN(n))throw Error("Illegal Argument");return h.offset(a[0],b,m.convertLinearUnitsToCode(c.defaultUndefined(a[2],-1)),c.toString(c.defaultUndefined(a[3],"round")).toLowerCase(),e,n)})};g.rotate=function(d,f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);c.pcCheck(a,2,3);b=a[0];if(null===b)return null;if(!(b instanceof k))throw Error("Illegal Argument");b instanceof t&&(b=q.fromExtent(b));e=c.toNumber(a[1]);if(isNaN(e))throw Error("Illegal Argument");a=c.defaultUndefined(a[2],
null);if(null===a)return h.rotate(b,e);if(a instanceof u)return h.rotate(b,e,a);throw Error("Illegal Argument");})};g.centroid=function(d,f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);c.pcCheck(a,1,1);if(null===a[0])return null;b=a[0];if(c.isArray(a[0])||c.isImmutableArray(a[0]))b=c.autoCastArrayOfPointsToMultiPoint(a[0],d.spatialReference);if(null===b)return null;if(!(b instanceof k))throw Error("Illegal Argument");return b instanceof u?c.fixSpatialReference(m.cloneGeometry(a[0]),
d.spatialReference):b instanceof q?b.centroid:b instanceof r?w.centroidPolyline(b):b instanceof x?w.centroidMultiPoint(b):b instanceof t?b.center:null})};g.multiparttosinglepart=function(d,f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);c.pcCheck(a,1,1);e=[];if(null===a[0])return null;if(!(a[0]instanceof k))throw Error("Illegal Argument");if(a[0]instanceof u||a[0]instanceof t)return[c.fixSpatialReference(m.cloneGeometry(a[0]),d.spatialReference)];b=h.simplify(a[0]);if(b instanceof
q){a=[];e=[];for(var n=0;n<b.rings.length;n++)if(b.isClockwise(b.rings[n])){const B=y.fromJSON({rings:[b.rings[n]],hasZ:!0===b.hasZ,hasM:!0===b.hasM,spatialReference:b.spatialReference.toJSON()});a.push(B)}else e.push({ring:b.rings[n],pt:b.getPoint(n,0)});for(b=0;b<e.length;b++)for(n=0;n<a.length;n++)if(a[n].contains(e[b].pt)){a[n].addRing(e[b].ring);break}return a}if(b instanceof r){a=[];for(e=0;e<b.paths.length;e++)n=y.fromJSON({paths:[b.paths[e]],hasZ:!0===b.hasZ,hasM:!0===b.hasM,spatialReference:b.spatialReference.toJSON()}),
a.push(n);return a}if(a[0]instanceof x){b=c.fixSpatialReference(m.cloneGeometry(a[0]),d.spatialReference);for(a=0;a<b.points.length;a++)e.push(b.getPoint(a));return e}return null})};g.issimple=function(d,f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);c.pcCheck(a,1,1);if(null===a[0])return!0;if(!(a[0]instanceof k))throw Error("Illegal Argument");return h.isSimple(a[0])})};g.simplify=function(d,f){return l(d,f,function(b,e,a){a=c.autoCastFeatureToGeometry(a);c.pcCheck(a,1,1);if(null===
a[0])return null;if(!(a[0]instanceof k))throw Error("Illegal Argument");return h.simplify(a[0])})}};v.setGeometryEngine=function(g){h=g};Object.defineProperty(v,"__esModule",{value:!0})});