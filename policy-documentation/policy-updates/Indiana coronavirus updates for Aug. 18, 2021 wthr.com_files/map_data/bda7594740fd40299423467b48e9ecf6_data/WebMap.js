// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/accessorSupport/originUtils":function(){define(["exports","../multiOriginJSONSupportUtils"],function(m,c){m.updateOrigins=function(b){b&&b.writtenProperties&&b.writtenProperties.forEach(e=>{const f=e.target;e.newOrigin&&e.oldOrigin!==e.newOrigin&&c.isMultiOriginJSONMixin(f)&&f.updateOrigin(e.propName,e.newOrigin)})};Object.defineProperty(m,"__esModule",{value:!0})})},"esri/core/multiOriginJSONSupportUtils":function(){define(["exports"],function(m){m.isMultiOriginJSONMixin=
function(c){return c&&"getAtOrigin"in c&&"originOf"in c};Object.defineProperty(m,"__esModule",{value:!0})})},"esri/networks/UtilityNetwork":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../request ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/ensureType ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/subclass ./Network ./support/NamedTraceConfiguration ./support/TerminalConfiguration".split(" "),function(m,c,b,e,f,n,
A,D,x,p,r,h){f=function(q){function k(y){y=q.call(this,y)||this;y.sharedNamedTraceConfigurations=[];y.type="utility";return y}m._inheritsLoose(k,q);var w=k.prototype;w.load=function(){var y=m._asyncToGenerator(function*(B){this.addResolvingPromise(q.prototype.load.call(this,B));this.addResolvingPromise(this._loadNamedTraceConfigurationsFromNetwork(B));return this});return function(B){return y.apply(this,arguments)}}();w.getTerminalConfiguration=function(y){let B=null,E=null;var C=y.layer;let F=null;
if("feature"===(null==C?void 0:C.type)){if(F=C.layerId,null===F)return null}else return null;C=y.attributes;if(null==C)return null;for(const G of Object.keys(C))"ASSETGROUP"===G.toUpperCase()&&(B=y.getAttribute(G)),"ASSETTYPE"===G.toUpperCase()&&(E=y.getAttribute(G));if(!this.dataElement)return null;let t=null;y=this.dataElement.domainNetworks;for(const G of y){var u;if(y=null==(u=G.junctionSources)?void 0:u.find(H=>H.layerId===F)){var z;if(y=null==(z=y.assetGroups)?void 0:z.find(H=>H.assetGroupCode===
B)){var J;if(y=null==(J=y.assetTypes)?void 0:J.find(H=>H.assetTypeCode===E)){t=y.terminalConfigurationId;break}}}}return null!=t?(u=this.dataElement.terminalConfigurations,(u=null==u?void 0:u.find(G=>G.terminalConfigurationId===t))?h.fromJSON(u):null):null};w._loadNamedTraceConfigurationsFromNetwork=function(){var y=m._asyncToGenerator(function*(B){var E;if(0!==(null==(E=this.sharedNamedTraceConfigurations)?void 0:E.length)){E=this.sharedNamedTraceConfigurations.map(C=>C.globalId);B=yield this._fetchTraceConfigData(this.networkServiceUrl,
E,B);for(const C of this.sharedNamedTraceConfigurations)(E=null==B?void 0:B.find(F=>F.globalId===C.globalId))&&C.read(E,{origin:"service"})}});return function(B){return y.apply(this,arguments)}}();w._fetchTraceConfigData=function(y,B,E){return b(`${y}/traceConfigurations/query`,{responseType:"json",query:{globalIds:JSON.stringify(B),f:"json"},...E}).then(C=>C.data.traceConfigurations)};m._createClass(k,[{key:"serviceTerritoryFeatureLayerId",get:function(){var y;return null==(y=this.dataElement)?void 0:
y.serviceTerritoryFeatureLayerId}},{key:"terminalConfigurations",get:function(){var y;return null==(y=this.dataElement)?void 0:y.terminalConfigurations.map(B=>h.fromJSON(B))}}]);return k}(p);c.__decorate([e.property({type:[r],json:{origins:{"web-map":{read:{source:"traceConfigurations"},write:{target:"traceConfigurations"}},service:{read:{source:"traceConfigurations"}}},read:!1}})],f.prototype,"sharedNamedTraceConfigurations",void 0);c.__decorate([e.property({type:["utility"],readOnly:!0,json:{read:!1,
write:!1}})],f.prototype,"type",void 0);c.__decorate([e.property({readOnly:!0})],f.prototype,"serviceTerritoryFeatureLayerId",null);c.__decorate([e.property({readOnly:!0})],f.prototype,"terminalConfigurations",null);return f=c.__decorate([x.subclass("esri.networks.UtilityNetwork")],f)})},"esri/networks/Network":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../request ../core/Loadable ../core/Logger ../core/maybe ../core/MultiOriginJSONSupport ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/ensureType ../core/jsonMap ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/SpatialReference ../layers/support/arcgisLayerUrl".split(" "),
function(m,c,b,e,f,n,A,D,x,p,r,h,q,k,w,y,B){const E=f.getLogger("esri.networks.Network");e=function(C){function F(u){u=C.call(this,u)||this;u.id=null;u.title=null;u.layerUrl=null;u.dataElement=null;u.fullExtent=null;u.spatialReference=null;u.type=null;return u}m._inheritsLoose(F,C);var t=F.prototype;t.initialize=function(){this.when().catch(u=>{if(!D.isAbortError(u)){var z,J;E.error("#load()",`Failed to load layer (title: '${null!=(z=this.title)?z:"no title"}', id: '${null!=(J=this.id)?J:"no id"}')`,
{error:u})}})};t.load=function(){var u=m._asyncToGenerator(function*(z){this.addResolvingPromise(this._fetchDataElement(this.featureServiceUrl,this.layerId.toString(),z));this.addResolvingPromise(this._fetchLayerMetaData(this.layerUrl,z));return this});return function(z){return u.apply(this,arguments)}}();t.getLayerIdBySourceId=function(u){if(this.dataElement){const z=this.dataElement.domainNetworks;for(const J of z){for(const G of J.edgeSources?J.edgeSources:[])if(G.sourceId===u)return G.layerId;
for(const G of J.junctionSources?J.junctionSources:[])if(G.sourceId===u)return G.layerId}}return null};t._fetchLayerMetaData=function(){var u=m._asyncToGenerator(function*(z,J){z=yield b(z,{responseType:"json",query:{f:"json"},...J});this.read(z.data,{origin:"service"})});return function(z,J){return u.apply(this,arguments)}}();t._fetchDataElement=function(){var u=m._asyncToGenerator(function*(z,J,G){this.dataElement||(z=yield b(`${z}/queryDataElements`,{responseType:"json",query:{layers:JSON.stringify([J]),
f:"json"},...G}).then(H=>{var M;return null==(M=H.data.layerDataElements)?void 0:M[0]}))&&this.read(z,{origin:"service"})});return function(z,J,G){return u.apply(this,arguments)}}();m._createClass(F,[{key:"datasetName",get:function(){var u;return null==(u=this.dataElement)?void 0:u.name}},{key:"owner",get:function(){var u;return null==(u=this.dataElement)?void 0:u.userIdentity}},{key:"schemaGeneration",get:function(){var u;return null==(u=this.dataElement)?void 0:u.schemaGeneration}},{key:"parsedUrl",
get:function(){const u=this.layerUrl;return u?x.urlToObject(u):null}},{key:"featureServiceUrl",get:function(){const u=this.parsedUrl&&B.parse(this.parsedUrl.path);return n.isSome(u)?u.url.path:null}},{key:"networkServiceUrl",get:function(){return this.featureServiceUrl?this.featureServiceUrl.replace(/\/FeatureServer/i,"/UtilityNetworkServer"):null}},{key:"layerId",get:function(){const u=this.parsedUrl&&B.parse(this.parsedUrl.path);return n.isSome(u)?u.sublayer:null}}]);return F}(A.MultiOriginJSONMixin(e));
c.__decorate([p.property({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}}},read:!1}})],e.prototype,"id",void 0);c.__decorate([p.property({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}}},read:!1}})],e.prototype,"title",void 0);c.__decorate([p.property({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"url"},write:{target:"url",isRequired:!0}}},read:!1}})],e.prototype,"layerUrl",void 0);c.__decorate([p.property({type:Object,
json:{origins:{service:{read:!0}},read:!1}})],e.prototype,"dataElement",void 0);c.__decorate([p.property({type:w,json:{origins:{service:{read:{source:"extent"}}},read:!1}})],e.prototype,"fullExtent",void 0);c.__decorate([p.property({type:y,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:!1}})],e.prototype,"spatialReference",void 0);c.__decorate([p.property({type:["utility","trace"],readOnly:!0,json:{read:!1,write:!1}})],e.prototype,"type",void 0);c.__decorate([p.property({readOnly:!0})],
e.prototype,"datasetName",null);c.__decorate([p.property({readOnly:!0})],e.prototype,"owner",null);c.__decorate([p.property({readOnly:!0})],e.prototype,"schemaGeneration",null);c.__decorate([p.property({readOnly:!0})],e.prototype,"parsedUrl",null);c.__decorate([p.property({readOnly:!0})],e.prototype,"featureServiceUrl",null);c.__decorate([p.property({readOnly:!0})],e.prototype,"networkServiceUrl",null);c.__decorate([p.property({readOnly:!0})],e.prototype,"layerId",null);return e=c.__decorate([k.subclass("esri.networks.Network")],
e)})},"esri/networks/support/NamedTraceConfiguration":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/MultiOriginJSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/accessorSupport/decorators/subclass".split(" "),function(m,c,b,e,f,n,A,D,x){b=new b.JSONMap({connected:"connected",upstream:"upstream",downstream:"downstream",shortestPath:"shortest-path",
subnetwork:"subnetwork","subnetwork controllers":"subnetwork-controllers",loops:"loops",isolation:"isolation"});e=function(p){function r(h){h=p.call(this,h)||this;h.globalId=null;h.title=null;h.traceConfiguration=null;h.creationDate=null;h.creator=null;h.description=null;h.minStartingPoints=null;h.resultTypes=[];h.tags=[];h.traceType=null;return h}m._inheritsLoose(r,p);return r}(e.MultiOriginJSONSupport);c.__decorate([f.property({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"id"},
write:{target:"id",isRequired:!0}},service:{read:{source:"globalId"}}},read:!1}})],e.prototype,"globalId",void 0);c.__decorate([f.property({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"title"},write:{target:"title",isRequired:!0}},service:{read:{source:"name"}}},read:!1}})],e.prototype,"title",void 0);c.__decorate([f.property({type:Object,json:{origins:{service:{read:!0}},read:!1}})],e.prototype,"traceConfiguration",void 0);c.__decorate([f.property({type:Date,json:{origins:{service:{read:!0}},
read:!1}})],e.prototype,"creationDate",void 0);c.__decorate([f.property({type:String,json:{origins:{service:{read:!0}},read:!1}})],e.prototype,"creator",void 0);c.__decorate([f.property({type:String,json:{origins:{service:{read:!0}},read:!1}})],e.prototype,"description",void 0);c.__decorate([f.property({type:["none","one","many"],json:{origins:{service:{read:{source:"minNumStartingPoints"}}},read:!1}})],e.prototype,"minStartingPoints",void 0);c.__decorate([f.property({type:[Object],json:{origins:{service:{read:!0}},
read:!1}})],e.prototype,"resultTypes",void 0);c.__decorate([f.property({type:[String],json:{origins:{service:{read:!0}},read:!1}})],e.prototype,"tags",void 0);c.__decorate([f.property({type:b.apiValues,json:{type:b.jsonValues,origins:{service:{read:b.read}},read:!1}})],e.prototype,"traceType",void 0);return e=c.__decorate([x.subclass("esri.networks.support.NamedTraceConfiguration")],e)})},"esri/networks/support/TerminalConfiguration":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/accessorSupport/decorators/subclass ./Terminal".split(" "),
function(m,c,b,e,f,n,A,D,x,p){b=new b.JSONMap({esriUNTMBidirectional:"bidirectional",esriUNTMDirectional:"directional"});e=function(r){function h(q){q=r.call(this,q)||this;q.defaultConfiguration=null;q.id=null;q.name=null;q.terminals=[];q.traversabilityModel=null;return q}m._inheritsLoose(h,r);return h}(e.JSONSupport);c.__decorate([f.property({type:String,json:{write:!0}})],e.prototype,"defaultConfiguration",void 0);c.__decorate([f.property({type:Number,json:{read:{source:"terminalConfigurationId"},
write:{target:"terminalConfigurationId"}}})],e.prototype,"id",void 0);c.__decorate([f.property({type:String,json:{read:{source:"terminalConfigurationName"},write:{target:"terminalConfigurationName"}}})],e.prototype,"name",void 0);c.__decorate([f.property({type:[p],json:{write:!0}})],e.prototype,"terminals",void 0);c.__decorate([f.property({type:b.apiValues,json:{type:b.jsonValues,read:b.read,write:b.write}})],e.prototype,"traversabilityModel",void 0);return e=c.__decorate([x.subclass("esri.networks.support.TerminalConfiguration")],
e)})},"esri/networks/support/Terminal":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass".split(" "),function(m,c,b,e,f,n,A,D,x){b=function(p){function r(h){h=p.call(this,h)||this;h.id=null;h.name=null;return h}m._inheritsLoose(r,p);return r}(b.JSONSupport);c.__decorate([e.property({type:Number,
json:{read:{source:"terminalId"},write:{target:"terminalId"}}})],b.prototype,"id",void 0);c.__decorate([e.property({type:String,json:{read:{source:"terminalName"},write:{target:"terminalName"}}})],b.prototype,"name",void 0);c.__decorate([e.property({type:Boolean,json:{write:!0}})],b.prototype,"isUpstreamTerminal",void 0);return b=c.__decorate([x.subclass("esri.networks.support.Terminal")],b)})},"esri/rest/support/ProjectParameters":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../geometry/support/jsonUtils".split(" "),
function(m,c,b,e,f,n,A,D,x,p){b=function(r){function h(q){q=r.call(this,q)||this;q.geometries=null;q.outSpatialReference=null;q.transformation=null;q.transformForward=null;return q}m._inheritsLoose(h,r);h.prototype.toJSON=function(){const q=this.geometries.map(function(y){return y.toJSON()}),k=this.geometries[0],w={};w.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON());w.inSR=k.spatialReference.wkid||JSON.stringify(k.spatialReference.toJSON());w.geometries=JSON.stringify({geometryType:p.getJsonType(k),
geometries:q});this.transformation&&(w.transformation=this.transformation.wkid||JSON.stringify(this.transformation));null!=this.transformForward&&(w.transformForward=this.transformForward);return w};return h}(b.JSONSupport);c.__decorate([e.property()],b.prototype,"geometries",void 0);c.__decorate([e.property({json:{read:{source:"outSR"}}})],b.prototype,"outSpatialReference",void 0);c.__decorate([e.property()],b.prototype,"transformation",void 0);c.__decorate([e.property()],b.prototype,"transformForward",
void 0);return b=c.__decorate([x.subclass("esri.rest.support.ProjectParameters")],b)})},"esri/support/MapFloorInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/ensureType ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/subclass ../layers/support/FacilityLayerInfo ../layers/support/LevelLayerInfo ../layers/support/SiteLayerInfo".split(" "),function(m,
c,b,e,f,n,A,D,x,p,r,h){b=function(q){function k(w){w=q.call(this,w)||this;w.levelLayer=null;w.facilityLayer=null;w.siteLayer=null;return w}m._inheritsLoose(k,q);return k}(b.JSONSupport);c.__decorate([e.property({type:r,json:{write:!0}})],b.prototype,"levelLayer",void 0);c.__decorate([e.property({type:p,json:{write:!0}})],b.prototype,"facilityLayer",void 0);c.__decorate([e.property({type:h,json:{write:!0}})],b.prototype,"siteLayer",void 0);return b=c.__decorate([x.subclass("esri.support.MapFloorInfo")],
b)})},"esri/layers/support/FacilityLayerInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass".split(" "),function(m,c,b,e,f,n,A,D,x){b=function(p){function r(h){h=p.call(this,h)||this;h.layerId=null;h.facilityIdField=null;h.siteIdField=null;h.nameField=null;return h}
m._inheritsLoose(r,p);return r}(b.JSONSupport);c.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"layerId",void 0);c.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"facilityIdField",void 0);c.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"siteIdField",void 0);c.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"nameField",void 0);return b=c.__decorate([x.subclass("esri.layers.support.FacilityLayerInfo")],b)})},"esri/layers/support/LevelLayerInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass".split(" "),
function(m,c,b,e,f,n,A,D,x){b=function(p){function r(h){h=p.call(this,h)||this;h.layerId=null;h.levelIdField=null;h.facilityIdField=null;h.longNameField=null;h.shortNameField=null;h.levelNumberField=null;h.verticalOrderField=null;return h}m._inheritsLoose(r,p);return r}(b.JSONSupport);c.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"layerId",void 0);c.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"levelIdField",void 0);c.__decorate([e.property({type:String,
json:{write:!0}})],b.prototype,"facilityIdField",void 0);c.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"longNameField",void 0);c.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"shortNameField",void 0);c.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"levelNumberField",void 0);c.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"verticalOrderField",void 0);return b=c.__decorate([x.subclass("esri.layers.support.LevelLayerInfo")],
b)})},"esri/layers/support/SiteLayerInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass".split(" "),function(m,c,b,e,f,n,A,D,x){b=function(p){function r(h){h=p.call(this,h)||this;h.layerId=null;h.siteIdField=null;h.nameField=null;return h}m._inheritsLoose(r,p);
return r}(b.JSONSupport);c.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"layerId",void 0);c.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"siteIdField",void 0);c.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"nameField",void 0);return b=c.__decorate([x.subclass("esri.layers.support.SiteLayerInfo")],b)})},"esri/webdoc/RangeInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/has ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/subclass".split(" "),
function(m,c,b,e,f,n,A,D,x,p){var r;b=r=function(h){function q(k){k=h.call(this,k)||this;k.activeRange=null;k.currentRangeExtent=null;k.fullRangeExtent=null;return k}m._inheritsLoose(q,h);q.prototype.clone=function(){return new r(e.clone({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))};return q}(b.JSONSupport);c.__decorate([f.property({type:String,nonNullable:!0,json:{read:{source:"activeRangeName"},write:{target:"activeRangeName",isRequired:!0}}})],
b.prototype,"activeRange",void 0);c.__decorate([f.property({type:[Number],json:{write:!0}})],b.prototype,"currentRangeExtent",void 0);c.__decorate([f.property({type:[Number],json:{write:!0}})],b.prototype,"fullRangeExtent",void 0);return b=r=c.__decorate([p.subclass("esri.webdoc.RangeInfo")],b)})},"esri/webdoc/Widgets":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/has ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/subclass ./widgets/FloorFilter ./widgets/Range ./widgets/TimeSlider".split(" "),
function(m,c,b,e,f,n,A,D,x,p,r,h,q){var k;b=k=function(w){function y(B){B=w.call(this,B)||this;B.range=null;B.timeSlider=null;B.floorFilter=null;return B}m._inheritsLoose(y,w);y.prototype.clone=function(){return new k(e.clone({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))};return y}(b.JSONSupport);c.__decorate([f.property({type:h,json:{write:!0}})],b.prototype,"range",void 0);c.__decorate([f.property({type:q,json:{write:!0}})],b.prototype,"timeSlider",void 0);c.__decorate([f.property({type:r,
json:{write:!0}})],b.prototype,"floorFilter",void 0);return b=k=c.__decorate([p.subclass("esri.webdoc.Widgets")],b)})},"esri/webdoc/widgets/FloorFilter":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/has ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass".split(" "),function(m,c,b,e,f,n,A,D,x,p){var r;
b=r=function(h){function q(k){k=h.call(this,k)||this;k.enabled=!1;k.longNames=!1;k.minimized=!1;k.pinnedLevels=!1;k.site=null;k.facility=null;k.level=null;return k}m._inheritsLoose(q,h);q.prototype.clone=function(){return new r(e.clone({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))};return q}(b.JSONSupport);c.__decorate([f.property({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],
b.prototype,"enabled",void 0);c.__decorate([f.property({type:Boolean,json:{read:{source:"longNames"},write:{target:"longNames"}}})],b.prototype,"longNames",void 0);c.__decorate([f.property({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],b.prototype,"minimized",void 0);c.__decorate([f.property({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],b.prototype,"pinnedLevels",void 0);c.__decorate([f.property({type:String,json:{read:{source:"site"},
write:{target:"site"}}})],b.prototype,"site",void 0);c.__decorate([f.property({type:String,json:{read:{source:"facility"},write:{target:"facility"}}})],b.prototype,"facility",void 0);c.__decorate([f.property({type:String,json:{read:{source:"level"},write:{target:"level"}}})],b.prototype,"level",void 0);return b=r=c.__decorate([p.subclass("esri.webdoc.widgets.FloorFilter")],b)})},"esri/webdoc/widgets/Range":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/accessorSupport/decorators/subclass".split(" "),
function(m,c,b,e,f,n,A,D,x){var p;b=new b.JSONMap({slider:"slider",picker:"picker"});e=p=function(r){function h(q){q=r.call(this,q)||this;q.interactionMode=null;q.numStops=null;q.stopInterval=null;return q}m._inheritsLoose(h,r);h.prototype.clone=function(){return new p({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})};return h}(e.JSONSupport);c.__decorate([f.property({type:b.apiValues,nonNullable:!0,json:{type:b.jsonValues,default:null,read:{reader:b.read},
write:{isRequired:!0,writer:b.write}}})],e.prototype,"interactionMode",void 0);c.__decorate([f.property({type:Number,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){const r=null!=this.stopInterval;return{enabled:!r,isRequired:!r}}}}})],e.prototype,"numStops",void 0);c.__decorate([f.property({type:Number,json:{write:{overridePolicy(){return{isRequired:null==this.numStops}}}}})],e.prototype,"stopInterval",void 0);return e=p=c.__decorate([x.subclass("esri.webdoc.widgets.Range")],
e)})},"esri/webdoc/widgets/TimeSlider":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../TimeExtent ../../TimeInterval ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/object ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/has ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(m,c,b,e,f,n,A,D,x,p,r,h,q,k,w,y){var B;f=B=function(E){function C(t){t=E.call(this,t)||this;t.currentTimeExtent=null;t.fullTimeExtent=null;t.loop=!1;t.numStops=null;t.numThumbs=null;t.stopDelay=null;t.stopInterval=null;t.stops=null;return t}m._inheritsLoose(C,E);var F=C.prototype;F.readCurrentTimeExtent=function(t){if(t)return new b({start:null!=t[0]?new Date(t[0]):null,end:null!=t[1]?new Date(t[1]):null})};F.writeCurrentTimeExtent=function(t,u,z){t&&D.setDeepValue(z,[A.isSome(t.start)?t.start.getTime():
null,A.isSome(t.end)?t.end.getTime():null],u)};F.readFullTimeExtent=function(t,u){if(t=u.properties)return new b({start:null!=t.startTime?new Date(t.startTime):null,end:null!=t.endTime?new Date(t.endTime):null})};F.writeFullTimeExtent=function(t,u){if(t){u=u.properties=u.properties||{};var z=t.end;t=t.start;z&&(u.endTime=A.isSome(z)?z.getTime():null);t&&(u.startTime=A.isSome(t)?t.getTime():null)}};F.readStopInterval=function(t,u,z){return t?e.fromJSON({value:t.interval,unit:t.units},z):null};F.writeStopInterval=
function(t,u,z,J){t&&(t=t.toJSON(J),D.setDeepValue(z,{interval:t.value,units:t.unit},u))};F.readStops=function(t){return t&&t.length?t.map(u=>new Date(u)):null};F.writeStops=function(t,u,z){t&&t.length&&D.setDeepValue(z,t.map(J=>J.getTime()),u)};F.clone=function(){return new B(n.clone({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))};
return C}(f.JSONSupport);c.__decorate([x.property({type:b,json:{read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],f.prototype,"currentTimeExtent",void 0);c.__decorate([k.reader("currentTimeExtent")],f.prototype,"readCurrentTimeExtent",null);c.__decorate([y.writer("currentTimeExtent")],f.prototype,"writeCurrentTimeExtent",null);c.__decorate([x.property({type:b,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},
"properties.startTime":{type:Number}}}}})],f.prototype,"fullTimeExtent",void 0);c.__decorate([k.reader("fullTimeExtent")],f.prototype,"readFullTimeExtent",null);c.__decorate([y.writer("fullTimeExtent")],f.prototype,"writeFullTimeExtent",null);c.__decorate([x.property({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],f.prototype,"loop",void 0);c.__decorate([x.property({type:Number,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",
overridePolicy(){var E;const C=!!this.stopInterval,F=!(null==(E=this.stops)||!E.length);E=!(C||F);return{enabled:E,isRequired:E}}}}})],f.prototype,"numStops",void 0);c.__decorate([x.property({type:[1,2],nonNullable:!0,json:{read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],f.prototype,"numThumbs",void 0);c.__decorate([x.property({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],
f.prototype,"stopDelay",void 0);c.__decorate([x.property({type:e,json:{read:{source:"properties.timeStopInterval"},write:{target:"properties.timeStopInterval",overridePolicy(){var E;const C=null!=this.numStops,F=!(null==(E=this.stops)||!E.length);return{enabled:!F,isRequired:!(C||F)}}}}})],f.prototype,"stopInterval",void 0);c.__decorate([k.reader("stopInterval")],f.prototype,"readStopInterval",null);c.__decorate([y.writer("stopInterval")],f.prototype,"writeStopInterval",null);c.__decorate([x.property({type:[Date],
json:{read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy(){return{isRequired:null==this.numStops&&!this.stopInterval}}}}})],f.prototype,"stops",void 0);c.__decorate([k.reader("stops")],f.prototype,"readStops",null);c.__decorate([y.writer("stops")],f.prototype,"writeStops",null);return f=B=c.__decorate([w.subclass("esri.webdoc.widgets.TimeSlider")],f)})},"esri/webdoc/support/thumbnailUtils":function(){define(["exports"],function(m){const c={width:600,height:400};m.getOptimalThumbnailSize=
function(b,e){e=e||c;let {width:f,height:n}=e;e=f/n;1.5>e?n=f/1.5:1.5<e&&(f=1.5*n);f>b.width&&(n*=b.width/f,f=b.width);n>b.height&&(f*=b.height/n,n=b.height);return{width:Math.round(f),height:Math.round(n)}};Object.defineProperty(m,"__esModule",{value:!0})})},"esri/webmap/ApplicationProperties":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/has ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/subclass ../webdoc/applicationProperties/Viewing".split(" "),
function(m,c,b,e,f,n,A,D,x,p,r){var h;b=h=function(q){function k(w){w=q.call(this,w)||this;w.editing=null;w.offline=null;w.viewing=null;return w}m._inheritsLoose(k,q);k.prototype.clone=function(){return new h(e.clone({editing:this.editing,offline:this.offline,viewing:this.viewing}))};return k}(b.JSONSupport);c.__decorate([f.property({json:{write:!0}})],b.prototype,"editing",void 0);c.__decorate([f.property({json:{write:!0}})],b.prototype,"offline",void 0);c.__decorate([f.property({type:r,json:{write:!0}})],
b.prototype,"viewing",void 0);return b=h=c.__decorate([p.subclass("esri.webmap.ApplicationProperties")],b)})},"esri/webdoc/applicationProperties/Viewing":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/has ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ./Search".split(" "),function(m,c,b,e,f,n,A,
D,x,p,r){var h;b=h=function(q){function k(w){w=q.call(this,w)||this;w.search=null;return w}m._inheritsLoose(k,q);k.prototype.clone=function(){return new h(e.clone({search:this.search}))};return k}(b.JSONSupport);c.__decorate([f.property({type:r,json:{write:!0}})],b.prototype,"search",void 0);return b=h=c.__decorate([p.subclass("esri.webdoc.applicationProperties.Viewing")],b)})},"esri/webdoc/applicationProperties/Search":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Collection ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/has ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/extensions/serializableProperty/writePolicyUtils ./SearchLayer ./SearchTable".split(" "),
function(m,c,b,e,f,n,A,D,x,p,r,h,q,k,w,y){var B;const E=b.ofType(w),C=b.ofType(y);b=B=function(F){function t(z){z=F.call(this,z)||this;z.addressSearchEnabled=!0;z.enabled=!0;z.hintText=null;z.layers=new E;z.tables=new C;return z}m._inheritsLoose(t,F);var u=t.prototype;u.readAddressSearchEnabled=function(z){return!z};u.writeAddressSearchEnabled=function(z,J,G){J[G]=!z};u.clone=function(){return new B(f.clone({addressSearchEnabled:this.addressSearchEnabled,enabled:this.enabled,hintText:this.hintText,
layers:this.layers,tables:this.tables}))};return t}(e.JSONSupport);c.__decorate([n.property({type:Boolean,nonNullable:!0,json:{read:{source:"disablePlaceFinder"},write:{target:"disablePlaceFinder",isRequired:!0},origins:{"web-scene":{read:!1,write:!1}}}})],b.prototype,"addressSearchEnabled",void 0);c.__decorate([r.reader("addressSearchEnabled")],b.prototype,"readAddressSearchEnabled",null);c.__decorate([q.writer("addressSearchEnabled")],b.prototype,"writeAddressSearchEnabled",null);c.__decorate([n.property({type:Boolean,
nonNullable:!0,json:{write:!0,origins:{"web-map":{write:{isRequired:!0}},"web-scene":{default:!0,write:!0}}}})],b.prototype,"enabled",void 0);c.__decorate([n.property({type:String,json:{write:!0}})],b.prototype,"hintText",void 0);c.__decorate([n.property({type:E,json:{write:{overridePolicy:k.writeNonEmptyCollectionPolicy},origins:{"web-scene":{write:{isRequired:!0}}}}})],b.prototype,"layers",void 0);c.__decorate([n.property({type:C,json:{read:!0,write:{overridePolicy:k.writeNonEmptyCollectionPolicy},
origins:{"web-scene":{read:!1,write:!1}}}})],b.prototype,"tables",void 0);return b=B=c.__decorate([h.subclass("esri.webdoc.applicationProperties.Search")],b)})},"esri/core/accessorSupport/extensions/serializableProperty/writePolicyUtils":function(){define(["exports"],function(m){m.writeNonEmptyCollectionPolicy=function(c){return{enabled:!(null==c||!c.length)}};Object.defineProperty(m,"__esModule",{value:!0})})},"esri/webdoc/applicationProperties/SearchLayer":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/has ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ./SearchLayerField".split(" "),
function(m,c,b,e,f,n,A,D,x,p,r){var h;b=h=function(q){function k(w){w=q.call(this,w)||this;w.field=null;w.id=null;w.subLayer=null;return w}m._inheritsLoose(k,q);k.prototype.clone=function(){return new h(e.clone({field:this.field,id:this.id,subLayer:this.subLayer}))};return k}(b.JSONSupport);c.__decorate([f.property({type:r,json:{write:{isRequired:!0}}})],b.prototype,"field",void 0);c.__decorate([f.property({type:String,json:{write:{isRequired:!0}}})],b.prototype,"id",void 0);c.__decorate([f.property({type:n.Integer,
json:{write:!0}})],b.prototype,"subLayer",void 0);return b=h=c.__decorate([p.subclass("esri.webdoc.applicationProperties.SearchLayer")],b)})},"esri/webdoc/applicationProperties/SearchLayerField":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../layers/support/fieldType".split(" "),
function(m,c,b,e,f,n,A,D,x,p){var r;b=r=function(h){function q(k){k=h.call(this,k)||this;k.exactMatch=!1;k.name=null;k.type=null;return k}m._inheritsLoose(q,h);q.prototype.clone=function(){return new r({exactMatch:this.exactMatch,type:this.type,name:this.name})};return q}(b.JSONSupport);c.__decorate([e.property({type:Boolean,json:{write:!0}})],b.prototype,"exactMatch",void 0);c.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);c.__decorate([D.enumeration(p.kebabDict)],
b.prototype,"type",void 0);return b=r=c.__decorate([x.subclass("esri.webdoc.applicationProperties.SearchLayerField")],b)})},"esri/webdoc/applicationProperties/SearchTable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/has ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ./SearchTableField".split(" "),
function(m,c,b,e,f,n,A,D,x,p,r){var h;b=h=function(q){function k(w){w=q.call(this,w)||this;w.field=null;w.id=null;return w}m._inheritsLoose(k,q);k.prototype.clone=function(){return new h(e.clone({field:this.field,id:this.id}))};return k}(b.JSONSupport);c.__decorate([f.property({type:r,json:{write:{isRequired:!0}}})],b.prototype,"field",void 0);c.__decorate([f.property({type:String,json:{write:{isRequired:!0}}})],b.prototype,"id",void 0);return b=h=c.__decorate([p.subclass("esri.webdoc.applicationProperties.SearchTable")],
b)})},"esri/webdoc/applicationProperties/SearchTableField":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../layers/support/fieldType".split(" "),function(m,c,b,e,f,n,A,D,x,p){var r;b=r=function(h){function q(k){k=h.call(this,
k)||this;k.exactMatch=!1;k.name=null;k.type=null;return k}m._inheritsLoose(q,h);q.prototype.clone=function(){return new r({exactMatch:this.exactMatch,type:this.type,name:this.name})};return q}(b.JSONSupport);c.__decorate([e.property({type:Boolean,json:{write:!0}})],b.prototype,"exactMatch",void 0);c.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);c.__decorate([D.enumeration(p.kebabDict)],b.prototype,"type",void 0);return b=r=c.__decorate([x.subclass("esri.webdoc.applicationProperties.SearchTableField")],
b)})},"esri/webmap/Bookmark":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Viewpoint ../core/deprecate ../core/Error ../core/Identifiable ../core/JSONSupport ../core/lang ../core/Logger ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/has ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ../geometry/Extent ../webdoc/support/Thumbnail".split(" "),
function(m,c,b,e,f,n,A,D,x,p,r,h,q,k,w,y,B,E,C,F){var t;const u=x.getLogger("esri.webmap.Bookmark");n=t=function(z){function J(H){H=z.call(this,H)||this;H.name=null;H.thumbnail=new F;return H}m._inheritsLoose(J,z);var G=J.prototype;G.castThumbnail=function(H){return"string"===typeof H?new F({url:H}):E.ensureType(F,H)};G.readViewpoint=function(H,M){const {extent:O,viewpoint:Q}=M;return b.fromJSON(Q||{targetGeometry:O})};G.writeViewpoint=function(H,M,O,Q){if(H){var {targetGeometry:U}=H;p.isSome(U)&&
"extent"!==U.type?null!=Q&&Q.messages?Q.messages.push(new f("property:unsupported","Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.")):u.error("Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent."):M[O]=H.toJSON()}};G.clone=function(){return new t(D.clone({name:this.name,thumbnail:this.thumbnail,viewpoint:this.viewpoint}))};m._createClass(J,[{key:"extent",set:function(H){e.deprecatedProperty(u,"extent",
{replacement:"viewpoint",version:"4.17"});this._set("viewpoint",new b({targetGeometry:H.clone()}));this._set("extent",H)}},{key:"viewpoint",set:function(H){const {targetGeometry:M,scale:O}=H;p.isSome(M)&&("extent"===M.type?this._set("extent",M.clone()):"point"===M.type&&p.isNone(O)&&u.warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",H));this._set("viewpoint",H)}}]);return J}(n.IdentifiableMixin(A.JSONSupport));c.__decorate([r.property({type:C,nonNullable:!0,json:{read:!1,
write:{isRequired:!0}}})],n.prototype,"extent",null);c.__decorate([r.property({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],n.prototype,"name",void 0);c.__decorate([r.property({type:F,json:{write:{overridePolicy(z){return{enabled:!(!z||!z.url)}}}}})],n.prototype,"thumbnail",void 0);c.__decorate([h.cast("thumbnail")],n.prototype,"castThumbnail",null);c.__decorate([r.property({type:b,nonNullable:!0,json:{write:!0}})],n.prototype,"viewpoint",null);c.__decorate([w.reader("viewpoint",["extent",
"viewpoint"])],n.prototype,"readViewpoint",null);c.__decorate([B.writer("viewpoint")],n.prototype,"writeViewpoint",null);return n=t=c.__decorate([y.subclass("esri.webmap.Bookmark")],n)})},"esri/webdoc/support/Thumbnail":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass".split(" "),
function(m,c,b,e,f,n,A,D,x){var p;b=p=function(r){function h(){var k=r.apply(this,arguments)||this;k.url="";return k}m._inheritsLoose(h,r);var q=h.prototype;q.destroy=function(){this.url=""};q.clone=function(){return new p({url:this.url})};return h}(b.JSONSupport);c.__decorate([e.property({type:String,json:{write:{isRequired:!0}}})],b.prototype,"url",void 0);return b=p=c.__decorate([x.subclass("esri.webdoc.support.Thumbnail")],b)})},"esri/webmap/InitialViewProperties":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Viewpoint ../core/Accessor ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/has ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/subclass ../geometry/SpatialReference ../webdoc/RangeInfo ./background/ColorBackground".split(" "),
function(m,c,b,e,f,n,A,D,x,p,r,h,q,k){var w;e=w=function(y){function B(E){E=y.call(this,E)||this;E.background=null;E.rangeInfo=null;E.spatialReference=null;E.viewpoint=null;return E}m._inheritsLoose(B,y);B.prototype.clone=function(){return new w(f.clone({background:this.background,rangeInfo:this.rangeInfo,spatialReference:this.spatialReference,viewpoint:this.viewpoint}))};return B}(e);c.__decorate([n.property({type:k})],e.prototype,"background",void 0);c.__decorate([n.property({type:q})],e.prototype,
"rangeInfo",void 0);c.__decorate([n.property({type:h})],e.prototype,"spatialReference",void 0);c.__decorate([n.property({type:b})],e.prototype,"viewpoint",void 0);return e=w=c.__decorate([r.subclass("esri.webmap.InitialViewProperties")],e)})},"esri/webmap/background/ColorBackground":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/has ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass".split(" "),
function(m,c,b,e,f,n,A,D,x,p,r){var h;e=h=function(q){function k(w){w=q.call(this,w)||this;w.color=new b([0,0,0,1]);return w}m._inheritsLoose(k,q);k.prototype.clone=function(){return new h(f.clone({color:this.color}))};return k}(e.JSONSupport);c.__decorate([n.property({type:b,json:{write:!0}})],e.prototype,"color",void 0);return e=h=c.__decorate([r.subclass("esri.webmap.background.ColorBackground")],e)})},"esri/webmap/Version":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../core/Version"],
function(m,c,b){b=function(e){function f(n,A){return e.call(this,n,A,"webmap")||this}c._inheritsLoose(f,e);return f}(b.Version);m.Version=b;m.default=b;Object.defineProperty(m,"__esModule",{value:!0})})},"esri/core/Version":function(){define(["exports","./Error"],function(m,c){let b=function(){function e(n,A,D=""){this.major=n;this.minor=A;this._context=D}var f=e.prototype;f.lessThan=function(n,A){return this.major<n||n===this.major&&this.minor<A};f.since=function(n,A){return!this.lessThan(n,A)};
f.validate=function(n){if(this.major!==n.major)throw new c((this._context&&this._context+":")+"unsupported-version",`Required major ${this._context&&this._context+" "}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:n});};f.clone=function(){return new e(this.major,this.minor,this._context)};e.parse=function(n,A=""){const [D,x]=n.split(".");var p=/^\s*\d+\s*$/;if(!D||!D.match||!D.match(p))throw new c((A&&A+":")+"invalid-version","Expected major version to be a number, but got '${version}'",
{version:n});if(!x||!x.match||!x.match(p))throw new c((A&&A+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:n});n=parseInt(D,10);p=parseInt(x,10);return new e(n,p,A)};return e}();m.Version=b;Object.defineProperty(m,"__esModule",{value:!0})})},"*noref":1}});
define("require ./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./kernel ./Map ./Viewpoint ./core/arrayUtils ./core/Collection ./core/Error ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/MultiOriginJSONSupport ./core/Promise ./core/promiseUtils ./core/urlUtils ./core/watchUtils ./core/accessorSupport/decorators/property ./core/has ./core/accessorSupport/ensureType ./core/jsonMap ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/originUtils ./core/accessorSupport/read ./geometry/SpatialReference ./geometry/support/webMercatorUtils ./layers/support/arcgisLayerUrl ./networks/UtilityNetwork ./portal/Portal ./portal/PortalItem ./portal/support/portalItemUtils ./rest/support/ProjectParameters ./support/basemapUtils ./support/MapFloorInfo ./webdoc/RangeInfo ./webdoc/Widgets ./webdoc/support/thumbnailUtils ./webdoc/support/writeUtils ./webmap/ApplicationProperties ./webmap/Bookmark ./webmap/InitialViewProperties ./webmap/Version ./webmap/background/ColorBackground".split(" "),function(m,
c,b,e,f,n,A,D,x,p,r,h,q,k,w,y,B,E,C,F,t,u,z,J,G,H,M,O,Q,U,ha,V,aa,L,ba,ca,ia,da,ja,ka,la,ma,na,W,R,ea){const X=new R.Version(2,20),fa=D.ofType(na);D=D.ofType(ha);const Y=h.getLogger("esri.WebMap"),S=new Map;S.set("image/jpeg","jpeg");S.set("image/jpg","jpg");S.set("image/png","png");S.set("image/gif","gif");const oa="NatGeo_World_Map Ocean_Basemap USA_Topo_Maps World_Imagery World_Street_Map World_Terrain_Base World_Topo_Map World_Hillshade Canvas/World_Light_Gray_Base Canvas/World_Light_Gray_Reference Canvas/World_Dark_Gray_Base Canvas/World_Dark_Gray_Reference Ocean/World_Ocean_Base Ocean/World_Ocean_Reference Reference/World_Boundaries_and_Places Reference/World_Reference_Overlay Reference/World_Transportation".split(" ").map(P=>
P.toLowerCase());f=function(P){function T(a){a=P.call(this,a)||this;a.applicationProperties=null;a.bookmarks=new fa;a.floorInfo=null;a.initialViewProperties=new W;a.portalItem=null;a.presentation=null;a.sourceVersion=null;a.widgets=null;a.utilityNetworks=null;a.authoringApp=a.authoringAppVersion=null;a._isAuthoringAppSetByUser=a._isAuthoringAppVersionSetByUser=!1;return a}c._inheritsLoose(T,P);var v=T.prototype;v.destroy=function(){const a=this.portalItem;this.portalItem=null;null==a?void 0:a.destroy()};
v.initialize=function(){this.when().catch(a=>{Y.error("#load()","Failed to load web map",a)});if(this.resourceInfo){let a;try{a=this._validateJSON(this.resourceInfo)}catch(d){this.addResolvingPromise(Promise.reject(d));return}this.read(a)}};v.writeAuthoringApp=function(a,d){d.authoringApp=a&&this._isAuthoringAppSetByUser?a:"ArcGIS API for JavaScript"};v.writeAuthoringAppVersion=function(a,d){d.authoringAppVersion=a&&this._isAuthoringAppVersionSetByUser?a:e.version};v.readInitialViewProperties=function(a,
d){var g;a=new W;d.background&&(a.background=ea.fromJSON(d.background));const l=null==(g=d.initialState)?void 0:g.viewpoint;l&&(l.rotation&&R.Version.parse(d.version||"","webmap").lessThan(2,20)&&"ArcGIS Pro"===d.authoringApp&&(l.rotation*=-1),a.viewpoint=n.fromJSON(l));d.mapRangeInfo&&(a.rangeInfo=da.fromJSON(d.mapRangeInfo));d.spatialReference&&(a.spatialReference=O.fromJSON(d.spatialReference));return a};v.writeInitialViewProperties=function(a,d,g,l){a&&((g=a.background)&&g.color&&(d.background=
g.write(null,l)),a.viewpoint&&(d.initialState={viewpoint:a.viewpoint.write(null,l)}),a.rangeInfo&&(d.mapRangeInfo=a.rangeInfo.toJSON(l)),a.spatialReference&&(d.spatialReference=a.spatialReference.write(null,l)))};v.writeLayers=function(a,d,g,l){d[g]=this._writeLayers(a,l,"operational-layers")};v.readSourceVersion=function(a,d){const [g,l]=d.version.split(".");return new R.Version(parseInt(g,10),parseInt(l,10))};v.writeSourceVersion=function(a,d,g){d[g]=`${X.major}.${X.minor}`};v.writeTables=function(a,
d,g,l){a=this._writeLayers(a,l,"tables");a.length&&(d[g]=a)};v.load=function(a){this.addResolvingPromise(this._loadFromSource());return Promise.resolve(this)};v.loadAll=function(){return r.loadAll(this,a=>{a(this.ground,this.basemap,this.layers,this.tables)})};v.read=function(a,d){d={...d,origin:"web-map"};const g=this._getAuthoringPropsState();M.readLoadable(this,a,l=>P.prototype.read.call(this,a,l),d);this._restoreAuthoringPropsFromState(g)};v.write=function(a,d){if("loaded"!==this.loadStatus)throw a=
new x("webmap:not-loaded","Web map must be loaded before it can be serialized"),Y.error("#toJSON()","Web map must be loaded before it can be serialized",this.loadError||this.loadStatus),a;this._removeDanglingLayerRefs();d={...d,origin:"web-map",restrictedWebMapWriting:!0,webmap:this};return P.prototype.write.call(this,a,d)};v.save=function(){var a=c._asyncToGenerator(function*(d){d=d||{};this._validateItem();yield this._updateFromPromise;yield this.load();yield this._loadLayerContainers();yield this._beforeSave();
this._validateMap();const g=this.portalItem,l={origin:"web-map",messages:[],writtenProperties:[],url:g.itemUrl&&B.urlToObject(g.itemUrl),portal:g.portal||V.getDefault()},I=this.write(null,l);this._validateJSONForWriting(l,d);yield this._updateItemProperties(g);yield this._updateItem(g,I,l);yield this._updateItemThumbnail();return g});return function(d){return a.apply(this,arguments)}}();v.saveAs=function(){var a=c._asyncToGenerator(function*(d,g){g=g||{};d=this._getPortalItem(d);yield this._updateFromPromise;
yield this.load();yield this._loadLayerContainers();yield this._beforeSave();this._validateMap();const l={origin:"web-map",messages:[],writtenProperties:[],url:null,portal:d.portal},I=this.write(null,l);this._validateJSONForWriting(l,g);yield this._updateItemPropertiesForSaveAs(d);const K=this._getThumbnailState();yield this._createItem(d,I,l,g);this._restoreThumbnailFromState(K);yield this._updateItemThumbnail();return d});return function(d,g){return a.apply(this,arguments)}}();v.updateFrom=function(){var a=
c._asyncToGenerator(function*(d,g){this._updateFromPromise=d=this._updateFromInternal(d,g);yield d;d===this._updateFromPromise&&(this._updateFromPromise=null)});return function(d,g){return a.apply(this,arguments)}}();v.getLayerJSONFromResourceInfo=function(a){var d,g,l,I;const K=this.resourceInfo;return this._collectAllLayersJSON(A.flatten([null==K?void 0:null==(d=K.baseMap)?void 0:d.baseMapLayers,null==K?void 0:K.operationalLayers,null==(g=this.basemap)?void 0:null==(l=g.resourceInfo)?void 0:null==
(I=l.data)?void 0:I.baseMapLayers])).find(N=>N.id===a.id)};v._collectAllLayersJSON=function(a){return a.reduce((d,g)=>{d.push(g);"GroupLayer"===g.layerType&&(d=d.concat(this._collectAllLayersJSON(g.layers||[])));return d},[])};v._writeLayers=function(a,d,g){d={...d,layerContainerType:g};return a.map(l=>q.unwrap(la.getLayerJSON(l,"tables"===g?null:this.getLayerJSONFromResourceInfo(l),d))).filter(Boolean).toArray()};v._loadFromSource=function(){return this.resourceInfo?this._loadFromJSON(this.resourceInfo,
{origin:"web-map"}):this.portalItem&&this.portalItem.id?this._loadFromItem(this.portalItem):Promise.resolve(null)};v._loadFromItem=function(a){return a.load().catch(d=>{throw new x("webmap:load-portal-item","Failed to load portal item",{error:d});}).then(()=>{if("Web Map"!==a.type)throw new x("webmap:invalid-portal-item","Invalid portal item type '${type}', expected 'Web Map'",{type:a.type});}).then(()=>a.fetchData()).then(d=>{this.resourceInfo=d;return this._readAndLoadFromJSON(d,{origin:"web-map",
portal:a.portal||V.getDefault()})}).then(()=>this._computeInitialViewpoint())};v._readAndLoadFromJSON=function(a,d){a=this._validateJSON(a);this.read(a,d);return this._loadFromJSON(a,d)};v._validateJSON=function(a){const d=R.Version.parse(a.version||"","webmap");X.validate(d);a.version=`${d.major}.${d.minor}`;return a};v._loadFromJSON=function(a,d){const g={context:{...d,layerContainerType:"operational-layers"}};this.portalItem&&(g.context.portal=this.portalItem.portal||V.getDefault());return(new Promise(function(l,
I){m(["./layers/support/layersCreator"],l,I)})).then(({populateOperationalLayers:l})=>{const I=[];var K=a.operationalLayers;K&&K.length&&I.push(l(this.layers,K,g));K={...g,context:{...g.context,layerContainerType:"tables"},defaultLayerType:"ArcGISFeatureLayer"};const N=a.tables;N&&N.length&&I.push(l(this.tables,N,K));return y.eachAlways(I).then(()=>{})})};v._computeInitialViewpoint=function(){var a=c._asyncToGenerator(function*(){var d,g;let l=this.initialViewProperties;!(null==(d=l)?0:null==(g=d.viewpoint)?
0:g.targetGeometry)&&(d=yield this._getExtentFromItem())&&(l=l?l.clone():new W,l.viewpoint=new n,l.viewpoint.targetGeometry=d,this.initialViewProperties=l)});return function(){return a.apply(this,arguments)}}();v._getExtentFromItem=function(){var a=c._asyncToGenerator(function*(){var d,g;const l=null==(d=this.initialViewProperties)?void 0:d.spatialReference,I=null==(g=this.portalItem)?void 0:g.extent;return l&&I?l.isWGS84?I.clone():l.isWebMercator?Q.geographicToWebMercator(I):(yield new Promise(function(K,
N){m(["./portal/support/geometryServiceUtils"],K,N)})).create(this.portalItem).then(K=>{const N=new ba;N.geometries=[I];N.outSpatialReference=l;return K.project(N)}).then(K=>K[0]).catch(K=>{Y.error("Error projecting item's extent:",K);return null}):null});return function(){return a.apply(this,arguments)}}();v._removeDanglingLayerRefs=function(){var a=this.applicationProperties,d=a&&a.viewing&&a.viewing.search;const g=l=>!!this.allLayers.find(I=>I.id===l);d&&d.layers&&(d.layers=d.layers.filter(l=>
g(l.id)));d&&d.tables&&(d.tables=d.tables.filter(l=>!!this.tables.find(I=>I.id===l.id)));(d=a&&a.editing&&a.editing.locationTracking)&&d.info&&!g(d.info.layerId)&&(a.editing=null);(a=this.presentation&&this.presentation.slides)&&a.forEach(l=>{l.visibleLayers&&(l.visibleLayers=l.visibleLayers.filter(I=>g(I.id)))})};v._validateMap=function(){if(!this.basemap||!this.basemap.baseLayers.length)throw new x("webmap:save","Map does not have a valid basemap with a base layer.");};v._validateItem=function(){if(!this.portalItem)throw Y.error("save: requires the portalItem property to be set"),
new x("webmap:portal-item-not-set","Portal item to save to has not been set on the WebMap");this._validateItemType(this.portalItem)};v._validateItemType=function(a){if("Web Map"!==a.type)throw new x("webmap:portal-item-wrong-type",'Portal item needs to have type "Web Map"');};v._loadLayerContainers=function(){const a=[];this.basemap&&a.push(this.basemap.load());this.ground&&a.push(this.ground.load());return y.eachAlways(a).then(()=>{})};v._beforeSave=function(){var a=c._asyncToGenerator(function*(){const d=
[];for(const g of this.allLayers)if("beforeSave"in g&&"function"===typeof g.beforeSave){const l=g.beforeSave();l&&d.push(l)}yield y.eachAlways(d)});return function(){return a.apply(this,arguments)}}();v._loadAllLayers=function(){const a=this._getAllLayersAndTables().map(d=>d.load());return y.eachAlways(a).then(()=>{})};v._getAllLayersAndTables=function(){return this.allLayers.concat(this.allTables)};v._validateJSONForWriting=function(a,d){a=a.messages.filter(g=>"error"===g.type).map(g=>new x(g.name,
g.message,g.details));d.ignoreUnsupported&&(a=a.filter(g=>"layer:unsupported"!==g.name&&"symbol:unsupported"!==g.name&&"symbol-layer:unsupported"!==g.name&&"property:unsupported"!==g.name&&"url:unsupported"!==g.name));if(0<a.length)throw new x("webmap:save","Failed to save webmap due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:a});};v._updateItemProperties=function(){var a=c._asyncToGenerator(function*(d){d.extent=yield this._getWGS84Extent(this.initialViewProperties.viewpoint.targetGeometry);
yield this._updateTypeKeywords(d)});return function(d){return a.apply(this,arguments)}}();v._updateItemPropertiesForSaveAs=function(){var a=c._asyncToGenerator(function*(d){L.removeTypeKeyword(d,"CollectorDisabled");L.removeTypeKeyword(d,"OfflineDisabled");L.removeTypeKeyword(d,"Workforce Project");L.removeTypeKeyword(d,"Workforce Worker");L.removeTypeKeyword(d,"Workforce Dispatcher");L.removeTypeKeyword(d,"Offline Map Areas");L.removeTypeKeyword(d,"FieldMapsDisabled");yield this._updateItemProperties(d)});
return function(d){return a.apply(this,arguments)}}();v._getWGS84Extent=function(){var a=c._asyncToGenerator(function*(d){d=d.clone().normalize();let g;if(1<d.length)for(const l of d)g?l.width>g.width&&(g=l):g=l;else g=d[0];return this._projectToWGS84(g)});return function(d){return a.apply(this,arguments)}}();v._projectToWGS84=function(){var a=c._asyncToGenerator(function*(d){var g=d.spatialReference;if(g.isWGS84)return d.clone();if(g.isWebMercator)return Q.webMercatorToGeographic(d);g=yield(yield new Promise(function(I,
K){m(["./portal/support/geometryServiceUtils"],I,K)})).create(this.portalItem);const l=new ba;l.geometries=[d];l.outSpatialReference=O.WGS84;return(yield g.project(l))[0]});return function(d){return a.apply(this,arguments)}}();v._updateTypeKeywords=function(){var a=c._asyncToGenerator(function*(d){L.addTypeKeyword(d,"ArcGIS API for JavaScript");yield this._loadAllLayers();this._evalCollectorKeyword(d);this._evalDataEditingKeyword(d);this._evalOfflineKeyword(d);this._evalDeveloperBasemapKeyword(d);
d.typeKeywords&&(d.typeKeywords=d.typeKeywords.filter((g,l,I)=>I.indexOf(g)===l))});return function(d){return a.apply(this,arguments)}}();v._evalCollectorKeyword=function(a){L.hasTypeKeyword(a,"CollectorDisabled")||L.hasTypeKeyword(a,"Workforce Project")||L.hasTypeKeyword(a,"Workforce Worker")||L.hasTypeKeyword(a,"Workforce Dispatcher")||!this._hasEditableFeatureLayer()?L.removeTypeKeyword(a,"Collector"):L.addTypeKeyword(a,"Collector")};v._evalDataEditingKeyword=function(a){this._hasEditableFeatureLayer()?
L.addTypeKeyword(a,"Data Editing"):L.removeTypeKeyword(a,"Data Editing")};v._evalOfflineKeyword=function(a){!L.hasTypeKeyword(a,"OfflineDisabled")&&this._isOfflineCapableMap()?L.addTypeKeyword(a,"Offline"):L.removeTypeKeyword(a,"Offline")};v._evalDeveloperBasemapKeyword=function(a){ca.hasDeveloperBasemapLayer(this.basemap)?L.addTypeKeyword(a,"DeveloperBasemap"):L.removeTypeKeyword(a,"DeveloperBasemap")};v._hasEditableFeatureLayer=function(){return this._getAllLayersAndTables().some(a=>a.loaded&&this._isFeatureServiceLayer(a)&&
a.capabilities.operations.supportsEditing&&a.editingEnabled)};v._isFeatureServiceLayer=function(a){return!("feature"!==a.type||!a.source||"feature-layer"!==a.source.type)};v._isOfflineCapableMap=function(){return this._getAllLayersAndTables().filter(a=>"group"!==a.type).every(a=>a.loaded&&this._isOfflineCapableLayer(a))};v._isOfflineCapableLayer=function(a){return this._isFeatureServiceLayer(a)&&a.capabilities.operations.supportsSync||("tile"===a.type||"vector-tile"===a.type)&&(a.capabilities.operations.supportsExportTiles||
this._isExportableAGOLTileLayer(a)||ca.isDeveloperBasemapLayer(a))&&a.spatialReference.equals(this.initialViewProperties.spatialReference)};v._isExportableAGOLTileLayer=function(a){return"tile"===a.type?U.isServerOrServicesAGOLUrl(a.url)&&oa.some(d=>-1<a.url.toLowerCase().indexOf("/"+d+"/")):!1};v._updateItem=function(){var a=c._asyncToGenerator(function*(d,g,l){yield d.update({data:g});this._syncUpInstanceWithItem(d,g,l)});return function(d,g,l){return a.apply(this,arguments)}}();v._createItem=function(){var a=
c._asyncToGenerator(function*(d,g,l,I){const K=this.portalItem,N=!!(K&&K.id&&K.portal.user),Z=d.portal;yield Z._signIn();if(!(yield this._canCopyItem(K,N,Z)))throw new x("webmap:save-as-copy-not-allowed","Owner of this map does not allow others to save a copy");yield Z.user.addItem({item:d,folder:I.folder,data:g});this.portalItem=d;this._syncUpInstanceWithItem(d,g,l)});return function(d,g,l,I){return a.apply(this,arguments)}}();v._canCopyItem=function(){var a=c._asyncToGenerator(function*(d,g,l){if(q.isSome(d)&&
d.id&&d.typeKeywords&&-1<d.typeKeywords.indexOf("useOnly")){if(d.portal.portalHostname!==l.portalHostname)return!1;g||(yield d.reload());return"admin"===d.itemControl||"update"===d.itemControl}return!0});return function(d,g,l){return a.apply(this,arguments)}}();v._syncUpInstanceWithItem=function(a,d,g){k.MultiOriginJSONSupport.prototype.read.call(this,{version:d.version,authoringApp:d.authoringApp,authoringAppVersion:d.authoringAppVersion},{origin:"web-map",ignoreDefaults:!0,url:a.itemUrl&&B.urlToObject(a.itemUrl)});
H.updateOrigins(g);this.resourceInfo=d};v._updateItemThumbnail=function(){var a=c._asyncToGenerator(function*(){this.thumbnailUrl&&this._isOverridden("thumbnailUrl")&&(yield this.portalItem.updateThumbnail({thumbnail:this.thumbnailUrl,filename:this._thumbnailFilename}),this._clearThumbnailOverride())});return function(){return a.apply(this,arguments)}}();v._getPortalItem=function(a){a=aa.from(a);a.id&&(a=a.clone(),a.id=null);a.type||(a.type="Web Map");a.portal||(a.portal=V.getDefault());this._validateItemType(a);
return a};v._updateFromInternal=function(){var a=c._asyncToGenerator(function*(d,g){g=g||{};yield E.whenTrueOnce(d,"ready");this._updateInitialViewProperties(d,g);yield this._updateThumbnailUrl(d,g)});return function(d,g){return a.apply(this,arguments)}}();v._updateInitialViewProperties=function(a,d){if(!d.backgroundExcluded){var g;this.initialViewProperties.background=null==(g=a.background)?void 0:g.clone()}this.initialViewProperties.spatialReference=a.spatialReference.clone();d.viewpointExcluded||
(this.initialViewProperties.viewpoint=new n({rotation:a.rotation,scale:d.scalePreserved?a.scale:null,targetGeometry:this._getViewExtent(a)}));if(!d.widgetsExcluded)for(const l of a.persistableViewModels)l.updateWebDocument(this)};v._getViewExtent=function(a){const d=a.center.clone().normalize();a=a.extent.clone();const g=a.width/2;a.xmin=d.x-g;a.xmax=d.x+g;return a};v._updateThumbnailUrl=function(){var a=c._asyncToGenerator(function*(d,g){g.thumbnailExcluded||(g=ka.getOptimalThumbnailSize(d,g.thumbnailSize),
d=yield d.takeScreenshot({format:"png",width:g.width,height:g.height}),this._setAutoGeneratedThumbnail(d.dataUrl))});return function(d,g){return a.apply(this,arguments)}}();v._setAutoGeneratedThumbnail=function(a){this.thumbnailUrl=a;this._thumbnailFilename=null};v._clearThumbnailOverride=function(){this._clearOverride("thumbnailUrl");this.clear("thumbnailUrl","user");this._thumbnailFilename=null};v._generateCustomThumbnailFilename=function(a){if(B.isDataProtocol(a)){a=(a=(a=B.dataComponents(a))&&
a.mediaType)&&S.get(a.toLowerCase())||null;const d=`thumbnail${Date.now()}`;return a?`${d}.${a}`:d}return null};v._getThumbnailState=function(){let a=this.thumbnailUrl;a&&(a=this._isOverridden("thumbnailUrl")?a:B.addQueryParameter(a,"w","8192"));return{thumbnailUrl:a,filename:this._thumbnailFilename}};v._restoreThumbnailFromState=function(a){this.thumbnailUrl=a.thumbnailUrl;this._thumbnailFilename=a.filename};v._getAuthoringPropsState=function(){return{authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,
isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}};v._restoreAuthoringPropsFromState=function(a){a.isAuthoringAppSetByUser?this.authoringApp=a.authoringApp:this._isAuthoringAppSetByUser=!1;a.isAuthoringAppVersionSetByUser?this.authoringAppVersion=a.authoringAppVersion:this._isAuthoringAppVersionSetByUser=!1};T.fromJSON=function(a){if(!a)throw new x("webmap:empty-resource","Expected a JSON resource but got nothing");return new this({resourceInfo:a})};
c._createClass(T,[{key:"authoringApp",set:function(a){this._isAuthoringAppSetByUser=!0;this._set("authoringApp",a)}},{key:"authoringAppVersion",set:function(a){this._isAuthoringAppVersionSetByUser=!0;this._set("authoringAppVersion",a)}},{key:"thumbnailUrl",get:function(){return this.portalItem&&this.portalItem.thumbnailUrl||null},set:function(a){a?(this._override("thumbnailUrl",a),this._thumbnailFilename=this._generateCustomThumbnailFilename(a)):this._clearThumbnailOverride()}}]);return T}(k.MultiOriginJSONMixin(p.LoadableMixin(w.EsriPromiseMixin(f))));
f.VERSION=X;b.__decorate([C.property({type:ma,json:{write:!0}})],f.prototype,"applicationProperties",void 0);b.__decorate([C.property({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],f.prototype,"authoringApp",null);b.__decorate([G.writer("authoringApp")],f.prototype,"writeAuthoringApp",null);b.__decorate([C.property({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],f.prototype,"authoringAppVersion",null);b.__decorate([G.writer("authoringAppVersion")],f.prototype,"writeAuthoringAppVersion",
null);b.__decorate([C.property({json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],f.prototype,"basemap",void 0);b.__decorate([C.property({type:fa,json:{write:{overridePolicy(P){return{enabled:!!(P&&0<P.length),ignoreOrigin:!0}}}}})],f.prototype,"bookmarks",void 0);b.__decorate([C.property({type:ia,json:{read:{source:"mapFloorInfo"},write:{target:"mapFloorInfo"}}})],f.prototype,"floorInfo",void 0);b.__decorate([C.property({type:W,nonNullable:!0,json:{read:{source:["background","initialState.viewpoint",
"mapRangeInfo","spatialReference"]},write:{ignoreOrigin:!0,target:{background:{type:ea},"initialState.viewpoint":{type:n},mapRangeInfo:{type:da},spatialReference:{type:O}}}}})],f.prototype,"initialViewProperties",void 0);b.__decorate([z.reader("initialViewProperties")],f.prototype,"readInitialViewProperties",null);b.__decorate([G.writer("initialViewProperties")],f.prototype,"writeInitialViewProperties",null);b.__decorate([C.property({json:{read:!1,write:{target:"operationalLayers",ignoreOrigin:!0}}})],
f.prototype,"layers",void 0);b.__decorate([G.writer("layers")],f.prototype,"writeLayers",null);b.__decorate([C.property({type:aa})],f.prototype,"portalItem",void 0);b.__decorate([C.property({json:{write:!0}})],f.prototype,"presentation",void 0);b.__decorate([C.property()],f.prototype,"resourceInfo",void 0);b.__decorate([C.property({readOnly:!0,type:R.Version,json:{read:{source:"version"},write:{allowNull:!0,ignoreOrigin:!0,target:"version",isRequired:!0}}})],f.prototype,"sourceVersion",void 0);b.__decorate([z.reader("sourceVersion")],
f.prototype,"readSourceVersion",null);b.__decorate([G.writer("sourceVersion")],f.prototype,"writeSourceVersion",null);b.__decorate([C.property({json:{read:!1,write:{ignoreOrigin:!0}}})],f.prototype,"tables",void 0);b.__decorate([G.writer("tables")],f.prototype,"writeTables",null);b.__decorate([C.property()],f.prototype,"thumbnailUrl",null);b.__decorate([C.property({type:ja,json:{write:!0}})],f.prototype,"widgets",void 0);b.__decorate([C.property({type:D,json:{read:!0,write:!0}})],f.prototype,"utilityNetworks",
void 0);return f=b.__decorate([J.subclass("esri.WebMap")],f)});