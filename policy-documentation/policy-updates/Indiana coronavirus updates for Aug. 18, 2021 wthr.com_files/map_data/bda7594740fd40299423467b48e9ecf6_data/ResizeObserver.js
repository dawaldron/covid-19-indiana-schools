// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define(["exports","./_commonjsHelpers"],function(A,m){var t={exports:{}};(function(B,L){(function(u,n){B.exports=n()})(m.commonjsGlobal,function(){function u(c,a){function b(){f&&(f=!1,c());g&&e()}function d(){C(b)}function e(){var k=Date.now();if(f){if(2>k-h)return;g=!0}else f=!0,g=!1,setTimeout(d,a);h=k}var f=!1,g=!1,h=0;return e}function n(c){for(var a=[],b=1;b<arguments.length;b++)a[b-1]=arguments[b];return a.reduce(function(d,e){return d+(parseFloat(c["border-"+e+"-width"])||0)},0)}var v=function(){function c(a,
b){var d=-1;a.some(function(e,f){return e[0]===b?(d=f,!0):!1});return d}return"undefined"!==typeof Map?Map:function(){function a(){this.__entries__=[]}Object.defineProperty(a.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0});a.prototype.get=function(b){b=c(this.__entries__,b);return(b=this.__entries__[b])&&b[1]};a.prototype.set=function(b,d){var e=c(this.__entries__,b);~e?this.__entries__[e][1]=d:this.__entries__.push([b,d])};a.prototype.delete=function(b){var d=
this.__entries__;b=c(d,b);~b&&d.splice(b,1)};a.prototype.has=function(b){return!!~c(this.__entries__,b)};a.prototype.clear=function(){this.__entries__.splice(0)};a.prototype.forEach=function(b,d){void 0===d&&(d=null);for(var e=0,f=this.__entries__;e<f.length;e++){var g=f[e];b.call(d,g[1],g[0])}};return a}()}(),q="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,p="undefined"!==typeof m.commonjsGlobal&&m.commonjsGlobal.Math===Math?m.commonjsGlobal:"undefined"!==
typeof self&&self.Math===Math?self:"undefined"!==typeof window&&Math===Math?window:Function("return this")(),C=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(p):function(c){return setTimeout(function(){return c(Date.now())},1E3/60)}}(),D="top right bottom left width height size weight".split(" "),E="undefined"!==typeof MutationObserver,F=function(){function c(){this.mutationEventsAdded_=this.connected_=!1;this.mutationsObserver_=null;this.observers_=[];this.onTransitionEnd_=
this.onTransitionEnd_.bind(this);this.refresh=u(this.refresh.bind(this),20)}c.prototype.addObserver=function(a){~this.observers_.indexOf(a)||this.observers_.push(a);this.connected_||this.connect_()};c.prototype.removeObserver=function(a){var b=this.observers_;a=b.indexOf(a);~a&&b.splice(a,1);!b.length&&this.connected_&&this.disconnect_()};c.prototype.refresh=function(){this.updateObservers_()&&this.refresh()};c.prototype.updateObservers_=function(){var a=this.observers_.filter(function(b){return b.gatherActive(),
b.hasActive()});a.forEach(function(b){return b.broadcastActive()});return 0<a.length};c.prototype.connect_=function(){q&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),E?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=
!0),this.connected_=!0)};c.prototype.disconnect_=function(){q&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.connected_=this.mutationEventsAdded_=!1)};c.prototype.onTransitionEnd_=function(a){a=a.propertyName;var b=void 0===
a?"":a;D.some(function(d){return!!~b.indexOf(d)})&&this.refresh()};c.getInstance=function(){this.instance_||(this.instance_=new c);return this.instance_};c.instance_=null;return c}(),w=function(c,a){for(var b=0,d=Object.keys(a);b<d.length;b++){var e=d[b];Object.defineProperty(c,e,{value:a[e],enumerable:!1,writable:!1,configurable:!0})}return c},l=function(c){return c&&c.ownerDocument&&c.ownerDocument.defaultView||p},x={x:0,y:0,width:0,height:0},G=function(){return"undefined"!==typeof SVGGraphicsElement?
function(c){return c instanceof l(c).SVGGraphicsElement}:function(c){return c instanceof l(c).SVGElement&&"function"===typeof c.getBBox}}(),H=function(){function c(a){this.broadcastHeight=this.broadcastWidth=0;this.contentRect_={x:0,y:0,width:0,height:0};this.target=a}c.prototype.isActive=function(){var a=this.target;if(q)if(G(a)){var b=a.getBBox();b={x:0,y:0,width:b.width,height:b.height}}else{var d=a.clientWidth,e=a.clientHeight;if(d||e){var f=l(a).getComputedStyle(a);b={};for(var g=0,h=["top",
"right","bottom","left"];g<h.length;g++){var k=h[g];b[k]=parseFloat(f["padding-"+k])||0}var r=b.left+b.right;k=b.top+b.bottom;g=parseFloat(f.width)||0;h=parseFloat(f.height)||0;"border-box"===f.boxSizing&&(Math.round(g+r)!==d&&(g-=n(f,"left","right")+r),Math.round(h+k)!==e&&(h-=n(f,"top","bottom")+k));a!==l(a).document.documentElement&&(a=Math.round(g+r)-d,e=Math.round(h+k)-e,1!==Math.abs(a)&&(g-=a),1!==Math.abs(e)&&(h-=e));b={x:b.left,y:b.top,width:g,height:h}}else b=x}else b=x;this.contentRect_=
b;return b.width!==this.broadcastWidth||b.height!==this.broadcastHeight};c.prototype.broadcastRect=function(){var a=this.contentRect_;this.broadcastWidth=a.width;this.broadcastHeight=a.height;return a};return c}(),I=function(){return function(c,a){var b=a.x,d=a.y,e=a.width;a=a.height;var f=Object.create(("undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object).prototype);w(f,{x:b,y:d,width:e,height:a,top:d,right:b+e,bottom:a+d,left:b});w(this,{target:c,contentRect:f})}}(),J=function(){function c(a,
b,d){this.activeObservations_=[];this.observations_=new v;if("function"!==typeof a)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=a;this.controller_=b;this.callbackCtx_=d}c.prototype.observe=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(a instanceof l(a).Element))throw new TypeError('parameter 1 is not of type "Element".');var b=this.observations_;
b.has(a)||(b.set(a,new H(a)),this.controller_.addObserver(this),this.controller_.refresh())}};c.prototype.unobserve=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(a instanceof l(a).Element))throw new TypeError('parameter 1 is not of type "Element".');var b=this.observations_;b.has(a)&&(b.delete(a),b.size||this.controller_.removeObserver(this))}};c.prototype.disconnect=function(){this.clearActive();
this.observations_.clear();this.controller_.removeObserver(this)};c.prototype.gatherActive=function(){var a=this;this.clearActive();this.observations_.forEach(function(b){b.isActive()&&a.activeObservations_.push(b)})};c.prototype.broadcastActive=function(){if(this.hasActive()){var a=this.callbackCtx_,b=this.activeObservations_.map(function(d){return new I(d.target,d.broadcastRect())});this.callback_.call(a,b,a);this.clearActive()}};c.prototype.clearActive=function(){this.activeObservations_.splice(0)};
c.prototype.hasActive=function(){return 0<this.activeObservations_.length};return c}(),y="undefined"!==typeof WeakMap?new WeakMap:new v,z=function(){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var b=F.getInstance();b=new J(a,b,this);y.set(this,b)}return c}();["observe","unobserve","disconnect"].forEach(function(c){z.prototype[c]=function(){var a;return(a=y.get(this))[c].apply(a,
arguments)}});var K="undefined"!==typeof p.ResizeObserver?p.ResizeObserver:z;return K})})(t);A.ResizeObserver=t.exports});