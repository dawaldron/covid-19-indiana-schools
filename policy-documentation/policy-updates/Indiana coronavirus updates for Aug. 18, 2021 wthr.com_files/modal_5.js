define("modal",["module","page","utils","jquery"],function(e,t,i,d){const n={name:e.id,class:"."+e.id};i.broadcast(n.name,"loaded");var o={};return i.createModule(n.name,function(e){const l=this;this.$el=e,this.module=n,this.init=function(){l.broadcast("init"),l.getElements("close-button").on("click",function(e){t()}),l.broadcast("ready")};let a=null;const t=()=>{o(),c(200),utag.link({event_name:"modalClosed",event_category:"modal"}),"function"==typeof a&&a()},c=e=>{a=null;const t=l.getElements("content")[0],o=()=>{for(;t.firstChild;)t.removeChild(t.lastChild)};e&&0<e?window.setTimeout(()=>{o()},e):o()},s=()=>{l.getBlock().setModifier("open","true")},o=()=>{l.getBlock().setModifier("open","false")};this.close=t,this.create=(e,o)=>{if(l.broadcast("creating",{template:e}),a=o,c(),e)if("TEMPLATE"===e.tagName){o=e.content.cloneNode(!0);const n=l.getElements("content")[0];n.append(o),l.broadcast("showing",{el:o}),s();let t=[];n.querySelectorAll("[data-module]").forEach(e=>{e=e.dataset.module;t.push(e)}),require(t,()=>{i.broadcast("grid","addedSection",{$el:d(n)})})}else l.getElements("content").append(e),s()}},e=>{o={create:e.create,close:e.close},window.modal=o}),void 0,o});
//# sourceMappingURL=modal_5.8.4.js.map