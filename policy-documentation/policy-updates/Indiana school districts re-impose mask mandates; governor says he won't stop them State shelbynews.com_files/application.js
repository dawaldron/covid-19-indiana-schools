!function(e,t){function n(){function n(){__tnt.user.loggedIn?(Array.from(t.getElementsByClassName("tn-user-screenname")).forEach(function(e){e.textContent=__tnt.user.screenName}),__tnt.user.avatar&&Array.from(t.getElementsByClassName("tn-user-avatar")).forEach(function(e){e.setAttribute("src",__tnt.user.avatar)}),Array.from(t.getElementsByClassName("tn-user-profile-url")).forEach(function(e){e.setAttribute("href",e.dataset.app+"profile/"+__tnt.user.screenName+"/")}),Array.from(t.getElementsByClassName("logged-in")).forEach(function(e){e.style.display="block"}),Array.from(t.getElementsByClassName("not-logged-in")).forEach(function(e){e.style.display="none"})):(Array.from(t.getElementsByClassName("not-logged-in")).forEach(function(e){e.style.display="block"}),Array.from(t.getElementsByClassName("logged-in")).forEach(function(e){e.style.display="none"}))}window.addEventListener("tnt-user-status",function(){n()}),n(),Array.from(t.querySelectorAll('[data-toggle="offcanvas"]')).forEach(function(e){e.addEventListener(__tnt.client.clickEvent,function(n){n.preventDefault(),n.stopPropagation();var a="left"===e.dataset.target?"active-left":"active-right";t.documentElement.classList.add("drawer-open",a)})}),Array.from(t.getElementsByClassName("offcanvas-close-btn")).forEach(function(e){e.addEventListener(__tnt.client.clickEvent,function(e){e.preventDefault(),e.stopPropagation(),t.documentElement.classList.remove("drawer-open","active-left","active-right")})}),Array.from(t.getElementsByClassName("hide-onload")).forEach(function(e){e.style.display="none"}),Array.from(t.getElementsByClassName("show-onload")).forEach(function(e){e.style.display="block"}),Array.from(t.querySelectorAll('[data-toggle="new-window"]')).forEach(function(t){t.addEventListener(__tnt.client.clickEvent,function(n){n.preventDefault();var a=t.getAttribute("href"),o=[],r={menubar:"no",toolbar:"no",resizeable:"yes",scrollbars:"yes",width:t.dataset.newWindowWidth,height:t.dataset.newWindowHeight,left:screen.width/2-t.dataset.newWindowWidth/2,top:screen.height/2-t.dataset.newWindowHeight/2},s="";Object.keys(r).forEach(function(e){o.push([e,r[e]].join("="))}),s=o.join(","),e.location.hash&&"true"===t.dataset.sendHash&&(a+="%23"+e.location.hash.substring(1)),e.open(a,"",s)})}),Array.from(t.getElementsByClassName("save-asset")).forEach(function(n){n.addEventListener("click",function(a){a.preventDefault();var o=t.querySelector(".save-list-"+n.dataset.assetUuid+"-form");if(__tnt.user.loggedIn){for(var r,s,i,l=o.dataset.uuid,c="save-list-"+l+"-btn",d=[],u=0;u<o.elements.length;u++){var f=o.elements[u];"submit"!==f.type&&d.push(encodeURIComponent(f.name)+"="+encodeURIComponent(f.value))}i=d.join("&");var m=new XMLHttpRequest;m.open("POST",o.getAttribute("action"),!0),m.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),m.setRequestHeader("x-requested-with","XMLHttpRequest"),m.onreadystatechange=function(){if(4==m.readyState)if(200==m.status){var e=JSON.parse(m.responseText);r=Array.from(t.getElementsByClassName(c)),e.success?r.forEach(function(e){e.classList.add("disabled"),e.setAttribute("title","Saved"),e.querySelector(".asset-save-icon").setAttribute("data-prefix","fas"),void 0!==(s=e.querySelector(".share-expand"))&&null!=s&&(s.textContent="Saved")}):(r.forEach(function(e){e.classList.add("btn-danger"),void 0!==(s=e.querySelector(".share-expand"))&&null!=s&&(s.textContent="Error")}),setTimeout(function(){r.forEach(function(e){e.classList.remove("btn-danger"),void 0!==(s=e.querySelector(".share-expand"))&&null!=s&&(s.textContent="Save")})},1e3))}else __tnt.log("Error. Status Code: "+m.status)},m.send(i)}else{var y=e.location.href,g=e.location.search?"&":"?",h=encodeURIComponent(y+g+"save_asset="+o.dataset.uuid);top.location.href="/users/login/?referer_url="+h}})})}"loading"==t.readyState?t.addEventListener("DOMContentLoaded",function(){n()}):n()}(window,document),jQuery(document).ready(function(e){e.ajaxSetup({cache:!0}),e('[data-toggle="tooltip"]').length>0&&e('[data-toggle="tooltip"]').tooltip(),jQuery().stupidtable&&e(".table-sortable").stupidtable()});
//# sourceMappingURL=application.cb897187c4718280fd69d2e6d6c3909d.js.map