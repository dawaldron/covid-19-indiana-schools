!function(a,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("wafer-loader",[],e):"object"==typeof exports?exports["wafer-loader"]=e():(a.wafer=a.wafer||{},a.wafer.wafers=a.wafer.wafers||{},a.wafer.wafers["wafer-loader"]=e())}("undefined"!=typeof self?self:this,function(){return function(a){function e(w){if(r[w])return r[w].exports;var f=r[w]={i:w,l:!1,exports:{}};return a[w].call(f.exports,f,f.exports,e),f.l=!0,f.exports}var r={};return e.m=a,e.c=r,e.d=function(a,r,w){e.o(a,r)||Object.defineProperty(a,r,{configurable:!1,enumerable:!0,get:w})},e.n=function(a){var r=a&&a.__esModule?function(){return a.default}:function(){return a};return e.d(r,"a",r),r},e.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)},e.p="https://s.yimg.com/aaq/wf/",e(e.s="./src/entry.js")}({"../../manifest.json":function(a,e){a.exports={"wafer-account-switch":{meta:{version:"1.1.4"},modern:{min:"/aaq/wf/wf-account-switch-1.1.4-modern.js",raw:"/aaq/wf/wf-account-switch-1.1.4-modern.raw.js"},default:{min:"/aaq/wf/wf-account-switch-1.1.4.js",raw:"/aaq/wf/wf-account-switch-1.1.4.raw.js"}},"wafer-action":{meta:{version:"1.2.6"},modern:{min:"/aaq/wf/wf-action-1.2.6-modern.js",raw:"/aaq/wf/wf-action-1.2.6-modern.raw.js"},default:{min:"/aaq/wf/wf-action-1.2.6.js",raw:"/aaq/wf/wf-action-1.2.6.raw.js"}},"wafer-aim":{meta:{version:"0.0.2"},modern:{min:"/aaq/wf/wf-aim-0.0.2-modern.js",raw:"/aaq/wf/wf-aim-0.0.2-modern.raw.js"},default:{min:"/aaq/wf/wf-aim-0.0.2.js",raw:"/aaq/wf/wf-aim-0.0.2.raw.js"}},"wafer-autocomplete":{meta:{version:"1.24.10"},modern:{min:"/aaq/wf/wf-autocomplete-1.24.10-modern.js",raw:"/aaq/wf/wf-autocomplete-1.24.10-modern.raw.js"},default:{min:"/aaq/wf/wf-autocomplete-1.24.10.js",raw:"/aaq/wf/wf-autocomplete-1.24.10.raw.js"}},"wafer-beacon":{meta:{version:"1.3.2"},modern:{min:"/aaq/wf/wf-beacon-1.3.2-modern.js",raw:"/aaq/wf/wf-beacon-1.3.2-modern.raw.js"},default:{min:"/aaq/wf/wf-beacon-1.3.2.js",raw:"/aaq/wf/wf-beacon-1.3.2.raw.js"}},"wafer-bind":{meta:{version:"1.1.2"},modern:{min:"/aaq/wf/wf-bind-1.1.2-modern.js",raw:"/aaq/wf/wf-bind-1.1.2-modern.raw.js"},default:{min:"/aaq/wf/wf-bind-1.1.2.js",raw:"/aaq/wf/wf-bind-1.1.2.raw.js"}},"wafer-caas":{meta:{version:"1.14.18"},modern:{min:"/aaq/wf/wf-caas-1.14.18-modern.js",raw:"/aaq/wf/wf-caas-1.14.18-modern.raw.js"},default:{min:"/aaq/wf/wf-caas-1.14.18.js",raw:"/aaq/wf/wf-caas-1.14.18.raw.js"}},"wafer-cart":{meta:{version:"1.4.3"},modern:{min:"/aaq/wf/wf-cart-1.4.3-modern.js",raw:"/aaq/wf/wf-cart-1.4.3-modern.raw.js"},default:{min:"/aaq/wf/wf-cart-1.4.3.js",raw:"/aaq/wf/wf-cart-1.4.3.raw.js"}},"wafer-clipboard-copy":{meta:{version:"1.0.2"},modern:{min:"/aaq/wf/wf-clipboard-copy-1.0.2-modern.js",raw:"/aaq/wf/wf-clipboard-copy-1.0.2-modern.raw.js"},default:{min:"/aaq/wf/wf-clipboard-copy-1.0.2.js",raw:"/aaq/wf/wf-clipboard-copy-1.0.2.raw.js"}},"wafer-core":{meta:{version:"1.46.16"},modern:{min:"/aaq/wf/wf-core-1.46.16-modern.js",raw:"/aaq/wf/wf-core-1.46.16-modern.raw.js"},default:{min:"/aaq/wf/wf-core-1.46.16.js",raw:"/aaq/wf/wf-core-1.46.16.raw.js"}},"wafer-countdown":{meta:{version:"1.2.5"},modern:{min:"/aaq/wf/wf-countdown-1.2.5-modern.js",raw:"/aaq/wf/wf-countdown-1.2.5-modern.raw.js"},default:{min:"/aaq/wf/wf-countdown-1.2.5.js",raw:"/aaq/wf/wf-countdown-1.2.5.raw.js"}},"wafer-darla":{meta:{version:"1.0.26"},modern:{min:"/aaq/wf/wf-darla-1.0.26-modern.js",raw:"/aaq/wf/wf-darla-1.0.26-modern.raw.js"},default:{min:"/aaq/wf/wf-darla-1.0.26.js",raw:"/aaq/wf/wf-darla-1.0.26.raw.js"}},"wafer-debug":{meta:{version:"1.3.2"},modern:{min:"/aaq/wf/wf-debug-1.3.2-modern.js",raw:"/aaq/wf/wf-debug-1.3.2-modern.raw.js"},default:{min:"/aaq/wf/wf-debug-1.3.2.js",raw:"/aaq/wf/wf-debug-1.3.2.raw.js"}},"wafer-dl":{meta:{version:"1.3.2"},modern:{min:"/aaq/wf/wf-dl-1.3.2-modern.js",raw:"/aaq/wf/wf-dl-1.3.2-modern.raw.js"},default:{min:"/aaq/wf/wf-dl-1.3.2.js",raw:"/aaq/wf/wf-dl-1.3.2.raw.js"}},"wafer-drawer":{meta:{version:"1.0.10"},modern:{min:"/aaq/wf/wf-drawer-1.0.10-modern.js",raw:"/aaq/wf/wf-drawer-1.0.10-modern.raw.js"},default:{min:"/aaq/wf/wf-drawer-1.0.10.js",raw:"/aaq/wf/wf-drawer-1.0.10.raw.js"}},"wafer-dropdown-drawer":{meta:{version:"1.1.2"},modern:{min:"/aaq/wf/wf-dropdown-drawer-1.1.2-modern.js",raw:"/aaq/wf/wf-dropdown-drawer-1.1.2-modern.raw.js"},default:{min:"/aaq/wf/wf-dropdown-drawer-1.1.2.js",raw:"/aaq/wf/wf-dropdown-drawer-1.1.2.raw.js"}},"wafer-experiment-scrollview":{meta:{version:"1.2.1"},modern:{min:"/aaq/wf/wf-experiment-scrollview-1.2.1-modern.js",raw:"/aaq/wf/wf-experiment-scrollview-1.2.1-modern.raw.js"},default:{min:"/aaq/wf/wf-experiment-scrollview-1.2.1.js",raw:"/aaq/wf/wf-experiment-scrollview-1.2.1.raw.js"}},"wafer-fetch":{meta:{version:"1.17.6"},modern:{min:"/aaq/wf/wf-fetch-1.17.6-modern.js",raw:"/aaq/wf/wf-fetch-1.17.6-modern.raw.js"},default:{min:"/aaq/wf/wf-fetch-1.17.6.js",raw:"/aaq/wf/wf-fetch-1.17.6.raw.js"}},"wafer-form":{meta:{version:"1.28.14"},modern:{min:"/aaq/wf/wf-form-1.28.14-modern.js",raw:"/aaq/wf/wf-form-1.28.14-modern.raw.js"},default:{min:"/aaq/wf/wf-form-1.28.14.js",raw:"/aaq/wf/wf-form-1.28.14.raw.js"}},"wafer-geolocation":{meta:{version:"1.2.10"},modern:{min:"/aaq/wf/wf-geolocation-1.2.10-modern.js",raw:"/aaq/wf/wf-geolocation-1.2.10-modern.raw.js"},default:{min:"/aaq/wf/wf-geolocation-1.2.10.js",raw:"/aaq/wf/wf-geolocation-1.2.10.raw.js"}},"wafer-iframe":{meta:{version:"1.0.14"},modern:{min:"/aaq/wf/wf-iframe-1.0.14-modern.js",raw:"/aaq/wf/wf-iframe-1.0.14-modern.raw.js"},default:{min:"/aaq/wf/wf-iframe-1.0.14.js",raw:"/aaq/wf/wf-iframe-1.0.14.raw.js"}},"wafer-image":{meta:{version:"1.1.8"},modern:{min:"/aaq/wf/wf-image-1.1.8-modern.js",raw:"/aaq/wf/wf-image-1.1.8-modern.raw.js"},default:{min:"/aaq/wf/wf-image-1.1.8.js",raw:"/aaq/wf/wf-image-1.1.8.raw.js"}},"wafer-lightbox":{meta:{version:"1.3.10"},modern:{min:"/aaq/wf/wf-lightbox-1.3.10-modern.js",raw:"/aaq/wf/wf-lightbox-1.3.10-modern.raw.js"},default:{min:"/aaq/wf/wf-lightbox-1.3.10.js",raw:"/aaq/wf/wf-lightbox-1.3.10.raw.js"}},"wafer-loader":{meta:{version:"1.7.80"},modern:{min:"/aaq/wf/wf-loader-1.7.80-modern.js",raw:"/aaq/wf/wf-loader-1.7.80-modern.raw.js"},default:{min:"/aaq/wf/wf-loader-1.7.80.js",raw:"/aaq/wf/wf-loader-1.7.80.raw.js"}},"wafer-menu":{meta:{version:"1.1.0"},modern:{min:"/aaq/wf/wf-menu-1.1.0-modern.js",raw:"/aaq/wf/wf-menu-1.1.0-modern.raw.js"},default:{min:"/aaq/wf/wf-menu-1.1.0.js",raw:"/aaq/wf/wf-menu-1.1.0.raw.js"}},"wafer-module":{meta:{version:"1.13.0"},modern:{min:"/aaq/wf/wf-module-1.13.0-modern.js",raw:"/aaq/wf/wf-module-1.13.0-modern.raw.js"},default:{min:"/aaq/wf/wf-module-1.13.0.js",raw:"/aaq/wf/wf-module-1.13.0.raw.js"}},"wafer-move":{meta:{version:"1.1.0"},modern:{min:"/aaq/wf/wf-move-1.1.0-modern.js",raw:"/aaq/wf/wf-move-1.1.0-modern.raw.js"},default:{min:"/aaq/wf/wf-move-1.1.0.js",raw:"/aaq/wf/wf-move-1.1.0.raw.js"}},"wafer-progress-loader":{meta:{version:"1.2.2"},modern:{min:"/aaq/wf/wf-progress-loader-1.2.2-modern.js",raw:"/aaq/wf/wf-progress-loader-1.2.2-modern.raw.js"},default:{min:"/aaq/wf/wf-progress-loader-1.2.2.js",raw:"/aaq/wf/wf-progress-loader-1.2.2.raw.js"}},"wafer-rapid":{meta:{version:"1.5.2"},modern:{min:"/aaq/wf/wf-rapid-1.5.2-modern.js",raw:"/aaq/wf/wf-rapid-1.5.2-modern.raw.js"},default:{min:"/aaq/wf/wf-rapid-1.5.2.js",raw:"/aaq/wf/wf-rapid-1.5.2.raw.js"}},"wafer-scrollview":{meta:{version:"2.14.2"},modern:{min:"/aaq/wf/wf-scrollview-2.14.2-modern.js",raw:"/aaq/wf/wf-scrollview-2.14.2-modern.raw.js"},default:{min:"/aaq/wf/wf-scrollview-2.14.2.js",raw:"/aaq/wf/wf-scrollview-2.14.2.raw.js"}},"wafer-sticky":{meta:{version:"1.0.9"},modern:{min:"/aaq/wf/wf-sticky-1.0.9-modern.js",raw:"/aaq/wf/wf-sticky-1.0.9-modern.raw.js"},default:{min:"/aaq/wf/wf-sticky-1.0.9.js",raw:"/aaq/wf/wf-sticky-1.0.9.raw.js"}},"wafer-tabs":{meta:{version:"1.11.5"},modern:{min:"/aaq/wf/wf-tabs-1.11.5-modern.js",raw:"/aaq/wf/wf-tabs-1.11.5-modern.raw.js"},default:{min:"/aaq/wf/wf-tabs-1.11.5.js",raw:"/aaq/wf/wf-tabs-1.11.5.raw.js"}},"wafer-template":{meta:{version:"1.4.1"},modern:{min:"/aaq/wf/wf-template-1.4.1-modern.js",raw:"/aaq/wf/wf-template-1.4.1-modern.raw.js"},default:{min:"/aaq/wf/wf-template-1.4.1.js",raw:"/aaq/wf/wf-template-1.4.1.raw.js"}},"wafer-text":{meta:{version:"1.1.3"},modern:{min:"/aaq/wf/wf-text-1.1.3-modern.js",raw:"/aaq/wf/wf-text-1.1.3-modern.raw.js"},default:{min:"/aaq/wf/wf-text-1.1.3.js",raw:"/aaq/wf/wf-text-1.1.3.raw.js"}},"wafer-time":{meta:{version:"1.0.2"},modern:{min:"/aaq/wf/wf-time-1.0.2-modern.js",raw:"/aaq/wf/wf-time-1.0.2-modern.raw.js"},default:{min:"/aaq/wf/wf-time-1.0.2.js",raw:"/aaq/wf/wf-time-1.0.2.raw.js"}},"wafer-toast":{meta:{version:"1.0.2"},modern:{min:"/aaq/wf/wf-toast-1.0.2-modern.js",raw:"/aaq/wf/wf-toast-1.0.2-modern.raw.js"},default:{min:"/aaq/wf/wf-toast-1.0.2.js",raw:"/aaq/wf/wf-toast-1.0.2.raw.js"}},"wafer-toggle":{meta:{version:"1.14.3"},modern:{min:"/aaq/wf/wf-toggle-1.14.3-modern.js",raw:"/aaq/wf/wf-toggle-1.14.3-modern.raw.js"},default:{min:"/aaq/wf/wf-toggle-1.14.3.js",raw:"/aaq/wf/wf-toggle-1.14.3.raw.js"}},"wafer-tooltip":{meta:{version:"1.1.2"},modern:{min:"/aaq/wf/wf-tooltip-1.1.2-modern.js",raw:"/aaq/wf/wf-tooltip-1.1.2-modern.raw.js"},default:{min:"/aaq/wf/wf-tooltip-1.1.2.js",raw:"/aaq/wf/wf-tooltip-1.1.2.raw.js"}},"wafer-uac":{meta:{version:"1.3.1"},modern:{min:"/aaq/wf/wf-uac-1.3.1-modern.js",raw:"/aaq/wf/wf-uac-1.3.1-modern.raw.js"},default:{min:"/aaq/wf/wf-uac-1.3.1.js",raw:"/aaq/wf/wf-uac-1.3.1.raw.js"}},"wafer-video":{meta:{version:"2.16.2"},modern:{min:"/aaq/wf/wf-video-2.16.2-modern.js",raw:"/aaq/wf/wf-video-2.16.2-modern.raw.js"},default:{min:"/aaq/wf/wf-video-2.16.2.js",raw:"/aaq/wf/wf-video-2.16.2.raw.js"}}}},"./src/entry.js":function(a,e,r){"use strict";function w(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var f=function(){function a(a,e){for(var r=0;r<e.length;r++){var w=e[r];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(a,w.key,w)}}return function(e,r,w){return r&&a(e.prototype,r),w&&a(e,w),e}}(),o=window.wafer,n=o.base,s=o.utils,t=o.wafers,m=s.convertNodeListToArray,i=s.loadScriptAsync,d=r("../../manifest.json"),l=function(){function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.errorClass,f=void 0===r?"wafer-loader-error":r,o=e.root,n=void 0===o?document:o,s=e.selector,t=e.successClass,m=void 0===t?"wafer-loader-success":t;w(this,a),this._state={pendingLoadingMap:{}},this._options={props:{debug:!1,errorClass:f,modern:!!window.wafer.__esModule,successClass:m},root:n,selector:s},this.sync()}return f(a,[{key:"sync",value:function(a){var e=this,r=this._options,w=r.root,f=r.selector,o=[];if(f&&(o=m((a||w).getElementsByClassName(f.replace(".","")))),o.length)return Promise.all(o.map(function(a){return"SCRIPT"!==a.nodeName||a.classList.contains("wafer-debug")?e._loadWafersForElem(a):e._loadScriptForElem(a)})).catch(function(a){})}},{key:"_loadScriptForElem",value:function(a){var e=this,r=this._options,w=r.props,f=r.selector,o=w.errorClass,n=w.successClass;return new Promise(function(e,r){var w=void 0;try{w=JSON.parse(a.textContent)}catch(a){return void r(a)}var f=w,o=f.wafersToLoad;e(void 0===o?[]:o)}).then(function(a){return e._loadWaferScripts(a)}).then(function(){a.classList.remove(o,f.replace(".","")),a.classList.add(n)}).catch(function(e){a.classList.add(o)})}},{key:"_loadWafersForElem",value:function(a){var e=this,r=this._options,w=r.props,f=r.selector,o=w.errorClass,n=w.successClass;return new Promise(function(e,r){var w=[],f=a.className;(void 0===f?"":f).split(" ").forEach(function(a){d[a]&&w.push(a.replace("wafer-",""))}),e(w)}).then(function(a){return e._loadWaferScripts(a)}).then(function(){a.classList.remove(o,f.replace(".","")),a.classList.add(n)}).catch(function(e){a.classList.add(o)})}},{key:"_loadWaferScripts",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this._state.pendingLoadingMap,r=this._options.props,w=r.debug,f=r.modern;return Promise.all(a.map(function(a){var r="wafer-"+a;return new Promise(function(o,s){if("core"===a||t[r]||e[r])return void o();var m=d[r];if(!m)return void o();var l=m[f?"modern":"default"][w?"raw":"min"];if(n._assetLoadedMapping.get(l))return void o();e[r]=!0,n._assetLoadedMapping.set(l,!0),i({src:"https://s.yimg.com"+l},function(a){if(e[r]=!1,a)return void s(a);o()})})}))}}]),a}(),c=l;e.default=new c({selector:".wafer"})}})});