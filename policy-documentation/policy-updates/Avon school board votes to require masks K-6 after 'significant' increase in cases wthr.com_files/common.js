define("page",["module","utils","storage","bem","tegna-tracking","header-updater","live-messages","modal"],function(e,c,r,s){"use strict";var u={name:e.id,class:"."+e.id};let t=new function(l){const i=this,o=new s(l,u.name);this.el=l,this.module=u,this.init=function(){i.broadcast("init"),r.expire(),n(),e(),a(),c.performance.parseBacklog(),i.broadcast("ready")},this.broadcast=(e,t)=>{c.broadcastNoJQ(u.name,e,t)},this.model=l.dataset;let t=null,d=!1;const e=()=>{"0"!==l.dataset.refresh&&(i.broadcast("setRefreshTimer"),t=new c.Timer(function(){r.set("autorefresh",!0),top.location.href=top.location.href},1e3*parseInt(l.dataset.refresh)),i.refreshTimer=t)},n=()=>{document.referrer===window.location.href&&r.get("autorefresh")?window.utag_data.isRefresh=!0:window.utag_data.isRefresh=!1,r.remove("autorefresh")},a=()=>{o.selectElements("modal-overlay",e=>{e.addEventListener("click",e=>{i.broadcast("modalOverlayClicked")})});const n=()=>{t.reset(),i.broadcast("resetRefreshTimer",{},!0)};"0"!==l.dataset.refresh&&document.querySelectorAll("html, body").forEach(t=>{"touchstart touchmove scroll mousedown DOMMouseScroll mousewheel keyup".split(" ").forEach(e=>{t.addEventListener(e,n)})}),c.listen("header","collapseValueChanged",function(e,t,n){o.selectElements("dock").setModifier("header-collapsed",n.value.toString())}),c.listen("breaking-news-alerts","updated",(e,t,n)=>{i.broadcast("dockHeightChanged",{newHeight:c.getHeight(o.selectElements("dock").currentEl[0])})}),c.listen("desktop-header","receivedEmptyAd",function(e,t,n){o.selectElements("main").setModifier("show-universal-ad","false")});const a=(e,t,n)=>{if(n){!n.el&&n.$el&&(n.el=n.$el[0]);var a=!0;if(d){if("ready"===t&&n&&n.el)try{n.el.dataset.state="ready"}catch(e){n.el[0].dataset.state="ready"}}else if(("ready"===t||"timeout"===t)&&(n&&n.el&&(n.el.dataset.state="ready"),document.querySelectorAll("[data-module]").forEach(e=>{var t=e.dataset.state;"ready"!==t&&"timeout"!==t&&(a=!1),void 0===t&&require([e.dataset.module.toString()])}),a)){d=!0,c.performance.track("interactive"),window.performance.mark("tegna_interactive"),c.broadcastNoJQ(u.name,"allModulesReady"),"true"!==l.dataset.isMonitor&&(c.performance.track("requestingAds"),r=["comscore"],"true"!==l.dataset.isPreview&&(0<r.length?c.queue(r,function(e){c.tealium.load(e,function(e){})},100):require(["tealium"]))),"true"!==l.dataset.isVideo&&"true"!==l.dataset.isLongform||(t=document.createElement("script"),n=document.getElementsByTagName("script")[0],r="tb_loader_script",document.getElementById(r)||(t.async=1,t.src="//cdn.taboola.com/libtrc/tegna-network1/loader.js",t.id=r,n.parentNode.insertBefore(t,n)),window.performance&&"function"==typeof window.performance.mark&&window.performance.mark("tbl_ic"));try{for(var i,o=0;o<localStorage.length;o++){const s=localStorage.key(o);s.includes("_tegna_expire")&&(i=localStorage.getItem(s),Date.now()>=i&&(localStorage.removeItem(s),localStorage.removeItem(s.replace("_tegna_expire",""))))}}catch(e){return!1}}}var r};var e;c.listen(function(e,t,n){a(0,t,n)}),c.listenNoJQ(function(e,t,n){a(0,t,n)}),require(["lazy-image","grid"]),e=5e3,window.setTimeout(function(){document.querySelectorAll("[data-module]").forEach(e=>{var t=e.dataset.state;e.dataset.module;"ready"!==t&&(e.dataset.state="timeout",c.broadcastNoJQ(e.dataset.module,"timeout",{el:e,state:t}))})},e)}}(document.getElementsByClassName("page")[0]);t.init();e={model:t.model,refreshTimer:t.refreshTimer};return c.broadcastNoJQ("page","returningApi",e),e}),define("universal-ad",["module","page","utils","bem","jquery-utils"],function(e,s,a,t){const n={name:e.id,class:"."+e.id};a.broadcastNoJQ(n.name,"loaded"),a.createModuleNoJQ(n.name,function(i){const o=this,r=new t(i,n.name);this.el=i,this.module=n,this.init=function(){o.broadcast("init"),a.listen("_gpt","slotRenderEnded",function(e,t,n){var a;n.id===i.getElementsByClassName("ad__inner")[0].id&&(o.broadcast("received",n),!1===n.response.isEmpty&&1<n.response.size.width&&1<n.response.size.height&&(n.response.size.width,a=n.response.size.height,n="desktop"===s.model.platform?60:30,a+=n,i.style.height=`${a}px`,r.selectElements("close-button").setModifier("visible","true")))}),a.listen("header","hamburgerOpen",function(e,t,n){o.heightBeforeHamburger=a.getHeight(i),i.style.height="0",i.style.overflow="hidden"}),a.listen("header","hamburgerClose",function(e,t,n){i.style.height=o.heightBeforeHamburger+"px",i.style.overflow="visible"}),r.selectElements("close-button",e=>{e.addEventListener("click",e=>{o.manuallyClosed=!0,r.selectBlock().setModifier("visible","false"),o.broadcast("closed")})}),o.broadcast("ready")}})}),define("header",["module","jquery","page","utils","jquery-utils"],function(e,u,m,g){const f={name:e.id,class:"."+e.id};g.broadcast(f.name,"loaded"),g.createModule(f.name,function(o){const s=this;this.$el=o,this.module=f,this.init=function(){s.broadcast("init"),"desktop"===m.model.platform?function(){s.getElements("featured-arrow").withModifier("direction","next").on("click",function(){s.getElements("featured-list")[0].scrollLeft+=.8*parseInt(s.getElements("featured-list").width())}),s.getElements("featured-arrow").withModifier("direction","previous").on("click",function(){s.getElements("featured-list")[0].scrollLeft-=.8*parseInt(s.getElements("featured-list").width())});let t=!1,n=0;s.getElements("featured-list").on("scroll",function(){t||(window.requestAnimationFrame(function(){var e=s.getElements("featured-list").scrollLeft();n!==e&&(d(),n=e),t=!1}),t=!0)}),d(),s.broadcast("ready")}():(n.featured=!0,s.getElements("subnav").setModifier("state","closed"),s.getElements("subnav").withModifier("type","search").removeClass("header__subnav_state_closed").addClass("header__subnav_state_other"),g.setTriggerPoint(1,function(e){"above"===e?(t=!1,r()):(t=!0,i())})),function(){g.listen("_gpt","slotRenderEnded",function(e,t,n){"masthead_sponsor"===n.$el[0].parentNode.dataset.position&&!1===n.response.isEmpty&&s.getElements("sponsor").setModifier("visible",!0)}),g.listen("live-messages","weatherAlertsUpdated",function(e,t,n){c(!0),s.getElements("alert").withModifier("type","weather").setModifier("visible",!0)}),g.listen("live-messages","weatherAlertsRemoved",function(e,t,n){s.getElements("alert").withModifier("type","closings").withModifier("visible",!1).length&&c(!1),s.getElements("alert").withModifier("type","weather").setModifier("visible",!1)}),g.listen("live-messages","closingsUpdated",function(e,t,n){c(!0),s.getElements("alert").withModifier("type","closings").setModifier("visible",!0)}),g.listen("live-messages","closingsRemoved",function(e,t,n){s.getElements("alert").withModifier("type","weather").withModifier("visible",!1).length&&c(!1),s.getElements("alert").withModifier("type","closings").setModifier("visible",!1)}),s.getElements("subnav").observeIntersections(function(e,t){e.isInitialObservation||(e.isIntersecting?(u(e.target).closest(".header__nav-item").find(".header__nav-label").first().text().toLowerCase(),s.broadcast("subnavOpened")):s.broadcast("subnavClosed"))}),s.getElements("search-box").observeIntersections(function(e,t){e.isIntersecting&&u(e.target).focus()}),s.getElements("hamburger-icon-container").on("click",function(){e="open"===e?(s.getElements("hamburger-icon").setModifier("type","close"),s.getElements("hamburger").setModifier("state","open"),s.getElements("nav").setModifier("visible",!0),s.getElements("station-branding").hide(),s.getElements("weather").hide(),s.getElements("alerts").hide(),s.broadcast("hamburgerOpen"),"close"):(s.getElements("hamburger-icon").setModifier("type","open"),s.getElements("hamburger").setModifier("state","closed"),s.getElements("nav").setModifier("visible",!1),s.getElements("subnav").removeClass("header__subnav_state_open"),s.getElements("subnav").setModifier("state","closed"),s.getElements("subnav").withModifier("type","search").removeClass(f.name+"__subnav_state_closed").addClass(f.name+"__subnav_state_other"),s.getElements("station-branding").show(),s.getElements("weather").show(),s.getElements("alerts").show(),s.broadcast("hamburgerClose"),"open")}),s.getElements("search-form").on("submit",function(e){var t=u(this),n=t[0];"true"!==n.dataset.trackingComplete&&(e.preventDefault(),e.stopPropagation(),"utag"in window&&"link"in window.utag?utag.link({event_name:"onsite-search/submit",event_category:"search",event_label:s.getElements("search-box").val()},function(){n.dataset.trackingComplete="true",t.submit()}):(n.dataset.trackingComplete="true",t.submit()))}),"mobile"===m.model.platform&&(g.listen("article","enteredViewport",function(e,t,n){var a,i;!function(e){e=`https://www.facebook.com/dialog/share?app_id=${o[0].dataset.facebookAppId}&display=popup&href=https://${encodeURIComponent(e.url)}&redirect_uri=https://${encodeURIComponent(e.url)}`;s.getElements("social-link").withModifier("type","facebook").attr("href",e)}(n.dataset),function(e){var t=e.title;t=t.replace(/<{1}[^<>]{1,}>{1}/g,"").trim();var n=e.url,a=encodeURIComponent(n),i=o[0].dataset.twitterId.replace("@",""),e=t.length+23+3+8;280<e&&(e=e-280+(n="...").length,(e=t.length-e)<=0&&(n=""),t=(t=t.substring(0,e)).trim(),t+=n);i=`https://twitter.com/intent/tweet?text=${t=encodeURIComponent(t)}&url=https://${a}&via=${i}`;s.getElements("social-link").withModifier("type","twitter").attr("href",i)}(n.dataset),a=n.dataset.title,i=n.dataset.url,-1<navigator.userAgent.toLowerCase().indexOf("iphone")?s.getElements("social-link").withModifier("type","sms").attr("href","sms:&body="+encodeURIComponent(a)+" "+encodeURIComponent(i)):s.getElements("social-link").withModifier("type","sms").attr("href","sms:?body="+encodeURIComponent(a)+" "+encodeURIComponent(i)),function(e,t,n){n="https://"+n;n=`mailto:?to=&subject=${m.model.primarydomain} | ${encodeURIComponent(e)}&body=From ${m.model.callLetters}${encodeURIComponent("\n\n")}${e}${encodeURIComponent("\n\n")}${encodeURIComponent(t)}${encodeURIComponent("\n\n")}${encodeURIComponent(n)}`;s.getElements("social-link").withModifier("type","email").attr("href",n)}(n.dataset.title,n.dataset.abstract,n.dataset.url),r()}),s.getElements("subnav").withModifier("state","closed").on("click",function(e){var t;!1===u(this).hasClass(f.name+"__subnav_type_search")&&(t=u(this),e.stopPropagation(),t.removeClass(f.name+"__subnav_state_closed").addClass(f.name+"__subnav_state_ready"),t.closest(".header__nav-item").find(".header__nav-label").first().text().toLowerCase(),s.broadcast("subnavOpened"),window.setTimeout(function(){t.removeClass(f.name+"__subnav_state_ready").addClass(f.name+"__subnav_state_open"),s.getElements("nav").setModifier("visible",!1)},100))}),s.getElements("subnav-link").withModifier("type","back").on("click",function(e){var t=u(this);e.preventDefault(),e.stopPropagation(),t.closest(f.class+"__subnav").removeClass(f.name+"__subnav_state_open").addClass(f.name+"__subnav_state_ready"),t.closest(f.class+"__subnav").withModifier("type","search").removeClass(f.name+"__subnav_state_ready").addClass(f.name+"__subnav_state_other"),s.getElements("nav").setModifier("visible",!0),window.setTimeout(function(){t.closest(f.class+"__subnav").removeClass(f.name+"__subnav_state_ready").addClass(f.name+"__subnav_state_closed"),t.closest(f.class+"__subnav").withModifier("type","search").removeClass(f.name+"__subnav_state_closed").addClass(f.name+"__subnav_state_other")},500)}));g.setTriggerPoint(600,function(e){l("above"===e)})}(),window.tegna.headerData&&(s.broadcast("updatingFromExistingData"),a(window.tegna.headerData)),g.listen("header-updater","receivedUpdate",function(e,t,n){s.broadcast("updatingFromNewData"),a(n)}),g.listenNoJQ("header-updater","receivedUpdate",function(e,t,n){s.broadcast("updatingFromNewData"),a(n)}),s.broadcast("ready")};var e="open",t=!0,n={weatherAjax:!0,featured:!1};const a=e=>{s.getElements("weather-temp").text(`${parseInt(e.currentWeather.temperature)}Â°`);var t=0<e.closings.length,n=0<e.weatherAlerts.length,e=t||n;s.getElements("alert").withModifier("type","weather").setModifier("visible",n),s.getElements("alert").withModifier("type","closings").setModifier("visible",t),s.getElements("weather-info").setModifier("alerts",e),s.getElements("weather-temp").setModifier("alerts",e),s.getElements("weather-icon").setModifier("alerts",e),s.getElements("weather-city").setModifier("alerts",e)};function r(){!t&&0<u(".article").length?s.getElements("social-list").setModifier("state","open"):i()}function i(){s.getElements("social-list").setModifier("state","closed")}function l(e){void 0===e||!0===e?(s.broadcast("collapseValueChanged",{value:!0}),s.getElements("featured").setModifier("collapsed",!0)):(s.broadcast("collapseValueChanged",{value:!1}),s.getElements("featured").setModifier("collapsed",!1))}const d=()=>{const e=s.getElements("featured-list");var t=e.scrollLeft(),n=e.width(),a=e.get(0).scrollWidth;let i=!1,o=!1;a-t-n<1&&-1<a-t-n&&(i=!0),t<1&&-1<t&&(o=!0);let r="both";i&&o?r="none":(i&&(r="left"),o&&(r="right")),t=r,s.getElements("featured-list").setModifier("more-available",t),"left"===t||"both"===t?s.getElements("featured-arrow").withModifier("direction","previous").setModifier("enabled",!0):s.getElements("featured-arrow").withModifier("direction","previous").setModifier("enabled",!1),"right"===t||"both"===t?s.getElements("featured-arrow").withModifier("direction","next").setModifier("enabled",!0):s.getElements("featured-arrow").withModifier("direction","next").setModifier("enabled",!1)};function c(e){s.getElements("weather-label").setModifier("alerts",e),s.getElements("weather-city").setModifier("alerts",e),s.getElements("weather-info").setModifier("alerts",e),s.getElements("weather-temp").setModifier("alerts",e),s.getElements("weather-icon").setModifier("alerts",e)}})}),define("footer",["module","utils","bem","page","app-badge"],function(e,t,a){const i={name:e.id,class:"."+e.id};t.broadcastNoJQ(i.name,"loaded"),t.createModuleNoJQ(i.name,function(e){const t=this,n=new a(e,i.name);this.el=e,this.module=i,this.init=function(){t.broadcast("init"),n.selectElementsWithModifier("link","behavior","show-consent-options",e=>{e.addEventListener("click",e=>{e.preventDefault(),"Optanon"in window&&"ToggleInfoDisplay"in window.Optanon&&window.Optanon.ToggleInfoDisplay()})}),n.selectElementsWithModifier("item","visible","false").setModifier("visible","true"),t.broadcast("ready")}})}),define("grid",["module","page","utils","bem"],function(e,t,n,i){"use strict";var o={name:e.id,class:"."+e.id};n.broadcastNoJQ(o.name,"loaded"),n.createModuleNoJQ(o.name,function(e){var t=this;const a=new i(e,o.name);this.el=e,this.module=o,this.init=function(){t.broadcast("init"),t.setupListeners(),t.broadcast("ready")},this.setupListeners=function(){n.listen("header","collapseValueChanged",function(e,t,n){a.selectElements("sticky-content").setModifier("collapsed-header",n.value.toString())}),n.listenNoJQ("header","collapseValueChanged",function(e,t,n){a.selectElements("sticky-content").setModifier("collapsed-header",n.value.toString())}),n.listen("_gpt","slotRenderEnded",function(e,t,n){n.$el[0].parentNode.dataset.position.includes("_sponsor")&&!1===n.response.isEmpty&&a.selectElements("section-sponsor",e=>{let t=e.querySelectorAll('[data-module="ad"]')[0];t.getAttribute("data-position")===n.$el[0].parentNode.dataset.position&&(e.classList.remove(`${o.name}__section-sponsor_visible_false`),e.classList.add(`${o.name}__section-sponsor_visible_true`))})})}})}),define("breaking-news-alerts",["module","jquery","page","utils","storage","jquery-utils"],function(e,g,t,f,p){const h={name:e.id,class:"."+e.id};f.broadcast(h.name,"loaded"),f.createModule(h.name,function(e){const s=this;e[0],this.$el=e,this.module=h,this.init=function(){s.broadcast("init"),n(),t(),a(),i(),s.broadcast("ready")};let l=[],d=[];const c=s.getElements("template")[0],t=()=>{s.getElements("close").on("click",function(){e.getBlock(h.name).setModifier("visible",!1),s.broadcast("close-clicked",{_trackEvent:{event:"closeClicked",category:"breaking-news-alerts"}});let t=p.get("viewedArticles")||[];l.forEach(function(e){t.pushIfUnique(e.id)}),p.set("viewedArticles",t),s.broadcast("updated")})},n=()=>{d=p.get("viewedArticles")||[],g(".article").each(function(){d.pushIfUnique(g(this)[0].dataset.articleId)})},a=()=>{window.tegna.headerData&&o(window.tegna.headerData),f.listen("header-updater","receivedUpdate",(e,t,n)=>{o(n)}),f.listenNoJQ("header-updater","receivedUpdate",(e,t,n)=>{o(n)})},i=()=>{f.listen("live-messages","breakingStoryStarted",(e,t,n)=>{r(n),m()}),f.listen("live-messages","breakingStoryStopped",(e,t,n)=>{u(n.id),m()})},o=e=>{e.breakingLiveVideos.reverse().forEach(e=>{r({id:e.id,title:e.title,url:e.desktopUrl,type:"breakingLiveVideo"})}),e.breakingNews.reverse().forEach(e=>{r({id:e.id,title:e.title,url:e.desktopUrl,type:"breakingNews"})}),m()},r=t=>{var e=d.includes(t.id),n=0<l.filter(e=>e.id===t.id).length;if(!e&&!n){s.broadcast("addingAlert",t),l.pushIfUnique(t);const a=s.getElements("headline-wrap"),i=g(c.content).clone().children().first(),o=i.find(`${h.class}__link`),r=i.find(`${h.class}__headline`);i[0].dataset.id=t.id,i[0].dataset.type=t.type,o.attr("href",t.url),r.text(t.title),a.prepend(i)}},u=t=>{l=l.filter(e=>e.id!==t),s.getElements("item").each(function(){g(this)[0].dataset.id===t&&g(this).remove()}),m()},m=()=>{e.getBlock(h.name).setModifier("visible",0<l.length),s.getElements("more").setModifier("visible",1<l.length?"true":"false"),s.getElements("count").text(l.length-1),s.broadcast("updated")}})}),define("utils",["jquery"],function(s){"use strict";class e extends HTMLElement{get auto(){return this.hasAttribute("auto")}async load(n){let e={};for(var t in this.dataset)e[t]=this.dataset[t];const a=await fetch("/ajax/content/module",{method:"POST",mode:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});a.text().then(e=>{this.innerHTML=e;let t=[];this.querySelectorAll("[data-module]").forEach(e=>{e=e.dataset.module;t.push(e)}),require(t,()=>{l.broadcast("grid","addedSection",{$el:s(this)})}),"function"==typeof n&&n()})}constructor(){super(),this.auto&&this.load()}}window.customElements.define("tegna-ajax-module",e);class t extends HTMLElement{constructor(){super();const e=this.attachShadow({mode:"open"});e.innerHTML=`
                <style>
                    :host {
                        position: fixed;
                        top: 0;
                        right: 0;
                        bottom: 0;
                        left: 0;
                        background-color: rgba(0,0,0,.8);
                        z-index: 5;
                        opacity: 0;
                        transition: .2s ease opacity;
                    }
                    #inner {
                        position: fixed;
                        left: 50%;
                        top: 50%;
                        transform: translate(-50%, -50%);
                        padding: 15px 15px 15px 15px;
                        width: 320px;
                        max-width: calc(100% - 45px);
                        background-color: #fff;
                    }
                    #close {
                        position: absolute;
                        top: -45px;
                        right: -12px;
                        width: 45px;
                        height: 45px;
                        border-width: 0;
                        text-indent: -9001px;
                        background: transparent url('/assets/shared-images/icons/close.svg') center center no-repeat;
                        filter: invert(1);
                        cursor: pointer;
                    }
                </style>
                <div id="inner">
                    <slot></slot>
                    <button id="close">close</button>
                </div>
            `,this.shadowRoot.querySelector("#close").addEventListener("click",e=>this.remove()),window.setTimeout(()=>{this.style.opacity=1},100)}}window.customElements.define("tegna-alert",t),HTMLElement.prototype.on=function(e,n,a){this.addEventListener(e,function(t){try{let e=t.target;if("string"==typeof n){for(;!e.matches(n)&&e!==this;)e=e.parentElement;e.matches(n)&&a.call(e,t)}else n.call(this,t)}catch(e){}})},Array.prototype.last=function(){return this[this.length-1]},Array.prototype.pushIfUnique=function(e,t){if(-1===this.indexOf(e)&&this.push(e),void 0!==t&&0<=t)for(;this.length>t;)this.shift()};var l={assembleHtmlAttributes:function(n){var a=[];return Object.keys(n).forEach(e=>{var t=n[e];null!=t&&""!==t&&(t=(t=t.toString()).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),a.push(e+'="'+t+'"'))}),a.join(" ")},assembleQueryString:function(n,a){var e,i=[];return Object.keys(n).forEach(e=>{var t=n[e];null!=t&&""!==t&&(a||(e=encodeURIComponent(e),"object"!=typeof t&&(t=encodeURIComponent(t.toString()))),t="object"==typeof t?e+"="+l.assembleQueryString(t,!0):e+"="+t,i.push(t))}),e=i.join("&"),e=a?encodeURIComponent(e):e},formatBroadcast:function(e,t,n,a,i){void 0===n&&(n={});var o=(o=20-e.length)<0?0:o,r=(r=30-t.length)<0?0:r,s="log";"error"in console&&3===a?s="error":"warn"in console&&2===a?s="warn":"info"in console&&(s="info");r="["+e+"] "+" ".repeat(o)+t+" ".repeat(r);return!0!==i&&(0<Object.keys(n).length?void 0:void 0),[e,t,n]},broadcast:function(e,t,n,a,i){i=l.formatBroadcast(e,t,n,a,i);s(window).trigger("tegnaBroadcast",i)},broadcastNoJQ:function(e,t,n,a,i){i=l.formatBroadcast(e,t,n,a,i);window.dispatchEvent(new CustomEvent("tegnaBroadcastNoJQ",{detail:{source:i[0],action:i[1],data:i[2]}}))},clone:function(e){let t,n,a;if("object"!=typeof inObject||null===inObject)return inObject;for(a in t=Array.isArray(inObject)?[]:{},inObject)n=inObject[a],t[a]=deepCopyFunction(n);return t},createModuleNoJQ:function(a,i,o){function r(e,t,n){"true"!==n.dataset.initialized&&(n.dataset.initialized="true",t.prototype.broadcast=function(e,t){(t=t||{}).el=this.el,l.broadcastNoJQ(this.module.name,e,t)},t.prototype.listen=l.listenNoJQ,(n=new t(n)).init(),o&&o(n))}tegna.log("utils","creatingModuleNoJQ",{module:a}),l.docReady(()=>{document.querySelectorAll(`.${a}`).forEach(e=>{tegna.log("utils","instantiatingModuleNoJQ",{module:a}),r(0,i,e)}),l.listenNoJQ("grid","addedSection",function(e,t,n){n.el.querySelectorAll(`.${a}`).forEach(e=>{tegna.log("utils","instantiatingLazyModuleNoJQ",{module:a}),r(0,i,e)})})})},createModule:function(a,i,o){function r(e,t,n){"true"!==n[0].dataset.initialized&&(n[0].dataset.initialized="true",t.prototype.getModel=function(){return this.$el.getModelData(!0)},t.prototype.broadcast=function(e,t){(t=t||{}).$el=this.$el,l.broadcast(this.module.name,e,t)},t.prototype.listen=l.listen,t.prototype.getBlock=function(){return this.$el.getBlock(this.module.name)},t.prototype.getElements=function(e){return this.$el.getBlock(this.module.name).getElements(e)},(n=new t(n)).init(),o&&o(n))}tegna.log("utils","creatingModule",{module:a}),s(function(){s("."+a).each(function(){tegna.log("utils","instantiatingModule",{module:a}),r(0,i,s(this))}),l.listen("grid","addedSection",function(e,t,n){n.$el.find("."+a).each(function(){tegna.log("utils","instantiatingLazyModule",{module:a}),r(0,i,s(this))})})})},dashesToCamel:function(e){return e=e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})},delegateEvent:function(n,e,a,i){n.addEventListener(e,function(e){let t=e.target;if("string"==typeof a){for(;!t.matches(a)&&t!==n;)t=t.parentElement;t.matches(a)&&i.call(t,e)}else a.call(n,e)})},docReady:function(e){"complete"===document.readyState||"interactive"===document.readyState?setTimeout(e,1):document.addEventListener("DOMContentLoaded",e)},getAutoHeight:function(e){let t=e.cloneNode(!0);t.setAttribute("id","utils__auto-height"),t.style.opacity="0",t.style.pointerEvents="none",t.style.position="fixed",t.style.left="-9001px",t.style.top="-9001px",t.style.bottom="auto",t.style.right="auto",t.style.height="auto",t.style.width=l.getWidth(e),e.parentNode.append(t);e=l.getHeight(e);return t.remove(),e},getClasses:function(e){return e.getAttribute("class").split(/\s+/)},getHeight:e=>parseFloat(getComputedStyle(e,null).height.replace("px","")),getWidth:e=>parseFloat(getComputedStyle(e,null).width.replace("px","")),initialCap:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},image:{getSrc:function(e,t,n,a){},getSrcSet:function(e,t){}},joinIfSet:function(e,t){let n=[];return t.forEach(e=>{null!=e&&""!==e&&n.push(e)}),n.join(e)},listen:function(i,o,r){var e;"function"==typeof i?(r=i,o=i=null):"function"==typeof o&&(r=o,o=null),null!==o&&(e=o.split(" ")),null!==o&&1<e.length?s.each(e,function(e,t){l.listen(i,t,r)}):(s(window).on("tegnaBroadcast",function(e,t,n,a){i!==t&&null!==i||o!==n&&null!==o||null==t||r(t,n,a)}),window.addEventListener("tegnaBroadcastNoJQ",e=>{i!==e.detail.source&&null!==i||o!==e.detail.action&&null!==o||r(e.detail.source,e.detail.action,e.detail.data)}))},listenNoJQ:function(n,t,a){var e;"function"==typeof n?(a=n,t=n=null):"function"==typeof t&&(a=t,t=null),null!==t&&(e=t.split(" ")),null!==t&&1<e.length?s.each(e,function(e,t){l.listenNoJQ(n,t,a)}):(window.addEventListener("tegnaBroadcastNoJQ",e=>{n!==e.detail.source&&null!==n||t!==e.detail.action&&null!==t||a(e.detail.source,e.detail.action,e.detail.data)}),window.addEventListener("tegnaBroadcast",e=>{n!==e.detail.source&&null!==n||t!==e.detail.action&&null!==t||a(e.detail.source,e.detail.action,e.detail.data)}))},loadScript:function(a){return new Promise((e,t)=>{var n=document.createElement("script");n.src=a,n.onload=()=>{e()},n.onerror=()=>{t("cannot load script "+a)},document.body.appendChild(n)})},observeIntersections:function(e,n,a){var t,i="IntersectionObserver"in window&&"IntersectionObserverEntry"in window;return(a=a||{}).threshold=a.threshold||0,i&&(t=new window.IntersectionObserver(function(e,t){e.forEach(function(e){"true"===e.target.dataset.firstObservation&&(e.isInitialObservation=!0,e.target.removeAttribute("data-first-observation")),e.isIntersectingThreshold=e.intersectionRatio>=a.threshold,n(e,t)})},a),e.dataset.firstObservation="true",t.observe(e),tegna.log("utils","observingIntersections",{el:e,options:a})),t},padNumber:function(e,t){return(-1===Math.sign(e)?"-":"")+new Array(t).concat([Math.abs(e)]).join("0").slice(-t)},parseSSTS:function(e){var e=s.isArray(e)?e:e.split("/"),t=e[0]||"",n=e[1]||"",a=e[2]||"",i=e[3]||"";return{section:t,subsection:n,topic:a,subtopic:i,0:t,1:n,2:a,3:i,length:4,toString:function(){var e="";return""!==t&&(e+=t,""!==n&&(e+="/"+n,""!==a&&(e+="/"+a,""!==i&&(e+="/"+i)))),e}}},performance:{initialBacklogHasBeenParsed:!(Array.prototype.joinIfSet=function(e){return s.grep(this,Boolean).join(e)}),pageLoadOffset:0,track:function(e,t,n){"received"===e&&(window.tegna.log("performance","("+Math.round(1e5*(n/1e3+1e-8))/1e5+") serverResponse"),l.performance.pageLoadOffset=n),!1===l.performance.initialBacklogHasBeenParsed&&l.performance.parseBacklog(),null==n&&(n=window.performance.now());var a=Math.round(1e5*((n-l.performance.pageLoadOffset)/1e3+1e-8))/1e5;Math.round(1e5*(n/1e3+1e-8));!1===window.tegna.hasBeenBlurred&&document.hasFocus()?(null==t?tegna.log("performance","("+a+") "+e):tegna.log("performance","("+a+") "+e,t),window.appInsights&&!1===window.tegna.hasBeenBlurred?window.appInsights.trackMetric(e,a,t):tegna.log("performance","Application Insights not loaded.")):window.tegna.log("performance","("+a+") "+e)},parseBacklog:function(){l.performance.initialBacklogHasBeenParsed=!0,Object.keys(window.tegna.performance).forEach(e=>{l.performance.track(e,window.tegna.performance[e].data,window.tegna.performance[e].time)}),window.tegna.performance={}}},queue:function(e,n,a){e.forEach((e,t)=>{window.setTimeout(function(){n(e)},a*t)})},repeat:function(t,n){for(let e=0;e<t;e++)n(e)},setTriggerPoint:function(e,i){let t=document.createElement("div");t.classList.add("utils__trigger-point"),t.style.height="1px",t.style.width="100%",t.style.position="absolute",t.style.left="0",t.style.zIndex="2",t.style.pointerEvents="none",t.style.top=`${e}px`,document.body.appendChild(t),l.observeIntersections(t,function(e,t){var n=parseInt(e.target.dataset.oldOffset),a=e.boundingClientRect.top<n?"down":"up",n=e.isIntersecting?"on":"up"==a?"below":"above";i(n,a),e.target.dataset.oldOffset=e.boundingClientRect.top})},tealium:{load:function(a){require(["tealium"],function(){window.performance.mark("tegna_tealium_loaded"),Array.isArray(a)?a.forEach((e,t)=>{var n=e;(n="string"==typeof e?parseInt(document.getElementsByClassName("page")[0].getAttribute(`data-tealium-id-${n}`)):n)?l.broadcast("utils","requestingTealiumTag",{tagIds:[n],callback:function(){l.broadcast("utils","loadedTealiumTag",{tagIds:a}),l.performance.track("loadedTag"+n),window.performance.mark(`tegna_tag_${n}_loaded`)}}):l.broadcast("utils","invalidTealiumTag",{request:e,id:n})}):l.tealium.load([a])})},getId:function(e){return parseInt(document.getElementsByClassName("page")[0].dataset[`tealiumId${l.initialCap(e)}`])}},Timer:function(e,t){var n=setInterval(e,t);this.stop=function(){return n&&(clearInterval(n),n=null),this},this.start=function(){return n||(this.stop(),n=setInterval(e,t)),this},this.reset=function(e){if(void 0!==e&&(t=e),null!==n)return this.stop().start()}},tryParseJSON:function(t){try{var e=JSON.parse(t);if(e&&"object"==typeof e)return e}catch(e){return t}},url:{getQueryParam:function(e,t){t=t||window.location.href,e=e.replace(/[\[\]]/g,"\\$&");t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null},removeQueryParam:function(e,t){var n=e;return null!==l.getQueryParam(t,e)&&(t=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),n=n.replace(t,"")),n},addQueryParam:function(e,t,n){return-1<e.indexOf("?")?e+"&"+t+"="+n:e+"?"+t+"="+n},setQueryParam:function(e,t,n){var a=l.removeQueryParam(e,t);return l.addQueryParam(a,t,n)}},uuid:function(){var n=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(n+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"===e?t:3&t|8).toString(16)})}};return l}),define("storage",["utils"],function(o){"use strict";const r="_tegna_";var s={expire:function(){try{for(var e=0;e<window.localStorage.length;e++){var t,n=window.localStorage.key(e);!n.startsWith(r)||null!==(t=JSON.parse(window.localStorage.getItem(n))).expire&&t.expire<Date.now()&&window.localStorage.removeItem(n)}return s}catch(e){return s}},set:function(e,t,n){try{var a=null,i={key:e,value:t,expire:a=null!=n?864e5*n+Date.now():a};return window.localStorage.setItem(r+e,JSON.stringify(i)),o.broadcastNoJQ("_storage","set",i),s}catch(e){return s}},get:function(e){try{s.expire();var t=window.localStorage.getItem(r+e);return null!=t?JSON.parse(t).value:null}catch(e){return null}},remove:function(e){try{return window.localStorage.removeItem(r+e),s}catch(e){return s}},list:function(){var e,t={};try{s.expire();for(var n=0;n<window.localStorage.length;n++){var a=window.localStorage.key(n);a.startsWith(r)&&(e=e=void 0,e=window.localStorage.getItem(a),e=JSON.parse(e),t[e.key]=e.value)}return t}catch(e){return t}},getTimeRemaining:function(e){try{s.expire();var t=window.localStorage.getItem(r+e);if(null==t)return null;var n=JSON.parse(t);return null!==n.expire?n.expire-Date.now():null}catch(e){return null}}};return s}),define("tegna-tracking",["module","utils"],function(e,r){const i={name:e.id,class:"."+e.id};r.broadcastNoJQ(i.name,"loaded"),(new function(e){this.el=e,this.module=i,this.init=function(){"true"!==document.getElementsByClassName("page")[0].dataset.isPreview&&(t(),n())};const t=()=>{r.listen(function(e,t,n){a(e,t,n)}),r.listenNoJQ(function(e,t,n){a(e,t,n)})},a=(e,t,n)=>{var a,i;"_trackView"in(n=n||{})&&(a=null,"_trackTags"in n&&(a=[],n._trackTags.forEach((e,t)=>{r.tealium.getId(e)&&a.push(r.tealium.getId(e))})),document.referrer?(i=new URL(document.referrer))&&(n._trackView.ga_previous_path=i.pathname):n._trackView.ga_previous_path="",o(()=>{a?utag.view(n._trackView,null,a):utag.view(n._trackView)})),"_trackEvent"in n&&o(()=>{var e={event_name:n._trackEvent.event};"category"in n._trackEvent?e.event_category=n._trackEvent.category:e.event_category=n._trackEvent.event.split("/")[0],"label"in n._trackEvent&&(e.event_label=n._trackEvent.label),"uids"in n._trackEvent?utag.link(e,null,n._trackingEvent.uids):utag.link(e)})},n=()=>{document.getElementsByTagName("body")[0].on("click","a[data-tracking]",function(e){let t=e.target;!1===t.hasAttribute("data-tracking")&&(t=t.closest("[data-tracking]"));const n=t.dataset.tracking,a=t.getAttribute("href"),i=t.getAttribute("target");var o=[];if(n&&(o=n.split(",")),"utag"in window){e.preventDefault(),e.stopPropagation();function r(){i?window.open(a,i):window.location=a}for(var s=0;s<o.length;s++)s<o.length-1?utag.link({event_name:o[s],event_category:"linkClick"}):utag.link({event_name:o[s],event_category:"linkClick"},r)}}),document.getElementsByTagName("body")[0].on("click","a[data-tracking-action]",function(e){let t=e.target;!1===t.hasAttribute("data-tracking-action")&&(t=t.closest("[data-tracking-action]"));var n=t.dataset.trackingAction,a=t.dataset.trackingCategory||"link click",i=t.dataset.trackingLabel||location.href;const o=t.getAttribute("href"),r=t.getAttribute("target");"utag"in window&&(e.preventDefault(),e.stopPropagation(),utag.link({event_name:n,event_category:a,event_label:i},function(){r?window.open(o,r):window.location=o}))})},o=e=>{"utag"in window?e():window.setTimeout(function(){o(e)},1e3)}}).init()}),define("header-updater",["module","utils"],function(e,t){e={name:e.id,class:"."+e.id};t.broadcastNoJQ(e.name,"loaded"),(new function(){this.init=function(){(async()=>{const e=await fetch("/ajax/content/header",{method:"GET",mode:"same-origin",headers:{"Content-Type":"application/json",pragma:"no-cache","cache-control":"no-cache"}});e.json().then(e=>{t.broadcastNoJQ("header-updater","receivedUpdate",e),window.tegna.headerData=e})})()}}).init()});
//# sourceMappingURL=common.min_5.8.4.js.map