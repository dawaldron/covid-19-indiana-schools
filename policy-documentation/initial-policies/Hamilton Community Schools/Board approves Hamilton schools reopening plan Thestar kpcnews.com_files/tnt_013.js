window.__tnt||(window.__tnt={}),function(e,t,n){var s={},i={_init:function(){s=JSON.parse(t.getElementsByClassName("asset-paging-container")[0].dataset.settings),s.eventScroll=!1,i.fetchAssets()},adConflict:function(){var e=t.querySelector(".tnt-ads-anchor");if(null!==e){var n=t.querySelector(".tnt-ads-anchor .close"),s=t.querySelector(".asset-paging"),i=e.clientHeight,r=i+20;s.style.marginBottom=r+"px",n.addEventListener("click",function(){s.style.marginBottom="0"})}},appendLinks:function(e){for(var n,r,a=0;a<e.length;++a)e[a].id===s.uuid&&(n=e[a+1],r=e[a-1]);if(n||r?!n&&r?n=e[0]:n&&!r&&(r=e[e.length-1]):(r=e[0],n=e[1]),r){var o=t.getElementById("paging-prev-"+s.uuid);o.appendChild(i.populateTemplate(r,"prev")),o.style.display="block",setTimeout(function(){o.classList.remove("offset")},200)}if(n){var l=t.getElementById("paging-next-"+s.uuid),d=t.querySelector(".share-container.headline-right");l.appendChild(i.populateTemplate(n,"next")),l.style.display="block",s.hasPageBreak||setTimeout(function(){l.classList.remove("offset")},200),null!==d&&(s.isFluid?d.style.display="none":d.classList.add("hidden-sm"))}i.eventListeners()},eventListeners:function(){e.addEventListener("load",i.showCondensed,!1),e.addEventListener("resize",i.showCondensed,!1),"article"!==s.assetType||s.hasPageBreak||(e.addEventListener("scroll",i.showOnScroll,!1),e.addEventListener("wheel",i.showOnScroll,!1)),e.innerWidth<=991&&(window.addEventListener("scroll",i.adConflict,!1),window.addEventListener("wheel",i.adConflict,!1))},eventTracking:function(){var e=t.querySelector("#asset-paging-"+s.uuid+" a"),i="right"===e.dataset.direction?"next":"previous";e.addEventListener("click",function(){return n.trackEvent({category:"tnt-prev-next",action:i,label:s.assetType,value:"1"}),!0})},fetchAssets:function(){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){var t=JSON.parse(e.responseText);"object"==typeof t.assets&&t.assets.length>0&&i.appendLinks(t.assets)}},e.open("GET",s.nextUrl),e.send()},populateTemplate:function(e,i){var r,a,o,l=n.template(t.getElementById("asset-paging-template")),d=80,c=s.blockId?e.url+s.blockId:e.url,u=!(!e.preview||"undefined"==e.preview);if("next"===i?(a="right",o=s.isObit?"Next":"Next Up",c+="#tncms-source=article-nav-next"):(a="left",o="Previous",c+="#tncms-source=article-nav-prev"),s.isAdminVenue&&(c=c.replace("https://"+s.systemDomain,""),c="/"+s.siteName+"/tncms/admin/action/main/preview/site/-"+c),u){var p=t.createElement("img");p.setAttribute("alt",e.title),p.setAttribute("data-src",e.preview),p.classList.add("media-object","lazyload"),r=t.createElement("div"),r.classList.add("media-left"),r.appendChild(p),d=60}var g=l.querySelector(".arrow");g.setAttribute("href",c),g.setAttribute("data-direction",a),g.querySelector("span").classList.add("fas","tnt-angle-"+a),g.querySelector(".direction").innerHTML=o.substr(0,4);var m=l.querySelector(".overlay");return m.setAttribute("href",c),m.setAttribute("data-direction",a),m.querySelector(".sr-only").innerHTML=o,l.querySelector(".head small").innerHTML=o,l.querySelector(".media-heading").innerHTML=n.truncateStr(e.title.replace(/(<([^>]+)>)/gi,""),d,"&hellip;"),l.querySelector(".media-body p").innerHTML=n.truncateStr(e.summary.replace(/(<([^>]+)>)/gi,""),d,"&hellip;"),u&&l.querySelector(".media").prepend(r),l},showCondensed:function(){if(e.innerWidth>991&&e.innerWidth<1296){var n=e.scrollLeft;t.getElementById("main-page-container").offsetLeft-n<55?t.body.classList.add("trigger-condensed"):t.body.classList.remove("trigger-condensed")}else t.body.classList.remove("trigger-condensed")},showOnScroll:function(){if(!(s.scrollEvent||null===t.querySelector(".asset-body")||t.body.classList.contains("trigger-disabled")||n.elementOnScreen("#site-header")||n.elementOnScreen("#asset-photo-carousel")||n.elementOnScreen(".asset-masthead")||n.elementOnScreen(".asset-showcase-image")||void 0!=n.regions&&n.regions.stickyAnchor.hasContent)){s.scrollEvent=!0;setTimeout(function(){n.elementOnScreen(".asset-body",250)?t.body.classList.remove("trigger-next"):t.body.classList.add("trigger-next"),s.scrollEvent=!1},200)}}};try{"loading"==t.readyState?t.addEventListener("DOMContentLoaded",i._init,!1):i._init()}catch(t){e.console&&e.console.warn(t)}}(window,document,__tnt);
//# sourceMappingURL=tnt.nextPrev.f1660ccf5d097410b8b72737d216878c.js.map