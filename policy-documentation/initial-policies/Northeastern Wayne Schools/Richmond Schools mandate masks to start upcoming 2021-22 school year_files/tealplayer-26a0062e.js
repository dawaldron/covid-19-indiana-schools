function setPlayerSettings(t){const e={base:{autoplay:!1,debug:!1,defaultVolume:.5,loop:!1,placement:"teal",platform:"desktop",startedBy:"user",startMuted:!1,posterIO:"",closedCaption:!1},comscore:{enable:!1,load:!1,scriptUrl:"https://www.gannett-cdn.com/gannett-web/apps/teal/dist/vendor/comscore/streamsense-5.1.1.160316.min.js",c2:"6035223"},continuousPlay:{encore:!1,timeTillEnd:10,upNextCardEnabled:!1,upNextCardRequiredLength:30,countToRetrieve:3,encoreURL:"",encoreKey:"f6YYPA1hPnB9Y9chky5GOmrZKmaguLVh",assetURL:"",assetKey:"f6YYPA1hPnB9Y9chky5GOmrZKmaguLVh",backfill:!0,noOlderThan:"60d",maxVideoLength:180,finitePlaylist:!1},controls:{activeUserTimeout:3500,controlbarLeft:["play","mute","volumeSlider","timer"],controlbarRight:["skip","closedCaption","share","airplay","fullscreen"],enable:!1,enableBigPlayButton:!1,native:!1},share:{enableShareAPI:!1},heartbeat:{account:"globaldesktopmobilesite",appMeasurementScriptUrl:"https://www.gannett-cdn.com/gannett-web/apps/teal/dist/vendor/adobe/AppMeasurement-2.11.0.min.js",enable:!1,errorTracking:!0,debugLogging:!1,hbTrackingServer:"gannett.hb.omtrdc.net",load:!1,market:"",orgId:"CF4957F555EE9B727F000101@AdobeOrg",qosTracking:!0,scriptUrl:"https://www.gannett-cdn.com/gannett-web/apps/teal/dist/vendor/adobe/MediaSDK.2.2.0.min.js",trackingServer:"",trackingServerSecure:"",visitorScriptUrl:"https://www.gannett-cdn.com/gannett-web/apps/teal/dist/vendor/adobe/VisitorAPI-3.4.0.min.js"},hls:{enable:!1,excludeRenditions:!1,excludeRenditionsArray:["1080p_30fps,"],load:!1,maxBufferSize:1e6,maxMaxBufferLength:10,scriptUrl:"https://www.gannett-cdn.com/gannett-web/apps/teal/dist/vendor/hls/hls.0.14.9.min.js"},ias:{anId:"922805",enable:!1,load:!1,partner:"IMA",scriptUrl:"https://www.gannett-cdn.com/gannett-web/apps/teal/dist/vendor/ias/ias-3.5.1.min.js"},ima:{enable:!1,load:!1,requiredSkipAdLength:15,scriptUrl:"https://imasdk.googleapis.com/js/sdkloader/ima3.js",timeTillEnd:5,userWaitTime:15,accountId:7103,accountName:"usatoday",desktopSize:"920x508",mobileAccountName:"usatoday_mobile",mobilePlacement:"mobileweb-preroll",mobileSize:"1024x576",placement:"preroll_video",adPlusEnabled:!1,adPlusCampaign:"continousplus1",adPlusMaxFailures:1,adPlusMaxRequests:2,adPlusRequiredPlays:1,gdprApplies:!1,targetingConsent:!1,tcString:"",prebidBids:[],a9Params:"",targetingConsent:!0,vpaidMode:"INSECURE"},nudge:{enable:!1,load:!1,scriptUrl:"https://www.gannett-cdn.com/gannett-web/apps/teal/dist/vendor/nudge/ndg-8205542976.min.js"},parsely:{enable:!1,load:!1,autoTrack:!0,scriptUrl:"https://cdn.parsely.com/keys/usatoday.com/p.js",platform:"TealPlayerDefault"},gcianalytics:{enable:!1,load:!1,scriptUrl:"https://www.gannett-cdn.com/dcjs/prod/main.js"},accio:{enable:!1,load:!1,scriptUrl:"https://s3.amazonaws.com/accio-lib/accio_ott_sdk.js"},svg:{}};for(const[s,i]of Object.entries(t))Object.assign(e[s],i);return e}function setPageData(t){return Object.assign({adTargeting:{customParams:{},simpleTarget:[]},adFreeExperience:!1,awsPath:"",baseName:"",displayName:"",keywords:"",pageType:"",publicationName:"",section:"",series:"",siteCode:"",subsection:"",subtopic:"",topic:"",variant:"",vfront:"",vfrontsec:"",twitter:"",anonymousId:"",benefitSegment:"",clientID:"",cohort:"",dynamicPaywallSegments:"",fireflyUserId:"",userLicenseType:"",userMeterState:"",userScroll:"",userType:""},t)}function setVideoData(t){return Object.assign({adsEnabled:!0,awsPath:"",byline:"",createDate:"",credit:"",gannettTracking:"",headline:"",hlsURL:"",id:"",initialPublishDate:"",keywords:"",length:"",mp4URL:"",origin:"",pageURL:{long:""},promoBrief:"",publishDate:"",renditions:[],series:"",ssts:{section:"",storysubject:"",subsection:"",subtopic:"",topic:""},tags:[],title:"",videoStill:""},t)}var Utils={loadScript:(t,e)=>document.getElementById(t)?Promise.resolve():new Promise((s,i)=>{const a=document.createElement("script");a.defer=!0,a.src=e,a.id=t,a.onload=s,a.onerror=i,document.body.appendChild(a)}),loadAndWaitForInit(t,e,s){return new Promise((i,a)=>{window[s]?i():this.loadScript(e,t).then(()=>this.waitForInit(s).then(i,a),t=>a(new Error(t)))})},waitForInit:(t,e=2e3)=>new Promise((s,i)=>{if(window[t])return void s();let a=setInterval(()=>{window[t]&&(clearInterval(a),s())},10);setTimeout(()=>{clearInterval(a),window[t]?s():i(new Error(`${t} failed to load within the timeout limit`))},e)}),getNested:(t,...e)=>!!t&&e.reduce((t,e)=>t&&t[e],t),_registerEvents(t,e,s){e&&e.length&&s&&e.forEach(e=>{e.handler&&s.addEventListener(e.event,s=>{e.handler&&e.handler.call(t,s)})})},debounce(t,e){let s;return(...i)=>{const a=this;clearTimeout(s),s=setTimeout(()=>t.apply(a,i),e)}},throttle(t,e){let s=Date.now();return function(...i){const a=Date.now();a-s>=e&&(t(...i),s=a)}},get el(){return{get:function(t){return document.getElementById(t)}}},joinStrings(t,e){let s=t?t.toLowerCase():"",i=e?e.toLowerCase():"",a=[];return s===i?s:(s&&a.push(s),i&&a.push(i),a.join())},sstsToString:t=>[t.ssts.section,t.ssts.subsection,t.ssts.subtopic,t.ssts.topic].filter(String).join("/"),tagsToString(t=[]){if(!t)return;let e=[];return t.forEach(t=>{e.push(t.name)}),e.filter(String).join(",")},tagsToArray(t=[]){if(!t)return;let e=[];return t.forEach(t=>{e.push(t.name)}),e},appendQSP:(t,e)=>t&&e?("?"!==e.charAt(0)&&"&"!==e.charAt(0)||(e=e.substr(1)),t.indexOf("?")>-1?`${t}&${e}`:`${t}?${e}`):t,get UA(){return{get isAndroid(){return this._isAndroid||(this._isAndroid=/Android/.test(navigator.userAgent)&&!window.MSStream),this._isAndroid},get isIphone(){return this._isIphone||(this._isIphone=/iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream),this._isIphone},get isIpad(){return this._isIPad||(this._isIPad=/iPad/.test(navigator.userAgent)&&!window.MSStream),this._isIPad},get isIOS(){return this._isIOS||(this._isIOS=/iPhone|iPod|iPad/.test(navigator.userAgent)&&!window.MSStream),this._isIOS},get isSafari(){return this._isSafari||(this._isSafari=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)),this._isSafari},get isIE(){return this._isIE||(this._isIE=/msie\s|trident\/|edge\//i.test(navigator.userAgent)),this._isIE},get isIE11(){return this._isIE11||(this._isIE11=/trident/i.test(navigator.userAgent)),this._isIE11},get isMobile(){return this.isAndroid||this.isIOS}}},markStart(t){this.markers=this.markers||{},this.markers[t]=performance.now()},markEnd:function(t){let e=0;return t&&this.markers[t]&&(e=parseFloat(((performance.now()-this.markers[t])/1e3).toFixed(3))),e}};class StateManager{constructor(t){this._state=this.states.INITIALIZING,this._controller=this.controllers.VIDEO,this._subscribers=[],this._bitRate={name:"bitRate",value:0},this._currentVolume={name:"currentVolume",value:.5},this._docHidden={name:"docHidden",value:!1},this._fullscreen={name:"fullscreen",value:!1},this.attemptedPlay=!1,this.continousPlayChecked=!1,this.durationSet=!1,this.hasStarted=!1,this.hlsLoaded=!1,this.imaKickedOff=!1,this.adDisplayInitialized=!1,this.prerollDisabled=!1,this.playbackIndex=0,this.playCount=0,this.startuptime=0,this.videoPrefetched=!1,this.EVENTS={adPlusComplete:"adPlusComplete",encoreComplete:"encoreComplete",metadata:"metadata",muteClick:"muteClick",pauseClick:"pauseClick",playClick:"playClick",playBackError:"playBackError",unmuteClick:"unmuteClick",seeked:"seeked",skip:"skip",timeChange:"timeChange",upNextClosed:"upNextClosed",upNextClicked:"upNextClicked"}}resetState(){this.attemptedPlay=!1,this.bitRate=0,this.hasStarted=!1,this.imaKickedOff=!1,this.hlsLoaded=!1,this.durationSet=!1,this.continousPlayChecked=!1,this.playCount=0,this.startuptime=0}get bitRate(){return this._bitRate.value}set bitRate(t){this._bitRate.value=t,this._notifyMeta(this._bitRate.name,t)}get currentVolume(){return this._currentVolume.value}set currentVolume(t){this._currentVolume.value=t,this._notifyMeta(this._currentVolume.name,t)}get docHidden(){return this._docHidden.value}set docHidden(t){this._docHidden.value=t,this._notifyMeta(this._docHidden.name,t)}get fullscreen(){return this._fullscreen.value}set fullscreen(t){this._fullscreen.value=t,this._notifyMeta(this._fullscreen.name,t)}setVideoState(t){this._setState(this.controllers.VIDEO,t)}setPrerollState(t){this._setState(this.controllers.PREROLL,t)}get controllers(){return{VIDEO:"video",PREROLL:"preroll"}}get isPreroll(){return this.controller===this.controllers.PREROLL}get isMuted(){return 0===this.currentVolume}get isVideo(){return this.controller===this.controllers.VIDEO}get states(){return{DONE:"done",INITIALIZING:"initializing",LOADING:"loading",BUFFERING:"buffering",PAUSED:"paused",PLAYING:"playing",READY:"ready",STARTED:"started"}}get controller(){return this._controller}set controller(t){}get state(){return this._state}set state(t){}_setState(t,e){if(this._controller!==t||this._state!==e){if(!this.controllers[t.toUpperCase()])throw new Error(`${t} is not a valid controller`);if(!this.states[e.toUpperCase()])throw new Error(`${e} is not a valid state`);this._controller=t,this._state=e,this._notifyState(t,e)}}subscribe(t,e={STATE:!1,META:!1,EVENT:!1}){this._subscribers.push({sub:t,subs:e})}unsubscribe(t){this._subscribers=this._subscribers.filter(e=>e.sub!==t)}_notifyState(t,e){this._subscribers.forEach((s,i)=>{"function"==typeof s.subs.STATE&&s.subs.STATE.call(s.sub,{state:e,controller:t})})}_notifyMeta(t,e){this._subscribers.forEach((s,i)=>{"function"==typeof s.subs.META&&s.subs.META.call(s.sub,t,e)})}notifyEvent(t){this._subscribers.forEach((e,s)=>{"function"==typeof e.subs.EVENT&&e.subs.EVENT.call(e.sub,t)})}}class Base{constructor(t={}){this.sm=new StateManager(this.logger)}}window.Teal=window.Teal||{},window.Teal.Utils=Utils,window.Teal.History=[];class TealPlayer extends Base{constructor(t={container:"",video:"",adContainer:""},e={},s={},i={},a=!1){if(super(e),!i.mp4URL&&!i.hlsURL)throw new Error("a valid source is required for playback");this.elements=this._gatherElements(t),this.settings=setPlayerSettings(e),this.pageData=setPageData(s),this.originalVideo=this.data=this._excludeRenditions(setVideoData(i)),this.adDisplayContainer=a,this._init()}_gatherElements(t){if(!(t.container&&t.video&&t.adContainer))throw new Error("conatiner, video, and adContainer elements are required");if("string"==typeof t.container&&""!==t.container&&(t.container=document.getElementById(t.container)),"string"==typeof t.video&&""!==t.video&&(t.video=document.getElementById(t.video)),!t.video||"VIDEO"!==t.video.tagName)throw new Error("video element not found or is invalid");return"string"==typeof t.adContainer&&""!==t.adContainer&&(t.adContainer=document.getElementById(t.adContainer)),t}_init(){this.upNext=[],this.settings.base.autoplay&&(this.settings.base.startMuted=!0),this.sm.currentVolume=this.settings.base.startMuted?0:this.settings.base.defaultVolume,this._additionalSetup(),Promise.all(this._loadDependencies()).then(()=>this._ready()).catch(()=>this._ready()),this._setupGlobalListeners(),this._setupVideoListeners(),this._checkForBids(),this.sm.subscribe(this,{STATE:this._onStateChange,META:this._onMetaChange,EVENT:this._onEvent})}_ready(){this.sm.setVideoState(this.sm.states.READY),this.settings.base.autoplay&&this.play()}_onMetaChange(t,e){switch(t){case this.sm._docHidden.name:}}_onEvent(t){switch(t){case this.sm.EVENTS.skip:}}_onStateChange(t){t.state&&this._onStateChangeAll(t.state),t.controller===this.sm.controllers.PREROLL?this._onStateChangePreroll(t.state):t.controller===this.sm.controllers.VIDEO&&this._onStateChangeVideo(t.state)}_onStateChangeAll(t){switch(t){case this.sm.states.STARTED:this.sm.hasStarted=!0,this.sm.startuptime||(this.sm.startuptime=Teal.Utils.markEnd("startuptime")),this.setVolumeLevel(this.sm.currentVolume);break;case this.sm.states.PLAYING:this._setTimeInterval();break;case this.sm.states.PAUSED:this._clearTimeInterval()}}_onStateChangePreroll(t){switch(t){case this.sm.states.DONE:(!this.ima||this.ima&&!this.ima._supportsAdPlus)&&this._proceedToVideo();break;case this.sm.states.STARTED:this.elements.container.classList.add("teal-ad-playback")}}_onStateChangeVideo(t){switch(t){case this.sm.states.STARTED:-1===Teal.History.indexOf(this.data.id)&&Teal.History.push(this.data.id),this.sm.attemptedPlay=!0;break;case this.sm.states.PLAYING:this.elements.container.classList.remove("teal-ad-playback")}}_setupNext(){if(!this.encore||!this.encore.hasNext())return!1;const t=this._excludeRenditions(this.encore.getNext());return this.elements.video.src="",this.hls&&this.hls.destroy(),this.data=t,this._additionalSetup(),this.sm.videoPrefetched=!1,this._setPoster(),this._addSrc(),this.sm.docHidden||this._kickoff(),this.sm.playbackIndex++,!0}_setPoster(){this.ima&&this.encore&&!this.sm.docHidden&&this.elements.container.classList.add("teal-ad-playback");let t=this.data.videoStill||"";this.elements.video.poster=Teal.Utils.appendQSP(t,this.settings.base.posterIO)}_resetUI(){this.elements.video.loop||(this.elements.video.poster||this._setPoster(),this.elements.video.load())}_setupGlobalListeners(){Teal.Utils._registerEvents(this,[{event:"visibilitychange",handler:()=>{this._onVisibilitychange()}}],document)}_setupVideoListeners(){let t=[{event:"ended",handler:()=>{this._forVideo(this._onEnded)}},{event:"error",handler:()=>{this._forVideo(this._onError)}},{event:"loadeddata",handler:()=>{this._forVideo(this._onLoadedData)}},{event:"loadedmetadata",handler:()=>{this._forVideo(this._onLoadedMetadata)}},{event:"pause",handler:()=>{this._forVideo(this._onPause)}},{event:"play",handler:()=>{this._forVideo(this._onPlay)}},{event:"playing",handler:this._forVideo(()=>{this.sm.setVideoState(this.sm.states.PLAYING)})},{event:"seeked",handler:this._forVideo(()=>{this.sm.notifyEvent(this.sm.EVENTS.seeked),this.isVideoPaused?this.sm.setVideoState(this.sm.states.PAUSED):this.sm.setVideoState(this.sm.states.PLAYING)})},{event:"waiting",handler:this._forVideo(Teal.Utils.throttle(()=>{this.sm.setVideoState(this.sm.states.BUFFERING)},500))}];Teal.Utils._registerEvents(this,t,this.elements.video)}_forVideo(t){this.sm.isVideo&&t.call(this)}_checkForBids(){this.prebid(this.settings.ima.prebidBids),this.a9(this.settings.ima.a9Params)}_onEnded(){this.sm.setVideoState(this.sm.states.DONE),this.sm.resetState(),this.encore&&(this.encore.closeUpNext(),this.settings.continuousPlay.finitePlaylist&&!this.encore.hasNext()&&this.sm.notifyEvent(this.sm.EVENTS.encoreComplete)),this._setupNext()||this._resetUI()}_onError(){const t=this.elements.video.error;this.errorCode=t&&t.code||"",this.sm.notifyEvent(this.sm.EVENTS.playBackError)}_onLoadedData(){}_onLoadedMetadata(){this.sm.notifyEvent(this.sm.EVENTS.metadata)}_onPause(){this.sm.setVideoState(this.sm.states.PAUSED)}_onPlay(){this.sm.playCount||this.sm.setVideoState(this.sm.states.STARTED),this.sm.playCount++,this.sm.setVideoState(this.sm.states.PLAYING)}_onClickEvent(t){t&&this.ima&&this.ima._disableAdPlus()}_onVisibilitychange(){this.sm.hasStarted&&(document.hidden?(this.sm.docHidden=!0,this.prevState||(this.prevState=this.sm.state),this.isVideo?(this.sm.docHidden=!0,this.sm.setVideoState(this.prevState)):(this.sm.docHidden=!0,this.sm.setPrerollState(this.prevState))):(this.prevState="",this.sm.docHidden=!1))}_additionalSetup(){this.settings.base.loop&&(this.elements.video.loop=!0),this.isMuted&&(this.elements.video.muted=!0),this.settings.base.closedCaption&&this.data.hlsURL&&this.data.hlsURL.indexOf("subtitles")<0&&(this.data.hlsURL=Teal.Utils.appendQSP(this.data.hlsURL,"?subtitles="+this.data.id)),this.elements.video.title=this.data.title}_excludeRenditions(t){if(!this.settings.hls.excludeRenditions||!t.hlsURL)return t;let e=this.settings.hls.excludeRenditionsArray;if(e&&e.length)for(let s=0;s<e.length;s++)t.hlsURL=t.hlsURL.replace(e[s],"");return t}_loadDependencies(){return this._depPromises=[],this._loadHeartbeat(),this._loadIMA(),this._addSrc(),this._loadComscore(),this._loadControls(),this._loadNudge(),this._loadParsely(),this._loadGcianalytics(),this._loadAccio(),this._depPromises}_addSrc(){this.settings.hls.enable&&this.data.hlsURL&&!Teal.Utils.UA.isIE11?Teal.Utils.UA.isIOS||Teal.Utils.UA.isSafari?this.elements.video.src=this.data.hlsURL:this._loadHLS():this.elements.video.src=this.data.mp4URL}_videoLoad(){!this.sm.hlsLoaded&&this.hls&&this.data.hlsURL?this.hlsCanPlayPromise=this.hls._videoLoad():this.elements.video.load()}_mp4Fallback(t=!1){this.data.mp4URL&&(this.elements.video.src=this.data.mp4URL,(t||this.sm.attemptedPlay)&&this._playVideo())}_playVideo(){try{if(this.sm.attemptedPlay=!0,this.hlsCanPlayPromise)return void this.hlsCanPlayPromise.then(()=>{this.elements.video.play()});this.elements.video.play()}catch(t){this.elements.video.src!==this.data.mp4URL&&this._mp4Fallback(!0)}}_proceedToVideo(){this.sm.setVideoState(this.sm.states.LOADING),this.sm.videoPrefetched||this._videoLoad(),this._playVideo()}_shouldPrefetch(){return!Teal.Utils.UA.isMobile&&!this.sm.videoPrefetched}_kickoff(){Teal.Utils.markStart("startuptime"),this.controls&&(this.controls.activeUser=!1),this.elements.video.load(),!this.adDisplayContainer&&this.settings.ima.enable&&!this.pageData.adFreeExperience&&window.google&&window.google.ima&&(this.adDisplayContainer=new google.ima.AdDisplayContainer(this.elements.adContainer,this.elements.video)),this.adDisplayContainer?(this.adDisplayContainer.initialize(),this.sm.adDisplayInitialized=!0):this.settings.base.startMuted||this._disablePreroll(),this.sm.prerollDisabled||this.sm.imaKickedOff||!this.data.adsEnabled?this._proceedToVideo():this.imaPromise.then(()=>{this.ima._kickoff()},()=>{this._proceedToVideo()})}_setTimeInterval(){this.timerInterval||(this.timerInterval=setInterval(()=>{this.sm.notifyEvent(this.sm.EVENTS.timeChange),this.isVideo&&!this.sm.continousPlayChecked&&this._checkContinousPlay(),this.isPreroll&&this._shouldPrefetch()&&!this.ima._supportsAdPlus&&this._callVideoLoad()},250))}_callVideoLoad(){this.ima.remainingTime<=this.settings.ima.timeTillEnd&&(this.sm.videoPrefetched=!0,this._videoLoad())}_clearTimeInterval(){this.timerInterval&&clearInterval(this.timerInterval),this.timerInterval=null}_checkContinousPlay(){let t=this.settings.continuousPlay;if(t.encore&&this.data.adsEnabled){if(this.duration-this.currentTime<=t.timeTillEnd){this.sm.continousPlayChecked=!0;let t=this.encore?this.encore.processQueue():this._loadEncore();this.encore._supportsUpNextCard()&&t.then(()=>{this.encore.showUpNext()})}}}get currentTime(){return this.elements.video.currentTime}get duration(){return this.elements.video.duration}get capiDuration(){return this.data.renditions&&this.data.renditions.length>0&&!isNaN(this.data.renditions[0].duration)&&this.data.renditions[0].duration>0&&this.data.renditions[0].duration?this.data.renditions[0].duration/1e3:this.data.duration?this.data.duration/1e3:this.data.length&&this.data.length>0?this.data.length:0}_loadControls(){this.settings.controls.enable&&(this.settings.controls.native?this.elements.video.controls=!0:window.Teal.Controls&&(this.controls=new window.Teal.Controls(this)))}_loadHeartbeat(){this.settings.heartbeat.enable&&this.settings.heartbeat.market&&this.settings.heartbeat.trackingServer&&this.settings.heartbeat.trackingServerSecure&&this._depPromises.push(new Promise((t,e)=>{this.hb=new window.Teal.Heartbeat(this,t)}))}_loadHLS(){this.settings.hls.enable&&this.data.hlsURL&&window.Teal.HLS&&(this.hls||this._depPromises.push(new Promise((t,e)=>{this.hls=new window.Teal.HLS(this,t)})))}_loadIMA(){this.settings.ima.enable&&!this.pageData.adFreeExperience?window.Teal.IMA&&(this.imaPromise=new Promise((t,e)=>{this.ima=new window.Teal.IMA(this,{resolve:t,reject:e})}),this._depPromises.push(this.imaPromise)):this._disablePreroll()}_loadNudge(){this.settings.nudge.enable&&window.Teal.Nudge&&this._depPromises.push(new Promise((t,e)=>{this.nudge=new window.Teal.Nudge(this,t)}))}_loadComscore(){this.settings.comscore.enable&&window.Teal.Comscore&&(this.comscore=new window.Teal.Comscore(this))}_loadParsely(){this.settings.parsely.enable&&window.Teal.Parsely&&(this.parsely=new window.Teal.Parsely(this))}_loadGcianalytics(){this.settings.gcianalytics.enable&&window.Teal.Gcianalytics&&(this.gcianalytics=new window.Teal.Gcianalytics(this))}_loadAccio(){this.settings.accio.enable&&window.Teal.Accio&&(this.accio=new window.Teal.Accio(this))}_loadEncore(){return this.encore=new window.Teal.Encore(this),this.encore.processQueue()}_disablePreroll(){this.sm.prerollDisabled=!0}adResize(){this.isPreroll&&this.ima.adResize()}play(){this.sm.hasStarted?this.isVideo?this._playVideo():this.isPreroll&&this.ima._play():this._kickoff()}pause(){this.isVideo?this.elements.video.pause():this.isPreroll&&this.ima._pause()}mute(){this.sm.currentVolume&&(this.restoreVolume=this.sm.currentVolume),this.setVolumeLevel(0)}unmute(){this.setVolumeLevel(this.restoreVolume||this.settings.base.defaultVolume),this.restoreVolume=""}setVolumeLevel(t){this.elements.video.muted=0===t,this.sm.currentVolume=t,this.elements.video.volume=t,this.isPreroll&&this.ima._setVolume(t)}seek(t){this.isVideo&&(this.elements.video.currentTime=t)}togglePlayback(){this.sm.state!==this.sm.states.PAUSED&&this.sm.hasStarted?this.sm.state===this.sm.states.PLAYING&&(this.isVideo&&this.sm.notifyEvent(this.sm.EVENTS.pauseClick),this.pause()):(this.isVideo&&this.sm.notifyEvent(this.sm.EVENTS.playClick),this.play())}enterFullscreen(){this.isPreroll&&this.ima._adResize()}exitFullscreen(){this.isPreroll&&this.ima._adResize()}skip(){this.isPreroll&&this.ima.skip()}setPlacement(t){this.settings.base.placement=t}setNext(t=[]){this.settings.continuousPlay.encore&&(this.encore?t instanceof Array?this.encore.setNextPlaylist(t):this.encore.addVideo(t):t instanceof Array?this.upNext=this.upNext.concat(t):this.upNext.push(setVideoData(t)))}get state(){return this.sm.state}get controller(){return this.sm.controller}get isPreroll(){return this.sm.isPreroll&&this.ima}get isMuted(){return this.sm.isMuted}get isVideo(){return this.sm.isVideo}get isVideoPaused(){return this.elements.video.paused}get _adBreakState(){if(!this.ima||!this.data.adsEnabled||this.pageData.adFreeExperience)return"adsDisabled";let t=this.settings.ima.adPlusCampaign||"adplus";return this.settings.ima.adPlusEnabled&&this.ima.adCount?`preroll-${t}|adCount=${this.ima.adCount}`:"preroll"}get _playAction(){return this._recommendation?this._recommendation:"auto-first"===this.settings.base.startedBy||this.settings.base.autoplay?"autoplay":"user-initiated"}get _playbackState(){let t=this.isMuted?"muted":"unmuted";return`${this._playAction}|${t}|${this._adBreakState}|${this.settings.base.placement}`}get _recommendation(){let t="";return this.encore&&this.sm.playbackIndex>0&&(t="encore-autoplay"),t}prebid(t){this.imaPromise&&t&&t.length>0&&this.imaPromise.then(()=>{this.ima._setPrebidBids(t)})}a9(t){this.imaPromise&&t&&this.imaPromise.then(()=>{this.ima._setA9Params(t)})}}window.Teal.Player=TealPlayer,window.Teal.Player;var version="1.81.0";window.Teal.Version=version;