!function(e){function t(t){for(var n,i,l=t[0],_=t[1],s=t[2],c=0,d=[];c<l.length;c++)i=l[c],o[i]&&d.push(o[i][0]),o[i]=0;for(n in _)Object.prototype.hasOwnProperty.call(_,n)&&(e[n]=_[n]);for(u&&u(t);d.length;)d.shift()();return a.push.apply(a,s||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,l=1;l<r.length;l++){var _=r[l];0!==o[_]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},o={16:0},a=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="../Common/JavaScript/resourcelibrary/reactportlets/";var l=window.webpackJsonp=window.webpackJsonp||[],_=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=_;a.push([1594,0,20]),r()}({108:function(e,t,r){"use strict";(function(e){var n;function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.d(t,"a",(function(){return l})),(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).enterModule)&&n(e);var a,i,l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"setModalAsMinimized",value:function(){sessionStorage.setItem(this.sessionStorage_modalIsMinimised,"minimized")}},{key:"setModalAsUnminimized",value:function(){sessionStorage.setItem(this.sessionStorage_modalIsMinimised,"unminimized")}},{key:"getIfModalIsMinimized",value:function(){var e=!1,t=sessionStorage.getItem(this.sessionStorage_modalIsMinimised);return void 0!==t&&(e="minimized"===t),e}},{key:"getLiveAlertIDs",value:function(){var e=sessionStorage.getItem(this.sessionStorage_liveAlertIDs);return e?e.split(","):[]}},{key:"setLiveAlertIDs",value:function(e){sessionStorage.setItem(this.sessionStorage_liveAlertIDs,e.join(","))}},{key:"getAlertIDsAlreadySeen",value:function(){var e=sessionStorage.getItem(this.sessionStorage_alertIDsAlreadySeen);return e?e.split(","):[]}},{key:"setAlertIDsAlreadySeen",value:function(e){sessionStorage.setItem(this.sessionStorage_alertIDsAlreadySeen,e.join(","))}},{key:"getNumAjaxRequests",value:function(){var e=sessionStorage.getItem(this.sessionStorage_numAjaxRequests);return e?parseInt(e,10):0}},{key:"incrementNumAjaxRequests",value:function(){var e=this.getNumAjaxRequests();e+=1,this.setNumAjaxRequests(e)}},{key:"decrementNumAjaxRequests",value:function(){var e=this.getNumAjaxRequests();e-=1,this.setNumAjaxRequests(e)}},{key:"setNumAjaxRequests",value:function(e){sessionStorage.setItem(this.sessionStorage_numAjaxRequests,e.toString())}}],(r=null)&&o(t.prototype,r),n&&o(t,n),e}();l.sessionStorage_modalIsMinimised="modalIsMinimised",l.sessionStorage_liveAlertIDs="liveAlertIDs",l.sessionStorage_alertIDsAlreadySeen="alertIDsAlreadySeen",l.sessionStorage_numAjaxRequests="numAjaxRequests",(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).default)&&a.register(l,"SessionStorage","C:\\BuildAgent\\work\\b6d23f6258d18528\\src\\components\\unifiedPublishingAlert\\sessionStorage\\SessionStorage.tsx"),(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).leaveModule)&&i(e)}).call(this,r(7)(e))},113:function(e,t){},120:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return _}));var n,o=r(15),a=r.n(o);(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).enterModule)&&n(e);var i,l,_=function(e){return e.modalIsOpen?a()("html").addClass("CMS_PF_dialog_open"):a()("html").removeClass("CMS_PF_dialog_open"),null};(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).default)&&i.register(_,"ModalHtmlClassHack","C:\\BuildAgent\\work\\b6d23f6258d18528\\src\\components\\common\\modalHtmlClassHack\\ModalHtmlClassHack.tsx"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).leaveModule)&&l(e)}).call(this,r(7)(e))},1594:function(e,t,r){r(110),e.exports=r(1595)},1595:function(e,t,r){"use strict";r.r(t),function(e){var t,n=r(0),o=r(25),a=r(960);(t=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).enterModule)&&t(e);for(var i,l,_=document.getElementsByClassName("unifiedPublishingAlertComponent"),s=function(e){var t,r=_[e],i=r.attributes["data-portlet-instance-id"].nodeValue;t=a.a,o.render(n.createElement(t,{portletInstanceId:i}),r)},u=0;u<_.length;u++)s(u);(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).default)&&i.register(_,"components","C:\\BuildAgent\\work\\b6d23f6258d18528\\src\\components\\unifiedPublishingAlert\\demoPage\\unifiedPublishingAlertPage2.tsx"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).leaveModule)&&l(e)}.call(this,r(7)(e))},1596:function(e,t,r){},49:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var enterModule;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}__webpack_require__.d(__webpack_exports__,"a",(function(){return EnviroConfig})),enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(2)).enterModule,enterModule&&enterModule(module);var EnviroConfig=function(){function EnviroConfig(){_classCallCheck(this,EnviroConfig),this.toBoolean=function(e){return!!e},this.newsroomServiceURL="/WebApi/Newsroom/",this.createAlertServiceURL="../WebServices/UnifiedPublishing/UnifiedPublishingService.asmx/",this.portletLibraryServiceURL="/WebApi/portal/",this.iconpickerServiceURL="/WebApi/quicklinkportlet/",this.quicklinkportletServiceURL="/WebApi/quicklinkportlet/",this.searchServiceURL="/WebApi/search/",this.staffDirServiceURL="../Common/controls/StaffDirectory/ws/StaffDirectoryWS.asmx/",this.calendarServiceURL="../Common/controls/WorkspaceCalendar/ws/WorkspaceCalendarWS.asmx/",this.unifiedPublishingAlertServiceURL="../WebServices/UnifiedPublishing/UnifiedPublishingService.asmx/",this.bannerServiceURL="/WebApi/Banner",this.socialMediaManagementURL="/WebApi/",this.emailPopupPath="../common/controls/General/Email/Default.aspx?action=staffDirectoryEmail&recipients=",this.modernSocialMediaAlertsInTestMode=!1}return _createClass(EnviroConfig,[{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),EnviroConfig}(),reactHotLoader,leaveModule;reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(2)).default,reactHotLoader&&reactHotLoader.register(EnviroConfig,"EnviroConfig","C:\\BuildAgent\\work\\b6d23f6258d18528\\src\\components\\EnviroConfig.ts"),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(2)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},56:function(e,t){},93:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return l}));var n,o=r(0);(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).enterModule)&&n(e);var a,i,l=function(e){return e.showSpinner?o.createElement("div",{className:"CMS_loadingSpinner",title:e.loadingText,"aria-hidden":"true"},o.createElement("div",{className:"CMS_ls_spin"})):null};(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).default)&&a.register(l,"LoadingSpinner","C:\\BuildAgent\\work\\b6d23f6258d18528\\src\\components\\Common\\LoadingSpinner\\LoadingSpinner.tsx"),(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).leaveModule)&&i(e)}).call(this,r(7)(e))},960:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return UnifiedPublishingAlert}));var whatwg_fetch__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(117),whatwg_fetch__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(whatwg_fetch__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),lodash_difference__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(961),lodash_difference__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_difference__WEBPACK_IMPORTED_MODULE_2__),querystring__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(159),querystring__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(querystring__WEBPACK_IMPORTED_MODULE_3__),_data_DataService__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(962),_classes_Alert__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(963),_classes_Text__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(964),_common_modalHtmlClassHack_ModalHtmlClassHack__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(120),_UnifiedPublishingModal__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(965),_UnifiedPublishingUnminimizeButton__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(969),_sessionStorage_SessionStorage__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(108),_node_modules_font_awesome_scss_font_awesome_scss__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(89),_node_modules_font_awesome_scss_font_awesome_scss__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_node_modules_font_awesome_scss_font_awesome_scss__WEBPACK_IMPORTED_MODULE_11__),_common_styles_presenceFramework_css__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(56),_common_styles_presenceFramework_css__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_common_styles_presenceFramework_css__WEBPACK_IMPORTED_MODULE_12__),_UnifiedPublishing_css__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(1596),_UnifiedPublishing_css__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_UnifiedPublishing_css__WEBPACK_IMPORTED_MODULE_13__),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(2)).enterModule,enterModule&&enterModule(module);var UnifiedPublishingAlert=function(_React$Component){function UnifiedPublishingAlert(e){var t;return _classCallCheck(this,UnifiedPublishingAlert),(t=_possibleConstructorReturn(this,_getPrototypeOf(UnifiedPublishingAlert).call(this,e))).getWhetherToShowDummyAlert=function(){var e=!1,t=location.search;t&&t.length>0&&"?"===t[0]&&(t=t.substring(1,t.length));var r=querystring__WEBPACK_IMPORTED_MODULE_3__.parse(t);return r&&(r.showAlert||r.showAlerts)&&("true"!==r.showAlert&&"true"!==r.showAlerts||(e=!0)),e},t.setInitialState(),t.dataService=new _data_DataService__WEBPACK_IMPORTED_MODULE_4__.a,t.onMinimizeModal=t.onMinimizeModal.bind(_assertThisInitialized(t)),t.onUnminimizeModal=t.onUnminimizeModal.bind(_assertThisInitialized(t)),t}return _inherits(UnifiedPublishingAlert,_React$Component),_createClass(UnifiedPublishingAlert,[{key:"componentDidMount",value:function(){this.loadLiveAlerts()}},{key:"onMinimizeModal",value:function(e){e.preventDefault(),_sessionStorage_SessionStorage__WEBPACK_IMPORTED_MODULE_10__.a.setModalAsMinimized(),this.setState({modalIsMinimized:!0})}},{key:"onUnminimizeModal",value:function(e){e.preventDefault(),this.loadLiveAlerts(!0),_sessionStorage_SessionStorage__WEBPACK_IMPORTED_MODULE_10__.a.setModalAsUnminimized(),this.setState({modalIsMinimized:!1})}},{key:"render",value:function(){var e=this.state.displayModal&&!this.state.modalIsMinimized;return react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement(_common_modalHtmlClassHack_ModalHtmlClassHack__WEBPACK_IMPORTED_MODULE_7__.a,{modalIsOpen:e}),e&&react__WEBPACK_IMPORTED_MODULE_1__.createElement(_UnifiedPublishingModal__WEBPACK_IMPORTED_MODULE_8__.a,{displayModal:this.state.displayModal,liveAlerts:this.state.liveAlerts,modalIsMinimized:this.state.modalIsMinimized,numAjaxRequests:this.state.numAjaxRequests,text:this.state.text,onMinimizeModal:this.onMinimizeModal}),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_UnifiedPublishingUnminimizeButton__WEBPACK_IMPORTED_MODULE_9__.a,{displayModal:this.state.displayModal,modalIsMinimized:this.state.modalIsMinimized,numAlerts:this.state.liveAlerts.length,text:this.state.text,onUnminimizeModal:this.onUnminimizeModal}))}},{key:"setInitialState",value:function(){var e=this.getBlankInternationalizedText(),t=_sessionStorage_SessionStorage__WEBPACK_IMPORTED_MODULE_10__.a.getIfModalIsMinimized(),r=_sessionStorage_SessionStorage__WEBPACK_IMPORTED_MODULE_10__.a.getNumAjaxRequests();this.state={error:"",liveAlerts:[],displayModal:!1,modalIsMinimized:t,numAjaxRequests:r,text:e}}},{key:"getBlankInternationalizedText",value:function(){return{alerts:"",errorsHaveOccurred:"",loading:"",minimize:"",new:" ",noAlerts:"",noAlertsDescription:""}}},{key:"loadLiveAlerts",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.addOneAJAXCallToCount();var r="GetActiveAlerts",n=this.getWhetherToShowDummyAlert(),o=JSON.stringify({returnDummyAlerts:n});this.dataService.fetchWithTimeoutRace(r,o).then((function(t){return e.dataService.handleResponseErrors(t,r)})).then((function(t){return e.subtractOneAJAXCallFromCount(),t.json()})).then((function(r){e.handleReturnedAlerts(r,t)})).catch((function(t){e.addError(t.message),e.subtractOneAJAXCallFromCount()}))}},{key:"handleReturnedAlerts",value:function(e,t){void 0!==e.d&&(e=e.d);var r=this.convertToIAlert(e),n=[],o=!0,a=!1,i=void 0;try{for(var l,_=r[Symbol.iterator]();!(o=(l=_.next()).done);o=!0){var s=l.value;n.push(s.alertId)}}catch(e){a=!0,i=e}finally{try{o||null==_.return||_.return()}finally{if(a)throw i}}var u=_sessionStorage_SessionStorage__WEBPACK_IMPORTED_MODULE_10__.a.getLiveAlertIDs();u.length>0?lodash_difference__WEBPACK_IMPORTED_MODULE_2___default()(n,u).length>0&&this.setState({modalIsMinimized:!1}):r.length>0&&this.setState({modalIsMinimized:!1}),_sessionStorage_SessionStorage__WEBPACK_IMPORTED_MODULE_10__.a.setLiveAlertIDs(n);var c=!0;t||(c=r.length>0),!t&&r.length>0&&this.loadInternationalizedText(),this.setState({liveAlerts:r,displayModal:c})}},{key:"convertToIAlert",value:function(e){var t=[];if(!Array.isArray(e))throw new Error("Alerts response is not an array.");var r=!0,n=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var l=a.value;if(!Object(_classes_Alert__WEBPACK_IMPORTED_MODULE_5__.a)(l))throw new Error("Alert data for an alert is not valid, missing expected fields.");var _={alertId:l.AlertId,alertType:l.AlertType,body:l.Body,expiryDate:new Date(l.Expiry),title:l.Title};t.push(_)}}catch(e){n=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}return t}},{key:"loadInternationalizedText",value:function(){var e=this;this.addOneAJAXCallToCount();this.dataService.fetchWithTimeoutRace("GetInternationalizedText",null).then((function(t){return e.dataService.handleResponseErrors(t,"GetInternationalizedText")})).then((function(t){return e.subtractOneAJAXCallFromCount(),t.json()})).then((function(t){if(void 0!==t.d&&(t=t.d),Object(_classes_Text__WEBPACK_IMPORTED_MODULE_6__.a)(t)){var r=t;e.setState({text:r})}else e.addError("Internationalised text data returned by service is incomplete.")})).catch((function(t){e.addError(t.message),e.subtractOneAJAXCallFromCount()}))}},{key:"addOneAJAXCallToCount",value:function(){_sessionStorage_SessionStorage__WEBPACK_IMPORTED_MODULE_10__.a.incrementNumAjaxRequests(),this.setState({numAjaxRequests:_sessionStorage_SessionStorage__WEBPACK_IMPORTED_MODULE_10__.a.getNumAjaxRequests()})}},{key:"subtractOneAJAXCallFromCount",value:function(){_sessionStorage_SessionStorage__WEBPACK_IMPORTED_MODULE_10__.a.decrementNumAjaxRequests(),this.setState({numAjaxRequests:_sessionStorage_SessionStorage__WEBPACK_IMPORTED_MODULE_10__.a.getNumAjaxRequests()})}},{key:"addError",value:function(e){this.setState({error:e})}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),UnifiedPublishingAlert}(react__WEBPACK_IMPORTED_MODULE_1__.Component),reactHotLoader,leaveModule;reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(2)).default,reactHotLoader&&reactHotLoader.register(UnifiedPublishingAlert,"UnifiedPublishingAlert","C:\\BuildAgent\\work\\b6d23f6258d18528\\src\\components\\unifiedPublishingAlert\\UnifiedPublishingAlert.tsx"),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(2)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},962:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module,Promise){__webpack_require__.d(__webpack_exports__,"a",(function(){return DataService}));var whatwg_fetch__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(117),whatwg_fetch__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(whatwg_fetch__WEBPACK_IMPORTED_MODULE_0__),_EnviroConfig__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(49),enterModule;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(2)).enterModule,enterModule&&enterModule(module);var DataService=function(){function DataService(){_classCallCheck(this,DataService)}return _createClass(DataService,[{key:"fetchWithTimeoutRace",value:function(e,t){var r=t,n=new Headers;n.append("Accept","application/json, text/javascript, */*; q=0.01"),n.append("Content-Type","application/json; charset=UTF-8");var o=(new _EnviroConfig__WEBPACK_IMPORTED_MODULE_1__.a).unifiedPublishingAlertServiceURL;return Promise.race([fetch(o+e,{method:"POST",headers:n,body:r,credentials:"same-origin"}),new Promise((function(t,r){return setTimeout((function(){return r(new Error("The request to the service for "+e+" timed out."))}),1e4)}))])}},{key:"handleResponseErrors",value:function(e,t){if(!e.ok)throw Error(t+" service: "+e.statusText);return e}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),DataService}(),reactHotLoader,leaveModule;reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(2)).default,reactHotLoader&&reactHotLoader.register(DataService,"DataService","C:\\BuildAgent\\work\\b6d23f6258d18528\\src\\components\\unifiedPublishingAlert\\data\\DataService.ts"),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(2)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module),__webpack_require__(29))},963:function(e,t,r){"use strict";(function(e){var n;r.d(t,"a",(function(){return i})),(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).enterModule)&&n(e);var o,a,i=function(e){return void 0!==e.AlertId&&(void 0!==e.Title&&(void 0!==e.Body&&(void 0!==e.AlertType&&void 0!==e.Expiry)))};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).default)&&o.register(i,"isIAlertResponse","C:\\BuildAgent\\work\\b6d23f6258d18528\\src\\components\\unifiedPublishingAlert\\classes\\Alert.ts"),(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).leaveModule)&&a(e)}).call(this,r(7)(e))},964:function(e,t,r){"use strict";(function(e){var n;r.d(t,"a",(function(){return i})),(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).enterModule)&&n(e);var o,a,i=function(e){return void 0!==e.alerts&&(void 0!==e.errorsHaveOccurred&&(void 0!==e.loading&&(void 0!==e.minimize&&(void 0!==e.new&&(void 0!==e.noAlerts&&void 0!==e.noAlertsDescription)))))};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).default)&&o.register(i,"isIText","C:\\BuildAgent\\work\\b6d23f6258d18528\\src\\components\\unifiedPublishingAlert\\classes\\Text.ts"),(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).leaveModule)&&a(e)}).call(this,r(7)(e))},965:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return UnifiedPublishingModal}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),react_modal__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(80),react_modal__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_modal__WEBPACK_IMPORTED_MODULE_1__),_UnifiedPublishingModalContent__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(966),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(2)).enterModule,enterModule&&enterModule(module);var UnifiedPublishingModal=function(_React$Component){function UnifiedPublishingModal(e,t){var r;return _classCallCheck(this,UnifiedPublishingModal),(r=_possibleConstructorReturn(this,_getPrototypeOf(UnifiedPublishingModal).call(this,e,t))).parentElementSelector="body",r}return _inherits(UnifiedPublishingModal,_React$Component),_createClass(UnifiedPublishingModal,[{key:"componentWillMount",value:function(){react_modal__WEBPACK_IMPORTED_MODULE_1___default.a.setAppElement(this.parentElementSelector)}},{key:"render",value:function(){var e=this,t=this.props;return t.displayModal&&!t.modalIsMinimized?react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_modal__WEBPACK_IMPORTED_MODULE_1___default.a,{isOpen:t.displayModal,parentSelector:function(){return document.querySelector(e.parentElementSelector)},className:"ReactModal__Content ReactModal__Content--after-open ReactModal__Content",overlayClassName:"ReactModal__Overlay ReactModal__Overlay--after-open ReactModal__Overlay CMS_PF_dialog CMS_PF_react CMS_react_ScrollingDialog",shouldCloseOnOverlayClick:!1,shouldCloseOnEsc:!1,onRequestClose:t.onMinimizeModal},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_UnifiedPublishingModalContent__WEBPACK_IMPORTED_MODULE_2__.a,{liveAlerts:this.props.liveAlerts,numAjaxRequests:this.props.numAjaxRequests,text:this.props.text,onClickCloseModalButton:t.onMinimizeModal}))):null}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),UnifiedPublishingModal}(react__WEBPACK_IMPORTED_MODULE_0__.Component),reactHotLoader,leaveModule;reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(2)).default,reactHotLoader&&reactHotLoader.register(UnifiedPublishingModal,"UnifiedPublishingModal","C:\\BuildAgent\\work\\b6d23f6258d18528\\src\\components\\unifiedPublishingAlert\\UnifiedPublishingModal.tsx"),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(2)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},966:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return u}));var n,o=r(0),a=r(93),i=r(967),l=r(968);(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).enterModule)&&n(e);var _,s,u=function(e){var t=null,r=!1,n=e.numAjaxRequests>0;return 0===e.numAjaxRequests&&" "!==e.text.new&&(r=0===(t=e.liveAlerts.map((function(t){return o.createElement(i.a,{alert:t,text:e.text,key:t.alertId})}))).length),o.createElement(o.Fragment,null,o.createElement("a",{className:"CMS_dialogClose CMS_dialogMinimize CMS_button CMS_bSquare",title:e.text.minimize,"aria-label":e.text.minimize,href:"#",onClick:e.onClickCloseModalButton},o.createElement("em",{className:"fa fa-window-minimize","aria-hidden":"true"}),o.createElement("span",{className:"offScreen"},e.text.minimize)),o.createElement("div",{className:"CMS_element","aria-live":"assertive"},o.createElement("div",{className:"CMS_title CMS_T4"},o.createElement("em",{className:"fa fa-exclamation-triangle"})," ",e.text.alerts),o.createElement("div",{className:"CMS_e_row CMS_minimumHeight"},o.createElement(a.a,{showSpinner:n,loadingText:e.text.loading}),t,r&&o.createElement(l.a,{text:e.text}))))};(_=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).default)&&_.register(u,"UnifiedPublishingModalContent","C:\\BuildAgent\\work\\b6d23f6258d18528\\src\\components\\unifiedPublishingAlert\\UnifiedPublishingModalContent.tsx"),(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).leaveModule)&&s(e)}).call(this,r(7)(e))},967:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return _}));var n,o=r(0),a=r(108);(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).enterModule)&&n(e);var i,l,_=function(e){var t=!0,r=a.a.getAlertIDsAlreadySeen();-1!==r.indexOf(e.alert.alertId)&&(t=!1),t&&(r.push(e.alert.alertId),a.a.setAlertIDsAlreadySeen(r));var n="A_alert",i=!1;return t&&(n+=" A_new",i=!0),o.createElement("div",{className:n},o.createElement("div",{className:"A_title"},i&&o.createElement(o.Fragment,null,o.createElement("span",null,o.createElement("em",{className:"fa fa-star"})," ",e.text.new),"Â "),e.alert.title),o.createElement("div",{className:"A_content",dangerouslySetInnerHTML:{__html:"".concat(e.alert.body)}}))};(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).default)&&i.register(_,"UnifiedPublishingLiveAlertDetail","C:\\BuildAgent\\work\\b6d23f6258d18528\\src\\components\\unifiedPublishingAlert\\UnifiedPublishingLiveAlertDetail.tsx"),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).leaveModule)&&l(e)}).call(this,r(7)(e))},968:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return l}));var n,o=r(0);(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).enterModule)&&n(e);var a,i,l=function(e){return o.createElement("div",{className:"A_alert A_expired"},o.createElement("div",{className:"A_title"},e.text.noAlerts),o.createElement("div",{className:"A_content"},e.text.noAlertsDescription))};(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).default)&&a.register(l,"UnifiedPublishingNoAlertsDetail","C:\\BuildAgent\\work\\b6d23f6258d18528\\src\\components\\unifiedPublishingAlert\\UnifiedPublishingNoAlertsDetail.tsx"),(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).leaveModule)&&i(e)}).call(this,r(7)(e))},969:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return l}));var n,o=r(0);(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).enterModule)&&n(e);var a,i,l=function(e){if(e.displayModal&&e.numAlerts>0){var t="A_maximizeButton";e.displayModal&&e.modalIsMinimized&&(t+=" A_mbVisible");var r="";return e.text&&(r=e.text.alerts),o.createElement("button",{type:"button",onClick:e.onUnminimizeModal,className:t},o.createElement("em",{className:"fa fa-exclamation-triangle","aria-hidden":"true"}),r,o.createElement("span",null,e.numAlerts))}return null};(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).default)&&a.register(l,"UnifiedPublishingUnminimizeButton","C:\\BuildAgent\\work\\b6d23f6258d18528\\src\\components\\unifiedPublishingAlert\\UnifiedPublishingUnminimizeButton.tsx"),(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(2)).leaveModule)&&i(e)}).call(this,r(7)(e))}});
//# sourceMappingURL=unifiedPublishingAlert.js.map