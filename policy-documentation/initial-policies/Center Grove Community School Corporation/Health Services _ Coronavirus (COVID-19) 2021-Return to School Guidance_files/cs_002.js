// RESPONSIVE MULTIMEDIA ROTATOR (VERSION 2) | INCLUDES CUSTOM JQUERY MOBILE SCRIPT FOR SWIPE EVENTS AND FROOGALOOP FOR VIMEO VIDEO API CONTROLS
// AUTHOR BRENTON KELLY - CREATIVE SERVICES DEVELOPMENT MANAGER - BLACKBOARD, INC.
// VERSION 03.01.2021

!function($){$.fn.csRsMultimediaRotator=function(settings){var config={efficientLoad:"yes",imageWidth:960,imageHeight:405,appHeader:"no",titles:"no",captions:"no",galleryOverlay:"no",linkedElement:["image"],playPause:"no",mainControls:"no",contMoreLink:"no",contMoreLinkText:"Read More",descMoreLink:"no",descMoreLinkText:"Read More",descVideoLink:"no",descVideoLinkText:"Watch Video",bullets:"no",bulletControls:"no",thumbnails:"no",thumbnailWidth:122,thumbnailHeight:53,thumbnailSlideDirection:"horizontal",hoverPause:"yes",fullScreenRotator:"no",fullScreenBreakpoints:["960","768","640","480","320"],fullScreenVideo:"no",transitionType:"fade",transitionSpeed:3,transitionDelay:8,autoRotate:"yes",customResize:"no",customResizeFunction:function(e){},onImageLoad:function(){},allImagesLoaded:function(){},onThumbnailLoad:function(){},allThumbnailsLoaded:function(){},onTransitionStart:function(){},onTransitionEnd:function(){},watchVidClick:function(){},closeVidClick:function(){},allLoaded:function(){}};return settings&&$.extend(config,settings),this.each(function(){var element=this,moduleID=$(element).parent().attr("id").replace("module-content-",""),dataArray=eval("appData"+moduleID),arrayLength=dataArray.length,elemID=moduleID,videoIDs=[],csKeyCodes={tab:9,enter:13,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40};$(window).bind("resize",windowResize),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,l=Number(arguments[1])||0;for((l=l<0?Math.ceil(l):Math.floor(l))<0&&(l+=t);l<t;l++)if(l in this&&this[l]===e)return l;return-1});var getWidth=$(window).width(),widgetHeader;function gatherMedia(){for(var e="",t="",l="<script type='text/javascript'>var tag = document.createElement('script');tag.src = '//www.youtube.com/iframe_api';var firstScriptTag = document.getElementsByTagName('script')[0];firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);if($('#www-widgetapi-script').length){youTubeApiControls"+elemID+"();}function onYouTubeIframeAPIReady(){youTubeApiControls"+elemID+"();}function youTubeApiControls"+elemID+"(){",a="<script type='text/javascript'>",i=0;i<arrayLength;i++)"True"==dataArray[i][12]?videoIDs.push({videoBtnID:getVideoVender(i)+"-video-"+elemID+i+"-open",videoID:elemID+i}):videoIDs.push({});for(var r=0;r<arrayLength;r++)t+=gatherVideos(r,r),l+=gatherYouTubeApiControls(r,r),a+=gatherVimeoApiControls(r,r);if("fade"==config.transitionType)for(var n=0;n<arrayLength;n++){var s,o,d,g=0==n?" first active":"";1<arrayLength?(s=1==n?" next":"",d="yes"==config.efficientLoad&&2==n?" next-load":"",o=n==arrayLength-1?" last prev":""):d=o=s="",e+=gatherImages(n,n,"image loading hidden"+g+s+o+d)}else if("slide"==config.transitionType)if(1==arrayLength)for(n=0;n<3;n++)e+=gatherImages(0,n,1==n?"image loading active hidden":"image loading hidden",!0);else if(2==arrayLength)for(var n=0,m=1;n<4;n++)e+=gatherImages(m,n,0==n?"image loading hidden prev":1==n?"image loading hidden active":2==n?"image loading hidden next":"yes"==config.efficientLoad&&3==n?"image loading hidden next-load":"image loading hidden"),1==m?m=0:m++;else if(3==arrayLength)for(n=0,m=2;n<6;n++)e+=gatherImages(m,n,0==n?"image loading hidden prev":1==n?"image loading hidden active":2==n?"image loading hidden next":"yes"==config.efficientLoad&&3==n?"image loading hidden next-load":"image loading hidden"),2==m?m=0:m++;else for(n=0,m=arrayLength-1;n<arrayLength;n++)e+=gatherImages(m,m,0==n?"image loading hidden prev":1==n?"image loading hidden active":2==n?"image loading hidden next":"yes"==config.efficientLoad&&3==n?"image loading hidden next-load":"image loading hidden"),m==arrayLength-1?m=0:m++;buildStructure(e,t,l+="}<\/script>",a+="<\/script>")}function gatherImages(e,t,l,a){var i="";return i+='<li class="'+l+'" index="'+e+'" aria-hidden="'+(-1<l.indexOf("active")?"false":"true")+'">',i+='   <span class="media-src hidden">'+dataArray[e][3]+"</span>",i+='   <span class="media-title hidden">'+dataArray[e][0]+"</span>",i+='   <span class="media-link hidden">'+dataArray[e][10]+"</span>",i+='   <span class="media-link-check hidden">'+dataArray[e][11]+"</span>",i+='   <span class="media-alt hidden">'+(null!=dataArray[e][13]?dataArray[e][13]:dataArray[e][0])+"</span>",i+='   <div class="loader">Loading</div>',!0===a?"True"==dataArray[e][12]&&1==t&&"yes"!=config.descVideoLink&&(i+=getVideoWatchBtn(e,t,l)):"True"==dataArray[e][12]&&"yes"!=config.descVideoLink&&(i+=getVideoWatchBtn(e,t,l)),i+="</li>"}function gatherVideos(e,t){var l,a="";return"True"==dataArray[e][12]&&1==dataArray[e][2]&&(a+='<div class="video video-'+elemID+t+' youtube hidden" aria-hidden="true" tabindex="0">',a+='    <iframe title="Slide '+(e+1)+' YouTube Video" id="youtube-video-'+elemID+t+'" width="100%" frameborder="0" allowfullscreen src="https://www.youtube.com/embed/'+dataArray[e][5]+'?enablejsapi=1&rel=0"></iframe>',a+='    <div id="youtube-video-'+elemID+t+'-close" class="close-btn" role="button" tabindex="0" aria-label="Close Video" onclick="video'+videoIDs[e].videoID+'.pauseVideo();">CLOSE</div>',a+="</div>"),"True"==dataArray[e][12]&&2==dataArray[e][2]&&(a+='<div class="video video-'+elemID+t+' vimeo hidden" aria-hidden="true" tabindex="0">',a+='    <iframe title="Slide '+(e+1)+' Vimeo Video" id="vimeo-video-'+elemID+t+'" width="100%" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen src="https://player.vimeo.com/video/'+dataArray[e][4]+'?api=1"></iframe>',a+='    <div id="vimeo-video-'+elemID+t+'-close" class="close-btn" role="button" tabindex="0" aria-label="Close Video" onclick="video'+videoIDs[e].videoID+".api('pause');\">CLOSE</div>",a+="</div>"),"True"==dataArray[e][12]&&3==dataArray[e][2]&&(l=dataArray[e][6].split("-"),a+='<div class="video video-'+elemID+t+' teachertube hidden" aria-hidden="true" tabindex="0">',a+='    <iframe title="Slide '+(e+1)+' TeacherTube Video" width="100%" frameborder="0" allowfullscreen src="https://www.teachertube.com/embed/video/'+l[l.length-1]+'"></iframe>',a+='    <div id="teachertube-video-'+elemID+t+'-close" class="close-btn" role="button" tabindex="0" aria-label="Close Video">CLOSE</div>',a+="</div>"),"True"==dataArray[e][12]&&4==dataArray[e][2]&&(a+='<div class="video video-'+elemID+t+' schooltube hidden" aria-hidden="true" tabindex="0">',a+='    <iframe title="Slide '+(e+1)+' SchoolTube Video" width="100%" frameborder="0" allowfullscreen="allowfullscreen" mozallowfullscreen="mozallowfullscreen" webkitallowfullscreen="webkitallowfullscreen" src="https://www.schooltube.com/embed/'+dataArray[e][7]+'"></iframe>',a+='    <div id="schooltube-video-'+elemID+t+'-close" class="close-btn" role="button" tabindex="0" aria-label="Close Video">CLOSE</div>',a+="</div>"),"True"==dataArray[e][12]&&5==dataArray[e][2]&&(a+='<div class="video video-'+elemID+t+' kaltura hidden" aria-hidden="true" tabindex="0">',a+=dataArray[e][13],a+='    <div id="kaltura-video-'+elemID+t+'-close" class="close-btn" role="button" tabindex="0" aria-label="Close Video">CLOSE</div>',a+="</div>"),a}function getVideoWatchBtn(e,t,l){var a="";switch(dataArray[e][2]){case"1":a='<div id="youtube-video-'+elemID+e+'-open" class="watch-btn video-'+elemID+e+'" data-video-id="video-'+elemID+e+'" role="button" tabindex="'+(-1<l.indexOf("active")?"0":"-1")+'" aria-label="Open Video" onclick="video'+videoIDs[e].videoID+'.playVideo();"><p>WATCH</p><p>VIDEO</p></div>';break;case"2":a='<div id="vimeo-video-'+elemID+e+'-open" class="watch-btn video-'+elemID+e+'" data-video-id="video-'+elemID+e+'" role="button" tabindex="'+(-1<l.indexOf("active")?"0":"-1")+'" aria-label="Open Video" onclick="video'+videoIDs[e].videoID+".api('play');\"><p>WATCH</p><p>VIDEO</p></div>";break;case"3":a='<div id="teachertube-video-'+elemID+e+'-open" class="watch-btn video-'+elemID+e+'" role="button" tabindex="'+(-1<l.indexOf("active")?"0":"-1")+'" aria-label="Open Video" onclick=""><p>WATCH</p><p>VIDEO</p></div>';break;case"4":a='<div id="schooltube-video-'+elemID+e+'-open" class="watch-btn video-'+elemID+e+'" role="button" tabindex="'+(-1<l.indexOf("active")?"0":"-1")+'" aria-label="Open Video" onclick=""><p>WATCH</p><p>VIDEO</p></div>';break;case"5":a='<div id="kaltura-video-'+elemID+e+'-open" class="watch-btn video-'+elemID+e+'" role="button" tabindex="'+(-1<l.indexOf("active")?"0":"-1")+'" aria-label="Open Video" onclick=""><p>WATCH</p><p>VIDEO</p></div>'}return a}function getVideoVender(e){var t="";switch(dataArray[e][2]){case"1":t="youtube";break;case"2":t="vimeo";break;case"3":t="teachertube";break;case"4":t="schooltube";break;case"5":t="kaltura"}return t}function gatherYouTubeApiControls(e,t){var l="";return"True"==dataArray[e][12]&&1==dataArray[e][2]&&(l="window.video"+elemID+t+" = new YT.Player('youtube-video-"+elemID+t+"');"),l}function gatherVimeoApiControls(e,t){var l="";return"True"==dataArray[e][12]&&2==dataArray[e][2]&&(l="var csVimeoVideo"+elemID+t+" = document.getElementById('vimeo-video-"+elemID+t+"');window.video"+elemID+t+" = $f(csVimeoVideo"+elemID+t+");"),l}function buildStructure(e,t,l,a){var i="",r="";1<arrayLength&&(r="True"==dataArray[1][11]&&(-1<$.inArray("title",config.linkedElement)||-1<$.inArray("all",config.linkedElement))?"<a href='"+dataArray[1][10]+"'>"+dataArray[1][0]+"</a>":dataArray[1][0]);var n=1<arrayLength?dataArray[1][1]:"",i='<div class="rs-gallery-container" id="rs-gallery-container-'+elemID+'">';if(i+='<div class="rs-gallery-images">',i+='   <ul class="rs-gallery-images-list">'+e+"</ul>",i+="</div>","yes"==config.thumbnails&&1<arrayLength){for(var s,o,d="",g=0;g<arrayLength;g++)o=1<arrayLength?(s=1==g?" next":"",g==arrayLength-1?" last prev":""):s="",d+='<li class="rs-gallery-thumbnail thumbnail-image loading hidden'+(0==g?" first active":"")+s+o+'" role="button" tabindex="0" aria-label="Navigate to Slide '+(g+1)+'">',d+='<span class="thumbnail-src hidden">'+dataArray[g][3]+"</span>",d+='<span class="thumbnail-title-check hidden">'+dataArray[g][8]+"</span>",d+='<span class="thumbnail-title hidden">'+dataArray[g][0]+"</span>",d+='<span class="thumbnail-alt hidden">'+(null!=dataArray[g][13]?dataArray[g][13]:dataArray[g][0])+"</span>",d+="</li>";i+='<div class="rs-gallery-thumbnails-outer">',i+='<div class="rs-gallery-thumb-control back hidden" role="button" tabindex="0" aria-label="Scroll Thumbnails Backward"></div>',i+='<div class="rs-gallery-thumbnails">',i+='<ul class="rs-gallery-thumbnail-list">'+d+"</ul>",i+="</div>",i+='<div class="rs-gallery-thumb-control next hidden" role="button" tabindex="0" aria-label="Scroll Thumbnails Forward"></div>',i+="</div>"}if("yes"==config.bullets&&1<arrayLength){i+='<div class="rs-gallery-bullets-outer">',i+='\t<div class="rs-gallery-bullets ui-clear">',"yes"==config.bulletControls&&(i+='<div class="rs-gallery-bullet-control back" role="button" tabindex="0" aria-label="Navigate to Previous Slide"></div>');for(var m=1;m<=arrayLength;m++)i+=1==m?'<div class="rs-gallery-bullet active first" role="button" tabindex="0" data-index="'+(m-1)+'" aria-label="Navigate to Slide '+m+'"></div>':2==m&&m==arrayLength?'<div class="rs-gallery-bullet next prev last" role="button" tabindex="0" data-index="'+(m-1)+'" aria-label="Navigate to Slide '+m+'"></div>':2==m?'<div class="rs-gallery-bullet next" role="button" tabindex="0" data-index="'+(m-1)+'" aria-label="Navigate to Slide '+m+'"></div>':m==arrayLength?'<div class="rs-gallery-bullet prev last" role="button" tabindex="0" data-index="'+(m-1)+'" aria-label="Navigate to Slide '+m+'"></div>':'<div class="rs-gallery-bullet" role="button" tabindex="0" data-index="'+(m-1)+'" aria-label="Navigate to Slide '+m+'"></div>';"yes"==config.bulletControls&&(i+='<div class="rs-gallery-bullet-control next" role="button" tabindex="0" aria-label="Navigate to Next Slide"></div>'),i+="</div>",i+="</div>"}"yes"!=config.titles&&"yes"!=config.captions||("True"==dataArray[0][8]&&"True"==dataArray[0][9]&&("yes"==config.descMoreLink&&"False"==dataArray[0][11]&&"yes"==config.descVideoLink&&"False"==dataArray[0][12]||"yes"==config.descMoreLink&&"False"==dataArray[0][11]&&"no"==config.descVideoLink||"no"==config.descMoreLink&&"yes"==config.descVideoLink&&"False"==dataArray[0][12]||"no"==config.descMoreLink&&"no"==config.descVideoLink)?i+='<div class="rs-gallery-desc hidden">':i+='<div class="rs-gallery-desc">'),"yes"==config.titles&&(i+='<div class="rs-gallery-title">',"True"==dataArray[0][8]?i+='<div class="rs-title active hidden"></div>':(i+='<div class="rs-title active">',"True"==dataArray[0][11]&&(-1<$.inArray("title",config.linkedElement)||-1<$.inArray("all",config.linkedElement))?i+='<h1><a href="'+dataArray[0][10]+'">'+dataArray[0][0]+"</a></h1>":i+="<h1>"+dataArray[0][0]+"</h1>",i+="</div>"),1<arrayLength&&("True"==dataArray[1][8]?i+='<div class="rs-title next hidden"></div>':(i+='<div class="rs-title next">',i+="   <h1>"+r+"</h1>",i+="</div>")),i+="</div>"),"yes"==config.captions&&(i+='<div class="rs-gallery-caption">',"True"==dataArray[0][9]?i+='<div class="rs-caption active hidden"></div>':(i+='<div class="rs-caption active">',i+="   <p>"+dataArray[0][1]+"</p>",i+="</div>"),1<arrayLength&&("True"==dataArray[1][9]?i+='<div class="rs-caption next hidden"></div>':(i+='<div class="rs-caption next">',i+="   <p>"+n+"</p>",i+="</div>")),i+="</div>"),"yes"!=config.titles&&"yes"!=config.captions||("yes"==config.descMoreLink&&("True"==dataArray[0][11]?i+='<div class="rs-gallery-desc-more-link"><a href="'+jQuery.trim(dataArray[0][10])+'" aria-label="Read more about gallery slide 1: '+jQuery.trim(dataArray[0][0]).replace(/&#39;/gi,"'").replace(/&quot;/gi,'"')+'"><span>'+config.descMoreLinkText+"</span></a></div>":i+='<div class="rs-gallery-desc-more-link hidden" style="display: none;"><a href="'+jQuery.trim(dataArray[0][10])+'" aria-label="Read more about gallery slide 1: '+jQuery.trim(dataArray[0][0]).replace(/&#39;/gi,"'").replace(/&quot;/gi,'"')+'"><span>'+config.descMoreLinkText+"</span></a></div>"),"yes"==config.descVideoLink&&(n="","True"==dataArray[0][12]?(-1<videoIDs[0].videoBtnID.indexOf("youtube")&&(n="video"+videoIDs[0].videoID+".playVideo();"),-1<videoIDs[0].videoBtnID.indexOf("vimeo")&&(n="video"+videoIDs[0].videoID+".api('play');"),i+='<div class="rs-gallery-desc-watch-btn"><a href="#" id="'+videoIDs[0].videoBtnID+'" class="video-'+videoIDs[0].videoID+'" onclick="'+n+'" aria-label="Watch gallery slide 1 video: '+jQuery.trim(dataArray[0][0]).replace(/&#39;/gi,"'").replace(/&quot;/gi,'"')+'"><span>'+config.descVideoLinkText+"</span></a></div>"):i+='<div class="rs-gallery-desc-watch-btn hidden" style="display: none;"><a href="#" id="'+videoIDs[0].videoBtnID+'" class="video-'+videoIDs[0].videoID+'" onclick="'+n+'" aria-label="Watch gallery slide 1 video: '+jQuery.trim(dataArray[0][0]).replace(/&#39;/gi,"'").replace(/&quot;/gi,'"')+'"><span>'+config.descVideoLinkText+"</span></a></div>"),i+="   </div>"),1<arrayLength&&("yes"==config.mainControls&&(i+='<div class="rs-gallery-control back" role="button" tabindex="0" aria-label="Navigate to Slide '+arrayLength+" of "+arrayLength+'"></div>',i+='<div class="rs-gallery-control next" role="button" tabindex="0" aria-label="Navigate to Slide 2 of '+arrayLength+'"></div>'),"yes"==config.playPause&&(i+='<div class="rs-gallery-control play-pause playing" role="button" tabindex="0" aria-label="Pause Gallery - Currently on Slide 1 of '+arrayLength+'"></div>')),"yes"==config.contMoreLink&&("True"==dataArray[0][11]?i+='<div class="rs-gallery-more-link"><a href="'+jQuery.trim(dataArray[0][10])+'" aria-label="Read more about gallery slide 1: '+jQuery.trim(dataArray[0][0]).replace(/&#39;/gi,"'").replace(/&quot;/gi,'"')+'"><span>'+config.contMoreLinkText+"</span></a></div>":i+='<div class="rs-gallery-more-link hidden" style="display: none;"><a href="'+jQuery.trim(dataArray[0][10])+'" aria-label="Read more about gallery slide 1: '+jQuery.trim(dataArray[0][0]).replace(/&#39;/gi,"'").replace(/&quot;/gi,'"')+'"><span>'+config.contMoreLinkText+"</span></a></div>"),"yes"==config.galleryOverlay&&("True"==dataArray[0][11]&&-1<$.inArray("overlay",config.linkedElement)?i+='<a class="rs-gallery-overlay" href="'+dataArray[0][10]+'" tabindex="0" aria-label="Click to Read More About This Slide"></a>':i+='<a class="rs-gallery-overlay" href="#" onclick="return false;" style="cursor: default;" tabindex="-1" aria-label="Click to Read More About This Slide"></a>'),0<t.length&&"no"==config.fullScreenVideo?i+='<div class="rs-gallery-videos hidden" aria-hidden="true">'+t+"</div>":0<t.length&&"yes"==config.fullScreenVideo&&$("body").append('<div class="rs-gallery-videos hidden" aria-hidden="true" id="rs-gallery-videos-'+elemID+'">'+t+"</div>"),i+='<div class="rs-gallery-live-feedback rs-gallery-ally-hidden" aria-live="polite"></div>',i+="</div>",($(".ui-widget-detail",element).length?$(".ui-widget-detail",element):$(element)).append(i),$("body").append(l+a),"slide"==config.transitionType&&sliderDimReset()}function loadInitImages(){loadImage(!0,0),"slide"==config.transitionType&&1==arrayLength?(loadImage(!0,1),loadImage(!0,2)):1<arrayLength&&loadImage(!0,1),"slide"==config.transitionType&&2<=arrayLength&&loadImage(!0,2)}function loadImage(e,t){var l=1==e?$(".image.loading",element).eq(t):$(".image.loading.next-load",element),a=jQuery.trim($(".media-link",l).text()),i=jQuery.trim($(".media-link-check",l).text());""!=jQuery.trim($(".media-src",l).text())&&$('<img src="'+jQuery.trim($(".media-src",l).text())+'" alt="'+jQuery.trim($(".media-alt",l).text())+'" />').one("load",function(){$(".media-src, .media-title, .media-link, .media-alt, .media-link-check, .loader",l).remove(),l.removeClass("loading hidden next-load").prepend($(this)),"True"==i&&(-1<$.inArray("image",config.linkedElement)||-1<$.inArray("all",config.linkedElement))&&l.children("img").wrapAll("<a href='"+a+"' tabindex='"+(l.hasClass("active")?"0":"-1")+"'></a>"),windowResize(),config.onImageLoad.call(this),$(".image.loading",element).length||config.allImagesLoaded.call(this)})}function loadImages(){$(".image.loading",element).each(function(){var e=$(this),t=jQuery.trim($(".media-link",e).text()),l=jQuery.trim($(".media-link-check",e).text());""!=jQuery.trim($(".media-src",e).text())&&$('<img src="'+jQuery.trim($(".media-src",e).text())+'" alt="'+jQuery.trim($(".media-alt",e).text())+'" />').one("load",function(){$(".media-src, .media-title, .media-link, .media-alt, .media-link-check, .loader",e).remove(),e.removeClass("loading hidden").prepend($(this)),"True"==l&&(-1<$.inArray("image",config.linkedElement)||-1<$.inArray("all",config.linkedElement))&&e.children("img").wrapAll("<a href='"+t+"' tabindex='"+(e.hasClass("active")?"0":"-1")+"'></a>"),windowResize(),config.onImageLoad.call(this),$(".image.loading",element).length||config.allImagesLoaded.call(this)})})}function batchImageLoad(a){$(".image.batch-item",element).each(function(){var e=$(this),t=jQuery.trim($(".media-link",e).text()),l=jQuery.trim($(".media-link-check",e).text());""!=jQuery.trim($(".media-src",e).text())&&$('<img src="'+jQuery.trim($(".media-src",e).text())+'" alt="'+jQuery.trim($(".media-alt",e).text())+'" />').one("load",function(){$(".media-src, .media-title, .media-link, .media-alt, .media-link-check, .loader",e).remove(),e.removeClass("loading hidden").prepend($(this)),"True"==l&&(-1<$.inArray("image",config.linkedElement)||-1<$.inArray("all",config.linkedElement))&&e.children("img").wrapAll("<a href='"+t+"' tabindex='"+(e.hasClass("active")?"0":"-1")+"'></a>"),config.onImageLoad.call(this),$(".image.loading",element).length||config.allImagesLoaded.call(this),null!=a&&"function"==typeof a&&a()})})}function loadThumbs(){"yes"==config.thumbnails&&1<arrayLength&&$(".thumbnail-image.loading",element).each(function(){var r=$(this);""!=jQuery.trim($(".thumbnail-src",r).text())&&$('<img src="'+jQuery.trim($(".thumbnail-src",r).text())+'" alt="'+jQuery.trim($(".thumbnail-alt",r).text())+'" />').one("load",function(){var e,t,l,a,i;$(".thumbnail-src, .thumbnail-title-check, .thumbnail-title, .thumbnail-alt",r).remove(),r.removeClass("loading hidden").prepend($(this)),config.onThumbnailLoad.call(this),$(".thumbnail-image.loading",element).length||(config.allThumbnailsLoaded.call(this),"vertical"==config.thumbnailSlideDirection?(a=$(".rs-gallery-thumbnail-list",element).outerWidth(!0),$(".rs-gallery-thumbnails-outer",element).css("width",a+"px"),$(".rs-gallery-thumbnails",element).css("width",a+"px"),$(".rs-gallery-thumbnails",element).outerHeight(!0)<(i=$(".rs-gallery-thumbnail-list",element).outerHeight(!0))&&(e=$(".rs-gallery-thumb-control.back",element).outerHeight(!0)+10,l=$(".rs-gallery-thumb-control.next",element).outerHeight(!0)+10,$(".rs-gallery-thumb-control",element).removeClass("hidden"),$(".rs-gallery-thumbnails",element).css({top:e+"px",bottom:l+"px"}),$(".rs-gallery-thumbnail-list",element).css({"padding-top":"0px","padding-bottom":"0px","margin-top":"0px","margin-bottom":"0px"}))):"horizontal"==config.thumbnailSlideDirection&&(t=0,$(".rs-gallery-thumbnail",element).each(function(){t+=$(this).outerWidth(!0)}),$(".rs-gallery-thumbnail-list",element).css("width",t+"px"),$(".rs-gallery-thumbnails",element).outerWidth(!0)<(a=$(".rs-gallery-thumbnail-list",element).outerWidth(!0))&&(l=$(".rs-gallery-thumb-control.back",element).outerWidth(!0)+10,a=$(".rs-gallery-thumb-control.next",element).outerWidth(!0)+10,$(".rs-gallery-thumb-control",element).removeClass("hidden"),$(".rs-gallery-thumbnails",element).css({left:l+"px",right:a+"px"}),$(".rs-gallery-thumbnail-list",element).css({"padding-left":"0px","padding-right":"0px","margin-left":"0px","margin-right":"0px"})),i=$(".rs-gallery-thumbnail-list",element).outerHeight(!0),$(".rs-gallery-thumbnails-outer",element).css("height",i+"px"),$(".rs-gallery-thumbnails",element).css("height",i+"px"),i=i/2,$(".rs-gallery-thumb-control",element).css("padding-top",i+"px")))})})}function galleryEvents(){"yes"==config.hoverPause&&$(document).on("keydown",function(e){setTimeout(function(){$("#rs-gallery-container-"+elemID).find(":focus").length?($("#rs-gallery-container-"+elemID).addClass("cs-hover"),timerStop()):$("#rs-gallery-container-"+elemID).hasClass("cs-hover")&&($("#rs-gallery-container-"+elemID).removeClass("cs-hover"),timerStop(),timerReset())},100)}),"yes"==config.mainControls&&($(".rs-gallery-control",element).click(function(){var e;$(".rs-gallery-container",element).hasClass("animating")||(timerStop(),$(this).hasClass("next")?(e=$(".rs-gallery-images-list li.next",element).index(),galleryAnimate("next")):$(this).hasClass("back")&&(e=$(".rs-gallery-images-list li.prev",element).index(),galleryAnimate("prev")),$(".rs-gallery-live-feedback",element).text("Slide "+(e+1)+" of "+arrayLength),timerReset())}),$(".rs-gallery-control",element).keydown(function(e){var t;e.keyCode!=csKeyCodes.space&&e.keyCode!=csKeyCodes.enter||(e.preventDefault(),$(".rs-gallery-container",element).hasClass("animating")||(timerStop(),$(this).hasClass("next")?(t=$(".rs-gallery-images-list li.next",element).index(),galleryAnimate("next")):$(this).hasClass("back")&&(t=$(".rs-gallery-images-list li.prev",element).index(),galleryAnimate("prev")),$(".rs-gallery-live-feedback",element).text("Slide "+(t+1)+" of "+arrayLength),timerReset()))})),$("#rs-gallery-container-"+elemID).on("swiperight",function(e){$(".rs-gallery-container",element).hasClass("animating")||(timerStop(),$(".rs-gallery-live-feedback",element).text("Slide "+($(".rs-gallery-images-list li.prev",element).index()+1)+" of "+arrayLength),galleryAnimate("prev"),timerReset())}),$("#rs-gallery-container-"+elemID).on("swipeleft",function(e){$(".rs-gallery-container",element).hasClass("animating")||(timerStop(),$(".rs-gallery-live-feedback",element).text("Slide "+($(".rs-gallery-images-list li.next",element).index()+1)+" of "+arrayLength),galleryAnimate("next"),timerReset())}),"yes"==config.bulletControls&&($(".rs-gallery-bullet-control",element).click(function(){var e;$(".rs-gallery-container",element).hasClass("animating")||(timerStop(),$(this).hasClass("next")?(e=$(".rs-gallery-images-list li.next",element).index(),galleryAnimate("next")):$(this).hasClass("back")&&(e=$(".rs-gallery-images-list li.prev",element).index(),galleryAnimate("prev")),$(".rs-gallery-live-feedback",element).text("Slide "+(e+1)+" of "+arrayLength),timerReset())}),$(".rs-gallery-bullet-control",element).keydown(function(e){var t;e.keyCode!=csKeyCodes.space&&e.keyCode!=csKeyCodes.enter||(e.preventDefault(),$(".rs-gallery-container",element).hasClass("animating")||(timerStop(),$(this).hasClass("next")?(t=$(".rs-gallery-images-list li.next",element).index(),galleryAnimate("next")):$(this).hasClass("back")&&(t=$(".rs-gallery-images-list li.prev",element).index(),galleryAnimate("prev")),$(".rs-gallery-live-feedback",element).text("Slide "+(t+1)+" of "+arrayLength),timerReset()))})),"yes"==config.bullets&&($(".rs-gallery-bullet",element).click(function(){var e;$(this).hasClass("active")||$(".rs-gallery-container",element).hasClass("animating")||(e=$(this).attr("data-index"),timerStop(),bulletGalleryAnimate(e),timerReset())}),$(".rs-gallery-bullet",element).keydown(function(e){switch(e.keyCode){case csKeyCodes.left:case csKeyCodes.up:e.preventDefault(),($(this).hasClass("first")?$(this).parent().find(".rs-gallery-bullet.last"):$(this).prev(".rs-gallery-bullet")).focus();break;case csKeyCodes.right:case csKeyCodes.down:e.preventDefault(),($(this).hasClass("last")?$(this).parent().find(".rs-gallery-bullet.first"):$(this).next(".rs-gallery-bullet")).focus();break;case csKeyCodes.home:e.preventDefault(),$(this).parent().find(".rs-gallery-bullet.last").focus();break;case csKeyCodes.end:e.preventDefault(),$(this).parent().find(".rs-gallery-bullet.first").focus();break;case csKeyCodes.space:case csKeyCodes.enter:var t;e.preventDefault(),$(this).hasClass("active")||$(".rs-gallery-container",element).hasClass("animating")||(t=$(this).attr("data-index"),timerStop(),bulletGalleryAnimate(t),timerReset())}})),"yes"==config.thumbnails&&($("#rs-gallery-container-"+elemID).on("click keydown",".rs-gallery-thumb-control",function(e){var t,l,a,i,r,n;("click"==e.type||"keydown"==e.type&&e.keyCode==csKeyCodes.enter||"keydown"==e.type&&e.keyCode==csKeyCodes.space)&&($(".rs-gallery-thumbnails-outer",element).hasClass("animating")||($(".rs-gallery-thumbnails-outer",element).addClass("animating"),"horizontal"==config.thumbnailSlideDirection?(t=$(".thumbnail-image",element).outerWidth(!0),l=$(".thumbnail-image.first",element).outerWidth(!0),a=$(".thumbnail-image.last",element).outerWidth(!0),i=-1*parseInt($(".rs-gallery-thumbnail-list",element).css("left")),r=$(".rs-gallery-thumbnail-list",element).outerWidth(!0)-$(".rs-gallery-thumbnails",element).outerWidth(!0)-i,n=0,$(this).hasClass("next")?(n=r<a?i+r:i+t,$(".rs-gallery-thumbnail-list",element).animate({left:"-"+n+"px"},400,function(){$(".rs-gallery-thumbnails-outer",element).removeClass("animating")})):$(this).hasClass("back")&&(n=i<l?0:i-t,$(".rs-gallery-thumbnail-list",element).animate({left:"-"+n+"px"},400,function(){$(".rs-gallery-thumbnails-outer",element).removeClass("animating")}))):"vertical"==config.thumbnailSlideDirection&&(t=$(".thumbnail-image",element).outerHeight(!0),l=$(".thumbnail-image.first",element).outerHeight(!0),a=$(".thumbnail-image.last",element).outerHeight(!0),i=-1*parseInt($(".rs-gallery-thumbnail-list",element).css("top")),r=$(".rs-gallery-thumbnail-list",element).outerHeight(!0)-$(".rs-gallery-thumbnails",element).outerHeight(!0)-i,n=0,$(this).hasClass("next")?(n=r<a?i+r:i+t,$(".rs-gallery-thumbnail-list",element).animate({top:"-"+n+"px"},400,function(){$(".rs-gallery-thumbnails-outer",element).removeClass("animating")})):$(this).hasClass("back")&&(n=i<l?0:i-t,$(".rs-gallery-thumbnail-list",element).animate({top:"-"+n+"px"},400,function(){$(".rs-gallery-thumbnails-outer",element).removeClass("animating")})))))}),$(".rs-gallery-thumbnail",element).click(function(){var e;$(this).hasClass("active")||$(".rs-gallery-container",element).hasClass("animating")||(e=$(this).index(),timerStop(),thumbnailGalleryAnimate(e),timerReset())}),$(".rs-gallery-thumbnail",element).keydown(function(e){switch(e.keyCode){case csKeyCodes.left:case csKeyCodes.up:e.preventDefault(),($(this).hasClass("first")?$(this).parent().find(".rs-gallery-thumbnail.last"):$(this).prev(".rs-gallery-thumbnail")).focus();break;case csKeyCodes.right:case csKeyCodes.down:e.preventDefault(),($(this).hasClass("last")?$(this).parent().find(".rs-gallery-thumbnail.first"):$(this).next(".rs-gallery-thumbnail")).focus();break;case csKeyCodes.home:e.preventDefault(),$(this).parent().find(".rs-gallery-thumbnail.last").focus();break;case csKeyCodes.end:e.preventDefault(),$(this).parent().find(".rs-gallery-thumbnail.first").focus();break;case csKeyCodes.space:case csKeyCodes.enter:var t;e.preventDefault(),$(this).hasClass("active")||$(".rs-gallery-container",element).hasClass("animating")||(t=$(this).index(),"yes"==config.autoRotate&&clearInterval(galleryTimer[elemID]),thumbnailGalleryAnimate(t),timerReset())}})),"yes"==config.hoverPause&&($(".rs-gallery-container",element).hover(function(){$(this).addClass("cs-hover"),timerStop()},function(){$(this).removeClass("cs-hover"),timerStop(),timerReset()}),$(".rs-gallery-container",element).on("touchend",function(e){$("#rs-gallery-container-"+elemID).find(":focus").length||($(this).removeClass("cs-hover"),timerStop(),timerReset())})),"yes"==config.playPause&&($(".rs-gallery-control.play-pause",element).click(function(){$(this).hasClass("playing")?($(this).removeClass("playing").addClass("paused").attr("aria-label","Play Gallery - Currently on Slide "+(parseInt($(".rs-gallery-images-list li.active",element).attr("index"))+1)+" of "+arrayLength),timerStop()):$(this).hasClass("paused")&&($(this).removeClass("paused").addClass("playing").attr("aria-label","Pause Gallery - Currently on Slide "+(parseInt($(".rs-gallery-images-list li.active",element).attr("index"))+1)+" of "+arrayLength),$("#rs-gallery-container-"+elemID).find(":focus").length||(timerStop(),timerReset()))}),$(".rs-gallery-control.play-pause",element).keydown(function(e){e.keyCode!=csKeyCodes.space&&e.keyCode!=csKeyCodes.enter||(e.preventDefault(),$(this).hasClass("playing")?($(this).removeClass("playing").addClass("paused").attr("aria-label","Play Gallery - Currently on Slide "+(parseInt($(".rs-gallery-images-list li.active",element).attr("index"))+1)+" of "+arrayLength),timerStop()):$(this).hasClass("paused")&&($(this).removeClass("paused").addClass("playing").attr("aria-label","Pause Gallery - Currently on Slide "+(parseInt($(".rs-gallery-images-list li.active",element).attr("index"))+1)+" of "+arrayLength),$("#rs-gallery-container-"+elemID).find(":focus").length||(timerStop(),timerReset())))})),"yes"!=config.fullScreenRotator&&$(element).parents(".region").children().on("click",function(){windowResize()})}function videoControls(){"no"==config.fullScreenVideo?($("#rs-gallery-container-"+elemID).on("click keydown","ul.rs-gallery-images-list li .watch-btn, .rs-gallery-desc-watch-btn a",function(e){var t,l;("click"==e.type||"keydown"==e.type&&e.keyCode==csKeyCodes.enter||"keydown"==e.type&&e.keyCode==csKeyCodes.space)&&(e.preventDefault(),config.watchVidClick.call(this),"keydown"!=e.type||(-1<(l=$(this).attr("id")).indexOf("youtube")||-1<l.indexOf("vimeo"))&&document.getElementById(l).onclick(),t=$(this).attr("class").replace("watch-btn ","").replace(/\s/g,""),$(".rs-gallery-videos",element).removeClass("hidden").attr("aria-hidden","false"),$(".rs-gallery-videos .video."+t,element).removeClass("hidden").attr("aria-hidden","false"),$(".rs-gallery-videos .video iframe",element).css({width:"auto",height:"auto"}),e=$(".rs-gallery-videos .video",element).width(),l=$(".rs-gallery-videos .video",element).height()-27,$(".rs-gallery-videos .video iframe",element).css({width:e,height:l}),$(".rs-gallery-videos .close-btn[id*='"+t+"']",element).focus())}),$(document).on("click keydown",".video .close-btn",function(e){("click"==e.type||"keydown"==e.type&&e.keyCode==csKeyCodes.enter||"keydown"==e.type&&e.keyCode==csKeyCodes.space)&&(e.preventDefault(),config.closeVidClick.call(this),"keydown"!=e.type||(-1<(e=$(this).attr("id")).indexOf("youtube")||-1<e.indexOf("vimeo"))&&document.getElementById(e).onclick(),$(".rs-gallery-videos",element).addClass("hidden").attr("aria-hidden","true"),$(".rs-gallery-videos .video",element).addClass("hidden").attr("aria-hidden","true"),($("ul.rs-gallery-images-list li.active .watch-btn",element).length?$("ul.rs-gallery-images-list li.active .watch-btn",element):$(".rs-gallery-desc-watch-btn a",element)).focus())}),$(".rs-gallery-videos .video .close-btn",element).keydown(function(e){e.keyCode==csKeyCodes.tab&&(e.preventDefault(),$(this).parent().find("iframe").focus())}),$(".rs-gallery-videos .video",element).keydown(function(e){e.shiftKey&&e.keyCode==csKeyCodes.tab&&(e.preventDefault(),$(this).parent().find(".close-btn").focus())}),$(document).keydown(function(e){setTimeout(function(){$(".rs-gallery-videos[aria-hidden='false']",element).length&&!$(".rs-gallery-videos[aria-hidden='false']",element).find(":focus").length&&(e.preventDefault(),$(".video[aria-hidden='false'] .close-btn",element).focus())},100)})):"yes"==config.fullScreenVideo&&($("#rs-gallery-container-"+elemID).on("click keydown","ul.rs-gallery-images-list li .watch-btn, .rs-gallery-desc-watch-btn a",function(e){var t,l,a;("click"==e.type||"keydown"==e.type&&e.keyCode==csKeyCodes.enter||"keydown"==e.type&&e.keyCode==csKeyCodes.space)&&(e.preventDefault(),config.watchVidClick.call(this),"keydown"!=e.type||(-1<(a=$(this).attr("id")).indexOf("youtube")||-1<a.indexOf("vimeo"))&&document.getElementById(a).onclick(),t=$(this).attr("class").replace("watch-btn ","").replace(/\s/g,""),$("#rs-gallery-videos-"+elemID).removeClass("hidden").attr("aria-hidden","false"),$("#rs-gallery-videos-"+elemID+" .video."+t).removeClass("hidden").attr("aria-hidden","false"),$(".rs-gallery-videos .video iframe",element).css({width:"auto",height:"auto"}),$(window).width(),(l=$(window).height())<(a=.75*(e=$("#rs-gallery-videos-"+elemID+" .video").width()))+100&&(a=l-140),$("#rs-gallery-videos-"+elemID+" .video").css({height:a+40}),$("#rs-gallery-videos-"+elemID+" .video iframe").css({width:e,height:a}),$("#rs-gallery-videos-"+elemID+" .video."+t+" .close-btn").focus())}),$("#rs-gallery-videos-"+elemID).on("click keydown",".video .close-btn",function(e){("click"==e.type||"keydown"==e.type&&e.keyCode==csKeyCodes.enter||"keydown"==e.type&&e.keyCode==csKeyCodes.space)&&(e.preventDefault(),config.closeVidClick.call(this),"keydown"!=e.type||(-1<(e=$(this).attr("id")).indexOf("youtube")||-1<e.indexOf("vimeo"))&&document.getElementById(e).onclick(),$(this).parent().addClass("hidden").attr("aria-hidden","true"),$(this).parent().parent().addClass("hidden").attr("aria-hidden","true"),($("ul.rs-gallery-images-list li.active .watch-btn",element).length?$("ul.rs-gallery-images-list li.active .watch-btn",element):$(".rs-gallery-desc-watch-btn a",element)).focus())}),$("#rs-gallery-videos-"+elemID+" .video .close-btn").keydown(function(e){e.keyCode==csKeyCodes.tab&&(e.preventDefault(),$(this).parent().find("iframe").focus())}),$("#rs-gallery-videos-"+elemID+" .video").keydown(function(e){e.shiftKey&&e.keyCode==csKeyCodes.tab&&(e.preventDefault(),$(this).parent().find(".close-btn").focus())}),$(document).keydown(function(e){setTimeout(function(){$("#rs-gallery-videos-"+elemID+"[aria-hidden='false']",element).length&&!$("#rs-gallery-videos-"+elemID+"[aria-hidden='false']",element).find(":focus").length&&(e.preventDefault(),$("#rs-gallery-videos-"+elemID+"[aria-hidden='false'] .video[aria-hidden='false'] .close-btn",element).focus())},100)}))}function timerReset(){"yes"==config.playPause?$(".rs-gallery-control.play-pause",element).hasClass("playing")&&!$(".rs-gallery-container",element).hasClass("cs-hover")&&"yes"==config.autoRotate&&galleryTimer():$(".rs-gallery-container",element).hasClass("cs-hover")||"yes"==config.autoRotate&&galleryTimer()}function timerStop(){"yes"==config.autoRotate&&clearInterval(galleryTimer[elemID])}function galleryRotate(){$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).hasClass("last")?galleryAnimate("first"):galleryAnimate("next")}function galleryAnimate(e){var t,l,a,i,r;$(".rs-gallery-container",element).addClass("animating"),"next"==e?(config.onTransitionStart.call(this),"yes"==config.efficientLoad&&$(".rs-gallery-images .rs-gallery-images-list li.image.loading.next-load",element).length&&loadImage(),"yes"==config.bullets&&($(".rs-gallery-bullet.active",element).attr("aria-label","Navigate to Slide "+(parseInt($(".rs-gallery-bullet.active",element).attr("data-index"))+1)).removeClass("active"),$(".rs-gallery-bullet.prev",element).removeClass("prev"),$(".rs-gallery-bullet.next",element).removeClass("next").addClass("active").attr("aria-label","Slide "+(parseInt($(".rs-gallery-bullet.active",element).attr("data-index"))+1)+": Current Item"),$(".rs-gallery-bullet.active",element).next(".rs-gallery-bullet").addClass("next"),$(".rs-gallery-bullet.active",element).prev(".rs-gallery-bullet").addClass("prev"),$(".rs-gallery-bullet.next",element).length||$(".rs-gallery-bullet.first",element).addClass("next"),$(".rs-gallery-bullet.prev",element).length||$(".rs-gallery-bullet.last",element).addClass("prev")),"yes"==config.thumbnails&&($(".rs-gallery-thumbnail.active",element).attr("aria-label","Navigate to Slide "+($(".rs-gallery-thumbnail.active",element).index()+1)).removeClass("active"),$(".rs-gallery-thumbnail.prev",element).removeClass("prev"),$(".rs-gallery-thumbnail.next",element).removeClass("next").addClass("active").attr("aria-label","Slide "+($(".rs-gallery-thumbnail.active",element).index()+1)+": Current Item"),$(".rs-gallery-thumbnail.active",element).next(".rs-gallery-thumbnail").addClass("next"),$(".rs-gallery-thumbnail.active",element).prev(".rs-gallery-thumbnail").addClass("prev"),$(".rs-gallery-thumbnail.next",element).length||$(".rs-gallery-thumbnail.first",element).addClass("next"),$(".rs-gallery-thumbnail.prev",element).length||$(".rs-gallery-thumbnail.last",element).addClass("prev")),"fade"==config.transitionType?(updateMoreLinks(r=$(".rs-gallery-images-list li.next",element).index()),updateWatchVideoLink(r),updateOverlay(r),$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).fadeOut(1e3*config.transitionSpeed,function(){$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).removeClass("active").attr("aria-hidden","true"),$(".rs-gallery-images ul.rs-gallery-images-list li.prev",element).removeClass("prev"),$(".rs-gallery-images ul.rs-gallery-images-list li.next",element).removeClass("next").addClass("active").attr("aria-hidden","false"),$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).next().addClass("next"),$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).prev().addClass("prev"),$(".rs-gallery-images ul.rs-gallery-images-list li.next",element).length||$(".rs-gallery-images ul.rs-gallery-images-list li.first",element).addClass("next"),$(".rs-gallery-images ul.rs-gallery-images-list li.prev",element).length||$(".rs-gallery-images ul.rs-gallery-images-list li.last",element).addClass("prev"),"yes"==config.efficientLoad&&$(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).length&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image.next",element).next(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).addClass("next-load")),$(".rs-gallery-images ul.rs-gallery-images-list li",element).css("display",""),$(".rs-gallery-container",element).removeClass("animating"),$(".rs-gallery-images-list li a, .rs-gallery-images-list li .watch-btn",element).attr("tabIndex","-1"),$(".rs-gallery-images-list li.active a, .rs-gallery-images-list li.active .watch-btn",element).attr("tabIndex","0"),updateControls(),config.onTransitionEnd.call(this)})):"slide"==config.transitionType&&(updateMoreLinks(r=$(".rs-gallery-images-list li.next",element).attr("index")),updateWatchVideoLink(r),updateOverlay(r),i=-1*parseInt($(".rs-gallery-images-list",element).css("left"))+("yes"==config.fullScreenRotator?$(window).width():$(element).width()>config.imageWidth?config.imageWidth:$(element).width()),r=$(".rs-gallery-images-list li.next",element).attr("index"),$(".rs-gallery-images-list",element).animate({left:"-"+i+"px"},1e3*config.transitionSpeed,function(){$(".rs-gallery-images-list",element).append($(".rs-gallery-images-list li",element).eq(0)),$(".rs-gallery-images-list li.active",element).removeClass("active").attr("aria-hidden","true"),$(".rs-gallery-images-list li.prev",element).removeClass("prev"),$(".rs-gallery-images-list li.next",element).removeClass("next").addClass("active").attr("aria-hidden","false"),$(".rs-gallery-images-list li.active",element).next().addClass("next"),$(".rs-gallery-images-list li.active",element).prev().addClass("prev"),"yes"==config.efficientLoad&&$(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).length&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image.next",element).next(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).addClass("next-load")),sliderDimReset(),$(".rs-gallery-container",element).removeClass("animating"),$(".rs-gallery-images-list li a, .rs-gallery-images-list li .watch-btn",element).attr("tabIndex","-1"),$(".rs-gallery-images-list li.active a, .rs-gallery-images-list li.active .watch-btn",element).attr("tabIndex","0"),updateControls(),config.onTransitionEnd.call(this)}))):"prev"==e?(config.onTransitionStart.call(this),"yes"==config.efficientLoad&&"fade"==config.transitionType&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image.prev",element).hasClass("loading")&&($(".rs-gallery-images .rs-gallery-images-list li.image.prev",element).addClass("next-load"),loadImage())),"yes"==config.bullets&&($(".rs-gallery-bullet.next",element).removeClass("next"),$(".rs-gallery-bullet.prev",element).removeClass("prev").addClass("next"),$(".rs-gallery-bullet.active",element).attr("aria-label","Navigate to Slide "+(parseInt($(".rs-gallery-bullet.active",element).attr("data-index"))+1)).removeClass("active"),$(".rs-gallery-bullet.next",element).removeClass("next").addClass("active").attr("aria-label","Slide "+(parseInt($(".rs-gallery-bullet.active",element).attr("data-index"))+1)+": Current Item"),$(".rs-gallery-bullet.active",element).next(".rs-gallery-bullet").addClass("next"),$(".rs-gallery-bullet.active",element).prev(".rs-gallery-bullet").addClass("prev"),$(".rs-gallery-bullet.next",element).length||$(".rs-gallery-bullet.first",element).addClass("next"),$(".rs-gallery-bullet.prev",element).length||$(".rs-gallery-bullet.last",element).addClass("prev")),"yes"==config.thumbnails&&($(".rs-gallery-thumbnail.next",element).removeClass("next"),$(".rs-gallery-thumbnail.prev",element).removeClass("prev").addClass("next"),$(".rs-gallery-thumbnail.active",element).attr("aria-label","Navigate to Slide "+($(".rs-gallery-thumbnail.active",element).index()+1)).removeClass("active"),$(".rs-gallery-thumbnail.next",element).removeClass("next").addClass("active").attr("aria-label","Slide "+($(".rs-gallery-thumbnail.active",element).index()+1)+": Current Item"),$(".rs-gallery-thumbnail.active",element).next(".rs-gallery-thumbnail").addClass("next"),$(".rs-gallery-thumbnail.active",element).prev(".rs-gallery-thumbnail").addClass("prev"),$(".rs-gallery-thumbnail.next",element).length||$(".rs-gallery-thumbnail.first",element).addClass("next"),$(".rs-gallery-thumbnail.prev",element).length||$(".rs-gallery-thumbnail.last",element).addClass("prev")),"slide"==config.transitionType&&($(".rs-gallery-images-list",element).prepend($(".rs-gallery-images-list li",element).last()),"yes"==config.efficientLoad&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image",element).first().hasClass("loading")&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).first().addClass("next-load"),loadImage())),sliderDimReset()),$(".rs-gallery-images .rs-gallery-images-list li.next",element).removeClass("next"),$(".rs-gallery-images .rs-gallery-images-list li.prev",element).removeClass("prev").addClass("next"),"fade"==config.transitionType?t=$(".rs-gallery-images .rs-gallery-images-list li.next",element).index():"slide"==config.transitionType&&(t=$(".rs-gallery-images .rs-gallery-images-list li.next",element).attr("index")),l=dataArray[t][8],a=dataArray[t][9],"yes"==config.titles&&("True"==l?$(".rs-title.next",element).empty().addClass("hidden"):("True"==dataArray[t][11]&&(-1<$.inArray("title",config.linkedElement)||-1<$.inArray("all",config.linkedElement))?$(".rs-title.next",element).html("<h1><a href='"+dataArray[t][10]+"'>"+dataArray[t][0]+"</a></h1>"):$(".rs-title.next",element).html("<h1>"+dataArray[t][0]+"</h1>")).removeClass("hidden").removeAttr("style")),"yes"==config.captions&&("True"==a?$(".rs-caption.next",element).empty().addClass("hidden"):$(".rs-caption.next",element).html("<p>"+dataArray[t][1]+"</p>").removeClass("hidden").removeAttr("style")),"fade"==config.transitionType?(updateMoreLinks(r=$(".rs-gallery-images-list li.next",element).index()),updateWatchVideoLink(r),updateOverlay(r),$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).fadeOut(1e3*config.transitionSpeed,function(){$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).removeClass("active").attr("aria-hidden","true"),$(".rs-gallery-images ul.rs-gallery-images-list li.next",element).removeClass("next").addClass("active").attr("aria-hidden","false"),$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).next().addClass("next"),$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).prev().addClass("prev"),$(".rs-gallery-images ul.rs-gallery-images-list li.next",element).length||$(".rs-gallery-images ul.rs-gallery-images-list li.first",element).addClass("next"),$(".rs-gallery-images ul.rs-gallery-images-list li.prev",element).length||$(".rs-gallery-images ul.rs-gallery-images-list li.last",element).addClass("prev"),"yes"==config.efficientLoad&&$(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).length&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image.next",element).next(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).addClass("next-load")),$(".rs-gallery-images ul.rs-gallery-images-list li",element).css("display",""),$(".rs-gallery-container",element).removeClass("animating"),$(".rs-gallery-images-list li a, .rs-gallery-images-list li .watch-btn",element).attr("tabIndex","-1"),$(".rs-gallery-images-list li.active a, .rs-gallery-images-list li.active .watch-btn",element).attr("tabIndex","0"),updateControls(),config.onTransitionEnd.call(this)})):"slide"==config.transitionType&&(updateMoreLinks(r=$(".rs-gallery-images-list li.active",element).prev(".image").attr("index")),updateWatchVideoLink(r),updateOverlay(r),i=-1*parseInt($(".rs-gallery-images-list",element).css("left"))-("yes"==config.fullScreenRotator?$(window).width():$(element).width()>config.imageWidth?config.imageWidth:$(element).width()),r=$(".rs-gallery-images-list li."+e,element).index()-1,$(".rs-gallery-images-list",element).animate({left:"-"+i+"px"},1e3*config.transitionSpeed,function(){$(".rs-gallery-images-list li.active",element).removeClass("active").attr("aria-hidden","true"),$(".rs-gallery-images-list li.next",element).removeClass("next").addClass("active").attr("aria-hidden","false"),$(".rs-gallery-images-list li.active",element).next().addClass("next"),$(".rs-gallery-images-list li.active",element).prev().addClass("prev"),"yes"==config.efficientLoad&&$(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).length&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image.next",element).next(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).addClass("next-load")),sliderDimReset(),$(".rs-gallery-container",element).removeClass("animating"),$(".rs-gallery-images-list li a, .rs-gallery-images-list li .watch-btn",element).attr("tabIndex","-1"),$(".rs-gallery-images-list li.active a, .rs-gallery-images-list li.active .watch-btn",element).attr("tabIndex","0"),updateControls(),config.onTransitionEnd.call(this)}))):"first"==e&&(config.onTransitionStart.call(this),"yes"==config.bullets&&($(".rs-gallery-bullet.active",element).attr("aria-label","Navigate to Slide "+(parseInt($(".rs-gallery-bullet.active",element).attr("data-index"))+1)).removeClass("active"),$(".rs-gallery-bullet.prev",element).removeClass("prev"),$(".rs-gallery-bullet.next",element).removeClass("next").addClass("active").attr("aria-label","Slide "+(parseInt($(".rs-gallery-bullet.active",element).attr("data-index"))+1)+": Current Item"),$(".rs-gallery-bullet.active",element).next(".rs-gallery-bullet").addClass("next"),$(".rs-gallery-bullet.active",element).prev(".rs-gallery-bullet").addClass("prev"),$(".rs-gallery-bullet.prev",element).length||$(".rs-gallery-bullet.last",element).addClass("prev")),"yes"==config.thumbnails&&($(".rs-gallery-thumbnail.active",element).attr("aria-label","Navigate to Slide "+($(".rs-gallery-thumbnail.active",element).index()+1)).removeClass("active"),$(".rs-gallery-thumbnail.prev",element).removeClass("prev"),$(".rs-gallery-thumbnail.next",element).removeClass("next").addClass("active").attr("aria-label","Slide "+($(".rs-gallery-thumbnail.active",element).index()+1)+": Current Item"),$(".rs-gallery-thumbnail.active",element).next(".rs-gallery-thumbnail").addClass("next"),$(".rs-gallery-thumbnail.active",element).prev(".rs-gallery-thumbnail").addClass("prev"),$(".rs-gallery-thumbnail.prev",element).length||$(".rs-gallery-thumbnail.last",element).addClass("prev")),updateMoreLinks(0),updateWatchVideoLink(0),updateOverlay(0),"fade"==config.transitionType&&$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).fadeOut(1e3*config.transitionSpeed,function(){$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).removeClass("active").attr("aria-hidden","true"),$(".rs-gallery-images ul.rs-gallery-images-list li.prev",element).removeClass("prev"),$(".rs-gallery-images ul.rs-gallery-images-list li.next",element).removeClass("next").addClass("active").attr("aria-hidden","false"),$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).next().addClass("next"),$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).prev().addClass("prev"),$(".rs-gallery-images ul.rs-gallery-images-list li.prev",element).length||$(".rs-gallery-images ul.rs-gallery-images-list li.last",element).addClass("prev"),"yes"==config.efficientLoad&&$(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).length&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image.next",element).next(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).addClass("next-load")),$(".rs-gallery-images ul.rs-gallery-images-list li",element).css("display",""),$(".rs-gallery-container",element).removeClass("animating"),$(".rs-gallery-images-list li a, .rs-gallery-images-list li .watch-btn",element).attr("tabIndex","-1"),$(".rs-gallery-images-list li.active a, .rs-gallery-images-list li.active .watch-btn",element).attr("tabIndex","0"),updateControls(),config.onTransitionEnd.call(this)})),fadeTitlesCaptions()}function bulletGalleryAnimate(t){if($(".rs-gallery-container",element).addClass("animating"),t=parseInt(t),$(".rs-gallery-images .rs-gallery-images-list li",element).removeClass("prev").removeClass("next"),$(".rs-gallery-bullet",element).removeClass("prev").removeClass("next"),"yes"==config.thumbnails&&$(".rs-gallery-thumbnail",element).removeClass("prev").removeClass("next"),"fade"==config.transitionType)$(".rs-gallery-images .rs-gallery-images-list li:eq("+t+")",element).addClass("next"),"yes"==config.efficientLoad&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image.next",element).hasClass("loading")&&($(".rs-gallery-images .rs-gallery-images-list li.image.next",element).addClass("next-load"),loadImage(),$(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).length&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image.next",element).next(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).addClass("next-load"))));else if("slide"==config.transitionType){var e=parseInt($(".rs-gallery-bullet.active",element).attr("data-index")),l=0,a="";if(t<e){a="backward",l=e-t;for(var i=0;i<l;i++){var r=$(".rs-gallery-images-list li",element).eq(arrayLength-1).clone().attr("class","image clone");$(".rs-gallery-images-list",element).prepend(r)}sliderDimReset()}else if(e<t){a="forward",l=t-e,"yes"==config.efficientLoad&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".image.loading",element).each(function(){$(this).addClass("batch-item")}));for(i=0;i<l;i++){r=$(".rs-gallery-images-list li",element).eq(i).clone().attr("class","image clone");$(".rs-gallery-images-list",element).append(r)}"yes"==config.efficientLoad&&$(".batch-item",element).length&&batchImageLoad(function(){sliderDimReset()}),sliderDimReset()}"forward"==a?s=$(".rs-gallery-images .rs-gallery-images-list li.active",element).index()+l:"backward"==a&&(s=$(".rs-gallery-images .rs-gallery-images-list li.active",element).index()-l),$(".rs-gallery-images .rs-gallery-images-list li",element).eq(s).addClass("next")}$(".rs-gallery-bullet:eq("+t+")",element).addClass("next"),"yes"==config.thumbnails&&$(".rs-gallery-thumbnail:eq("+t+")",element).addClass("next"),"fade"==config.transitionType?n=$(".rs-gallery-images .rs-gallery-images-list li.next",element).index():"slide"==config.transitionType&&(n=$(".rs-gallery-images .rs-gallery-images-list li.next",element).attr("index"));var n,e=dataArray[n][8],s=dataArray[n][9];"yes"==config.titles&&("True"==e?$(".rs-title.next",element).empty().addClass("hidden"):("True"==dataArray[n][11]&&(-1<$.inArray("title",config.linkedElement)||-1<$.inArray("all",config.linkedElement))?$(".rs-title.next",element).html("<h1><a href='"+dataArray[n][10]+"'>"+dataArray[n][0]+"</a></h1>"):$(".rs-title.next",element).html("<h1>"+dataArray[n][0]+"</h1>")).removeClass("hidden").removeAttr("style")),"yes"==config.captions&&("True"==s?$(".rs-caption.next",element).empty().addClass("hidden"):$(".rs-caption.next",element).html("<p>"+dataArray[n][1]+"</p>").removeClass("hidden").removeAttr("style")),$(".rs-gallery-bullet.active",element).attr("aria-label","Navigate to Slide "+(parseInt($(".rs-gallery-bullet.active",element).attr("data-index"))+1)).removeClass("active"),$(".rs-gallery-bullet.next",element).removeClass("next").addClass("active").attr("aria-label","Slide "+(parseInt($(".rs-gallery-bullet.active",element).attr("data-index"))+1)+": Current Item"),$(".rs-gallery-bullet.active",element).next(".rs-gallery-bullet").addClass("next"),$(".rs-gallery-bullet.active",element).prev(".rs-gallery-bullet").addClass("prev"),$(".rs-gallery-bullet.next",element).length||$(".rs-gallery-bullet.first",element).addClass("next"),$(".rs-gallery-bullet.prev",element).length||$(".rs-gallery-bullet.last",element).addClass("prev"),"yes"==config.thumbnails&&($(".rs-gallery-thumbnail.active",element).attr("aria-label","Navigate to Slide "+($(".rs-gallery-thumbnail.active",element).index()+1)).removeClass("active"),$(".rs-gallery-thumbnail.next",element).removeClass("next").addClass("active").attr("aria-label","Slide "+($(".rs-gallery-thumbnail.active",element).index()+1)+": Current Item"),$(".rs-gallery-thumbnail.active",element).next(".rs-gallery-thumbnail").addClass("next"),$(".rs-gallery-thumbnail.active",element).prev(".rs-gallery-thumbnail").addClass("prev"),$(".rs-gallery-thumbnail.next",element).length||$(".rs-gallery-thumbnail.first",element).addClass("next"),$(".rs-gallery-thumbnail.prev",element).length||$(".rs-gallery-thumbnail.last",element).addClass("prev")),updateMoreLinks(n),updateWatchVideoLink(n),updateOverlay(n),config.onTransitionStart.call(this),"fade"==config.transitionType?$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).fadeOut(1e3*config.transitionSpeed,function(){$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).removeClass("active").attr("aria-hidden","true"),$(".rs-gallery-images ul.rs-gallery-images-list li.next",element).removeClass("next").addClass("active").attr("aria-hidden","false"),$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).next().addClass("next"),$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).prev().addClass("prev"),$(".rs-gallery-images ul.rs-gallery-images-list li.next",element).length||$(".rs-gallery-images ul.rs-gallery-images-list li.first",element).addClass("next"),$(".rs-gallery-images ul.rs-gallery-images-list li.prev",element).length||$(".rs-gallery-images ul.rs-gallery-images-list li.last",element).addClass("prev"),"yes"==config.efficientLoad&&($(".rs-gallery-images .rs-gallery-images-list li.image.loading.next-load",element).length&&loadImage(),$(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).length&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image.next",element).next(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).addClass("next-load"))),$(".rs-gallery-images ul.rs-gallery-images-list li",element).css("display",""),$(".rs-gallery-container",element).removeClass("animating"),$(".rs-gallery-images-list li a, .rs-gallery-images-list li .watch-btn",element).attr("tabIndex","-1"),$(".rs-gallery-images-list li.active a, .rs-gallery-images-list li.active .watch-btn",element).attr("tabIndex","0"),updateControls(),config.onTransitionEnd.call(this)}):"slide"==config.transitionType&&(n=("yes"==config.fullScreenRotator?$(window).width():$(element).width()>config.imageWidth?config.imageWidth:$(element).width())*$(".rs-gallery-images-list li.next",element).index(),$(".rs-gallery-images-list",element).animate({left:"-"+n+"px"},1e3*config.transitionSpeed,function(){if($(".rs-gallery-images .rs-gallery-images-list li.clone",element).remove(),"backward"==a){for(var e=0;e<l;e++)$(".rs-gallery-images-list",element).prepend($(".rs-gallery-images-list li",element).last());sliderDimReset()}else if("forward"==a){for(e=0;e<l;e++)$(".rs-gallery-images-list",element).append($(".rs-gallery-images-list li",element).first());sliderDimReset()}$(".rs-gallery-images-list li.active",element).removeClass("active").attr("aria-hidden","true"),$(".rs-gallery-images-list li.prev",element).removeClass("prev"),$(".rs-gallery-images-list li.next",element).removeClass("next"),$(".rs-gallery-images-list li[index='"+t+"']",element).first().addClass("active").attr("aria-hidden","false"),$(".rs-gallery-images-list li.active",element).next().addClass("next"),$(".rs-gallery-images-list li.active",element).prev().addClass("prev"),sliderDimReset(),$(".rs-gallery-container",element).removeClass("animating"),$(".rs-gallery-images-list li a, .rs-gallery-images-list li .watch-btn",element).attr("tabIndex","-1"),$(".rs-gallery-images-list li.active a, .rs-gallery-images-list li.active .watch-btn",element).attr("tabIndex","0"),updateControls(),config.onTransitionEnd.call(this)})),fadeTitlesCaptions()}function thumbnailGalleryAnimate(t){if($(".rs-gallery-container",element).addClass("animating"),$(".rs-gallery-images .rs-gallery-images-list li",element).removeClass("prev").removeClass("next"),"yes"==config.bullets&&$(".rs-gallery-bullet",element).removeClass("prev").removeClass("next"),$(".rs-gallery-thumbnail",element).removeClass("prev").removeClass("next"),"fade"==config.transitionType)$(".rs-gallery-images .rs-gallery-images-list li:eq("+t+")",element).addClass("next"),"yes"==config.efficientLoad&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image.next",element).hasClass("loading")&&($(".rs-gallery-images .rs-gallery-images-list li.image.next",element).addClass("next-load"),loadImage(),$(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).length&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image.next",element).next(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).addClass("next-load"))));else if("slide"==config.transitionType){var e=$(".rs-gallery-thumbnail.active",element).index(),l=0,a="";if(t<e){a="backward",l=e-t;for(var i=0;i<l;i++){var r=$(".rs-gallery-images-list li",element).eq(arrayLength-1).clone().attr("class","image clone");$(".rs-gallery-images-list",element).prepend(r)}sliderDimReset()}else if(e<t){a="forward",l=t-e,"yes"==config.efficientLoad&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".image.loading",element).each(function(){$(this).addClass("batch-item")}));for(i=0;i<l;i++){r=$(".rs-gallery-images-list li",element).eq(i).clone().attr("class","image clone");$(".rs-gallery-images-list",element).append(r)}"yes"==config.efficientLoad&&$(".batch-item",element).length&&batchImageLoad(),sliderDimReset()}"forward"==a?s=$(".rs-gallery-images .rs-gallery-images-list li.active",element).index()+l:"backward"==a&&(s=$(".rs-gallery-images .rs-gallery-images-list li.active",element).index()-l),$(".rs-gallery-images .rs-gallery-images-list li",element).eq(s).addClass("next")}"yes"==config.bullets&&$(".rs-gallery-bullet:eq("+t+")",element).addClass("next"),$(".rs-gallery-thumbnail:eq("+t+")",element).addClass("next"),"fade"==config.transitionType?n=$(".rs-gallery-images .rs-gallery-images-list li.next",element).index():"slide"==config.transitionType&&(n=$(".rs-gallery-images .rs-gallery-images-list li.next",element).attr("index"));var n,e=dataArray[n][8],s=dataArray[n][9];"yes"==config.titles&&("True"==e?$(".rs-title.next",element).empty().addClass("hidden"):("True"==dataArray[n][11]&&(-1<$.inArray("title",config.linkedElement)||-1<$.inArray("all",config.linkedElement))?$(".rs-title.next",element).html("<h1><a href='"+dataArray[n][10]+"'>"+dataArray[n][0]+"</a></h1>"):$(".rs-title.next",element).html("<h1>"+dataArray[n][0]+"</h1>")).removeClass("hidden").removeAttr("style")),"yes"==config.captions&&("True"==s?$(".rs-caption.next",element).empty().addClass("hidden"):$(".rs-caption.next",element).html("<p>"+dataArray[n][1]+"</p>").removeClass("hidden").removeAttr("style")),"yes"==config.bullets&&($(".rs-gallery-bullet.active",element).attr("aria-label","Navigate to Slide "+(parseInt($(".rs-gallery-bullet.active",element).attr("data-index"))+1)).removeClass("active"),$(".rs-gallery-bullet.next",element).removeClass("next").addClass("active").attr("aria-label","Slide "+(parseInt($(".rs-gallery-bullet.active",element).attr("data-index"))+1)+": Current Item"),$(".rs-gallery-bullet.active",element).next(".rs-gallery-bullet").addClass("next"),$(".rs-gallery-bullet.active",element).prev(".rs-gallery-bullet").addClass("prev"),$(".rs-gallery-bullet.next",element).length||$(".rs-gallery-bullet.first",element).addClass("next"),$(".rs-gallery-bullet.prev",element).length||$(".rs-gallery-bullet.last",element).addClass("prev")),$(".rs-gallery-thumbnail.active",element).attr("aria-label","Navigate to Slide "+($(".rs-gallery-thumbnail.active",element).index()+1)).removeClass("active"),$(".rs-gallery-thumbnail.next",element).removeClass("next").addClass("active").attr("aria-label","Slide "+($(".rs-gallery-thumbnail.active",element).index()+1)+": Current Item"),$(".rs-gallery-thumbnail.active",element).next(".rs-gallery-thumbnail").addClass("next"),$(".rs-gallery-thumbnail.active",element).prev(".rs-gallery-thumbnail").addClass("prev"),$(".rs-gallery-thumbnail.next",element).length||$(".rs-gallery-thumbnail.first",element).addClass("next"),$(".rs-gallery-thumbnail.prev",element).length||$(".rs-gallery-thumbnail.last",element).addClass("prev"),updateMoreLinks(n),updateWatchVideoLink(n),updateOverlay(n),config.onTransitionStart.call(this),"fade"==config.transitionType?$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).fadeOut(1e3*config.transitionSpeed,function(){$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).removeClass("active").attr("aria-hidden","true"),$(".rs-gallery-images ul.rs-gallery-images-list li.next",element).removeClass("next").addClass("active").attr("aria-hidden","false"),$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).next().addClass("next"),$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).prev().addClass("prev"),$(".rs-gallery-images ul.rs-gallery-images-list li.next",element).length||$(".rs-gallery-images ul.rs-gallery-images-list li.first",element).addClass("next"),$(".rs-gallery-images ul.rs-gallery-images-list li.prev",element).length||$(".rs-gallery-images ul.rs-gallery-images-list li.last",element).addClass("prev"),"yes"==config.efficientLoad&&($(".rs-gallery-images .rs-gallery-images-list li.image.loading.next-load",element).length&&loadImage(),$(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).length&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image.next",element).next(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).addClass("next-load"))),$(".rs-gallery-images ul.rs-gallery-images-list li",element).css("display",""),$(".rs-gallery-container",element).removeClass("animating"),$(".rs-gallery-images-list li a, .rs-gallery-images-list li .watch-btn",element).attr("tabIndex","-1"),$(".rs-gallery-images-list li.active a, .rs-gallery-images-list li.active .watch-btn",element).attr("tabIndex","0"),updateControls(),config.onTransitionEnd.call(this)}):"slide"==config.transitionType&&(n=("yes"==config.fullScreenRotator?$(window).width():$(element).width()>config.imageWidth?config.imageWidth:$(element).width())*$(".rs-gallery-images-list li.next",element).index(),$(".rs-gallery-images-list",element).animate({left:"-"+n+"px"},1e3*config.transitionSpeed,function(){if($(".rs-gallery-images .rs-gallery-images-list li.clone",element).remove(),"backward"==a){for(var e=0;e<l;e++)$(".rs-gallery-images-list",element).prepend($(".rs-gallery-images-list li",element).last());sliderDimReset()}else if("forward"==a){for(e=0;e<l;e++)$(".rs-gallery-images-list",element).append($(".rs-gallery-images-list li",element).first());sliderDimReset()}$(".rs-gallery-images-list li.active",element).removeClass("active").attr("aria-hidden","true"),$(".rs-gallery-images-list li.prev",element).removeClass("prev"),$(".rs-gallery-images-list li.next",element).removeClass("next"),$(".rs-gallery-images-list li[index='"+t+"']",element).first().addClass("active").attr("aria-hidden","false"),$(".rs-gallery-images-list li.active",element).next().addClass("next"),$(".rs-gallery-images-list li.active",element).prev().addClass("prev"),sliderDimReset(),$(".rs-gallery-container",element).removeClass("animating"),$(".rs-gallery-images-list li a, .rs-gallery-images-list li .watch-btn",element).attr("tabIndex","-1"),$(".rs-gallery-images-list li.active a, .rs-gallery-images-list li.active .watch-btn",element).attr("tabIndex","0"),updateControls(),config.onTransitionEnd.call(this)})),"yes"!=config.titles&&"yes"!=config.captions||fadeTitlesCaptions()}function fadeTitlesCaptions(){var l,e,a;"fade"==config.transitionType?(l=$(".rs-gallery-images ul.rs-gallery-images-list li.next",element).index()+1,e=$(".rs-gallery-images ul.rs-gallery-images-list li.next",element).index(),l==arrayLength&&(l=0)):"slide"==config.transitionType&&(l=$(".rs-gallery-images .rs-gallery-images-list li.next",element).next(".image").attr("index"),e=$(".rs-gallery-images .rs-gallery-images-list li.next",element).attr("index")),"yes"!=config.titles&&"yes"!=config.captions||(a=1e3*config.transitionSpeed/2,$(".rs-caption.next",element).hasClass("hidden")&&$(".rs-title.next",element).hasClass("hidden")&&("yes"==config.descMoreLink&&"False"==dataArray[e][11]&&"yes"==config.descVideoLink&&"False"==dataArray[e][12]||"yes"==config.descMoreLink&&"False"==dataArray[e][11]&&"no"==config.descVideoLink||"no"==config.descMoreLink&&"yes"==config.descVideoLink&&"False"==dataArray[e][12]||"no"==config.descMoreLink&&"no"==config.descVideoLink)&&(a=1e3*config.transitionSpeed,$(".rs-gallery-desc",element).fadeOut(1e3*config.transitionSpeed,function(){$(this).addClass("hidden").removeAttr("style")})),$(".rs-gallery-desc",element).hasClass("hidden")&&(!$(".rs-caption.next",element).hasClass("hidden")||!$(".rs-title.next",element).hasClass("hidden")||"yes"==config.descMoreLink&&"True"==dataArray[e][11]||"yes"==config.descVideoLink&&"True"==dataArray[e][12])&&$(".rs-gallery-desc",element).fadeIn(1e3*config.transitionSpeed,function(){$(this).removeClass("hidden").removeAttr("style")}),"yes"==config.titles&&$(".rs-title.active",element).fadeOut(a,function(){var e,t=$(this);$(".rs-title.next",element).hasClass("hidden")?(e=$(".rs-title.next",element),setNextTitle(l,e,t)):(e=0,$(this).hasClass("hidden")&&!$(".rs-gallery-desc",element).hasClass("hidden")&&(e=1e3*config.transitionSpeed/2),$(".rs-gallery-title",element).removeClass("hidden"),$(".rs-title.next",element).delay(e).fadeIn(a,function(){var e=$(this);setNextTitle(l,e,t)}))}),"yes"==config.captions&&$(".rs-caption.active",element).fadeOut(a,function(){var e,t=$(this);$(".rs-caption.next",element).hasClass("hidden")?(e=$(".rs-caption.next",element),setNextCaption(l,e,t)):(e=0,$(this).hasClass("hidden")&&!$(".rs-gallery-desc",element).hasClass("hidden")&&(e=1e3*config.transitionSpeed/2),$(".rs-gallery-caption",element).removeClass("hidden"),$(".rs-caption.next",element).delay(e).fadeIn(a,function(){var e=$(this);setNextCaption(l,e,t)}))}))}function setNextTitle(e,t,l){l.removeClass("active").addClass("next"),t.removeClass("next").addClass("active"),t.hasClass("hidden")&&$(".rs-gallery-title",element).addClass("hidden"),$(".rs-title",element).removeAttr("style"),("True"==dataArray[e][8]?$(".rs-title.next",element).empty().addClass("hidden"):("True"==dataArray[e][11]&&(-1<$.inArray("title",config.linkedElement)||-1<$.inArray("all",config.linkedElement))?$(".rs-title.next",element).html("<h1><a href='"+dataArray[e][10]+"'>"+dataArray[e][0]+"</a></h1>"):$(".rs-title.next",element).html("<h1>"+dataArray[e][0]+"</h1>")).removeClass("hidden")).removeAttr("style")}function setNextCaption(e,t,l){l.removeClass("active").addClass("next"),t.removeClass("next").addClass("active"),t.hasClass("hidden")&&$(".rs-gallery-caption",element).addClass("hidden"),$(".rs-caption",element).removeAttr("style"),("True"==dataArray[e][9]?$(".rs-caption.next",element).empty().addClass("hidden"):$(".rs-caption.next",element).html("<p>"+dataArray[e][1]+"</p>").removeClass("hidden")).removeAttr("style")}function updateMoreLinks(e){var t;"yes"==config.contMoreLink&&($(".rs-gallery-more-link a",element).attr({href:jQuery.trim(dataArray[e][10]),"aria-label":"Read more about gallery slide "+(e+1)+": "+jQuery.trim(dataArray[e][0]).replace(/&#39;/gi,"'").replace(/&quot;/gi,'"')}),$(".rs-gallery-more-link",element).hasClass("hidden")&&"True"==jQuery.trim(dataArray[e][11])?(t=1e3*config.transitionSpeed/2,$(".rs-gallery-more-link",element).delay(t).fadeIn(1e3*config.transitionSpeed/2,function(){$(this).removeClass("hidden")})):$(".rs-gallery-more-link",element).hasClass("hidden")||"True"==jQuery.trim(dataArray[e][11])||$(".rs-gallery-more-link",element).fadeOut(1e3*config.transitionSpeed/2,function(){$(this).addClass("hidden")})),"yes"==config.descMoreLink&&($(".rs-gallery-desc-more-link a",element).attr({href:jQuery.trim(dataArray[e][10]),"aria-label":"Read more about gallery slide "+(e+1)+":  "+jQuery.trim(dataArray[e][0]).replace(/&#39;/gi,"'").replace(/&quot;/gi,'"')}),$(".rs-gallery-desc-more-link",element).hasClass("hidden")&&"True"==jQuery.trim(dataArray[e][11])?(t=1e3*config.transitionSpeed/2,$(".rs-gallery-desc-more-link",element).delay(t).fadeIn(1e3*config.transitionSpeed/2,function(){$(this).removeClass("hidden"),$(element).removeClass("rs-gallery-desc-more-link-hidden")})):$(".rs-gallery-desc-more-link",element).hasClass("hidden")||"True"==jQuery.trim(dataArray[e][11])||$(".rs-gallery-desc-more-link",element).fadeOut(1e3*config.transitionSpeed/2,function(){$(this).addClass("hidden"),$(element).addClass("rs-gallery-desc-more-link-hidden")}))}function updateWatchVideoLink(e){var t;"yes"==config.descVideoLink&&($.isEmptyObject(videoIDs[e])?$(".rs-gallery-desc-watch-btn",element).fadeOut(1e3*config.transitionSpeed/2,function(){$(this).addClass("hidden"),$(element).addClass("rs-gallery-desc-watch-btn-hidden")}):(t="",-1<videoIDs[e].videoBtnID.indexOf("youtube")&&(t="video"+videoIDs[e].videoID+".playVideo();"),-1<videoIDs[e].videoBtnID.indexOf("vimeo")&&(t="video"+videoIDs[e].videoID+".api('play');"),$(".rs-gallery-desc-watch-btn a",element).attr({id:videoIDs[e].videoBtnID,class:"video-"+videoIDs[e].videoID,onclick:t,"aria-label":"Watch gallery slide "+(e+1)+" video: "+jQuery.trim(dataArray[e][0]).replace(/&#39;/gi,"'").replace(/&quot;/gi,'"')}),$(".rs-gallery-desc-watch-btn",element).hasClass("hidden")&&(e=1e3*config.transitionSpeed/2,$(".rs-gallery-desc-watch-btn",element).delay(e).fadeIn(1e3*config.transitionSpeed/2,function(){$(this).removeClass("hidden"),$(element).removeClass("rs-gallery-desc-watch-btn-hidden")}))))}function updateOverlay(e){"yes"==config.galleryOverlay&&("True"==dataArray[e][11]&&-1<$.inArray("overlay",config.linkedElement)?$(".rs-gallery-overlay",element).removeAttr("style").removeAttr("onclick").attr("href",dataArray[e][10]).attr("tabindex","0"):$(".rs-gallery-overlay",element).css("cursor","default").attr("onclick","return false;").attr("href","#").attr("tabindex","-1"))}function updateControls(){"yes"==config.mainControls&&($(".rs-gallery-control.back",element).attr("aria-label","Navigate to slide "+(parseInt($(".rs-gallery-images-list li.prev",element).attr("index"))+1)+" of "+arrayLength),$(".rs-gallery-control.next",element).attr("aria-label","Navigate to slide "+(parseInt($(".rs-gallery-images-list li.next",element).attr("index"))+1)+" of "+arrayLength)),"yes"==config.playPause&&($(".rs-gallery-control.play-pause",element).hasClass("playing")?$(".rs-gallery-control.play-pause",element).attr("aria-label","Pause Gallery - Currently on Slide "+(parseInt($(".rs-gallery-images-list li.active",element).attr("index"))+1)+" of "+arrayLength):$(".rs-gallery-control.play-pause",element).attr("aria-label","Play Gallery - Currently on Slide "+(parseInt($(".rs-gallery-images-list li.active",element).attr("index"))+1)+" of "+arrayLength))}function galleryTimer(){galleryTimer[elemID]=setInterval(function(){galleryRotate()},1e3*config.transitionDelay)}function buildStyleSheet(){var e,t,l,a,i,r,n,s,o,d,g,m,c,y,u,h=document.createElement("style");h&&(h.setAttribute("type","text/css"),(u=document.getElementsByTagName("head")[0])&&u.insertBefore(h,u.childNodes[0]),i=a=l=t=e="","fade"==config.transitionType?(l="width: 100%; height: 100%; position: static;",e="position: relative;",t="width: 100%; position: absolute; top: 0px; left: 0px; display: none;"):"slide"==config.transitionType&&(l="position: relative;",e="position: absolute; top: 0px; left: 0px;",t="float: left; position: relative;",a="#rs-gallery-container-"+elemID+".rs-gallery-container { position: relative; }"),"yes"==config.fullScreenRotator&&(i="overflow: hidden;"),y=g=d=o=s=n=r="","horizontal"==config.thumbnailSlideDirection?(r="bottom: 0px; left: 0px; right: 0px;",n="top: 0px; left: 0px; right: 0px;",s="margin-right: 10px; float: left;",o="top: 0px; bottom: 0px; left: 0px;",d="top: 0px; bottom: 0px; right: 0px;",g='content: ""; margin-top: -6.5px;',y='content: ""; margin-top: -6.5px;'):"vertical"==config.thumbnailSlideDirection&&(r="top: 0px; bottom: 0px; right: 0px;",n="left: 0px; top: 0px; bottom: 0px;",s="margin-bottom: 10px;",o="top: 0px; left: 0px; right: 0px;",d="bottom: 0px; left: 0px; right: 0px;",g='content: "";',y='content: "";'),u=c=m="","no"==config.fullScreenVideo?(c="position: absolute;",m="top: 20px; bottom: 20px; left: 20px; right: 20px;"):"yes"==config.fullScreenVideo&&(c="position: fixed; z-index: 20000; background: rgba(0, 0, 0, .50);",m="top: 50px; left: 50px; right: 50px;",u="@media (max-width: 767px) {#rs-gallery-videos-"+elemID+" .video {top: 20px;left: 20px; right: 20px;}}"),y=".hidden {display: none;}.rs-gallery-ally-hidden {width: 0 !important;height: 0 !important;display: inline-block !important;padding: 0 !important;margin: 0 !important;border: 0 !important;overflow: hidden !important;}"+a+"#rs-gallery-container-"+elemID+" .rs-gallery-images {"+l+"}#rs-gallery-container-"+elemID+" .rs-gallery-images ul.rs-gallery-images-list {"+e+"list-style: none;margin: 0px;padding: 0px;}#rs-gallery-container-"+elemID+" .rs-gallery-images ul.rs-gallery-images-list li {"+t+i+"background: #000;z-index: 1;-webkit-backface-visibility: hidden;-webkit-transform: scale(1);}#rs-gallery-container-"+elemID+" .rs-gallery-images ul.rs-gallery-images-list li.active {display: block;z-index: 4;}#rs-gallery-container-"+elemID+" .rs-gallery-images ul.rs-gallery-images-list li.next {display: block;z-index: 3;}#rs-gallery-container-"+elemID+" .rs-gallery-images ul.rs-gallery-images-list li.prev {display: block;z-index: 2;}#rs-gallery-container-"+elemID+" .rs-gallery-images ul.rs-gallery-images-list li .watch-btn {width: 100px;height: 50px;position: absolute;top: 50%;left: 50%;padding: 10px 10px 10px 40px;margin: -25px 0px 0px -50px;z-index: 15;border-radius: 5px;background: #000;background: rgba(0, 0, 0, .80);-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;cursor: pointer;}#rs-gallery-container-"+elemID+' .rs-gallery-images ul.rs-gallery-images-list li .watch-btn:before {content: "";width: 0px;height: 0px;position: absolute;top: 12px;left: 15px;border-style: solid;border-width: 12px 0 12px 16px;border-color: transparent transparent transparent #ffffff;}#rs-gallery-container-'+elemID+' .rs-gallery-images ul.rs-gallery-images-list li .watch-btn p {margin: 0px;color: #FFF;font: normal 15px/100% "Trebuchet MS", "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Tahoma, sans-serif;text-align: center;}#rs-gallery-container-'+elemID+" .rs-gallery-videos, #rs-gallery-videos-"+elemID+".rs-gallery-videos {"+c+"top: 0px;bottom: 0px;left: 0px;right: 0px;}#rs-gallery-container-"+elemID+" .rs-gallery-videos .video, #rs-gallery-videos-"+elemID+".rs-gallery-videos .video {position: absolute;"+m+"background: #FFF;z-index: 30;-moz-box-shadow: 0px 0px 23px rgba(0, 0, 0, .65);-webkit-box-shadow: 0px 23px 0px rgba(0, 0, 0, .65);box-shadow: 0px 0px 23px rgba(0, 0, 0, .65);-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;border: solid 8px #FFF;}#rs-gallery-container-"+elemID+" .rs-gallery-videos .video .close-btn, #rs-gallery-videos-"+elemID+'.rs-gallery-videos .video .close-btn {position: absolute;bottom: 0px;right: 0px;padding: 0px 25px 0px 0px;color: #666;line-height: 1;font-family: "Trebuchet MS","Lucida Grande","Lucida Sans Unicode","Lucida Sans",Tahoma,sans-serif;font-size: 14px;cursor: pointer;}#rs-gallery-container-'+elemID+" .rs-gallery-videos .video .close-btn:after, #rs-gallery-videos-"+elemID+'.rs-gallery-videos .video .close-btn:after {content: "X";width: 16px;height: 16px;position: absolute;top: 50%;right: 0px;margin-top: -8px;background: #999;border-radius: 9px;color: #FFF;font-weight: bold;line-height: 16px;font-size: 9px;text-align: center;}#rs-gallery-container-'+elemID+" .rs-gallery-images ul.rs-gallery-images-list li img {width: 100%;-webkit-backface-visibility: hidden;-webkit-transform: scale(1);}#rs-gallery-container-"+elemID+" .rs-gallery-thumbnails-outer {"+r+"position: absolute;background: #000;background: rgba(0, 0, 0, .75);z-index: 20;}#rs-gallery-container-"+elemID+" .rs-gallery-thumbnails {"+n+"position: absolute;overflow: hidden;}#rs-gallery-container-"+elemID+" .rs-gallery-thumbnail-list {list-style: none;margin: 0px;padding: 10px;position: absolute;top: 0px;left: 0px;}#rs-gallery-container-"+elemID+" .rs-gallery-thumbnail-list li {width: "+config.thumbnailWidth+"px;height: "+config.thumbnailHeight+"px;"+s+'cursor: pointer;opacity: .5;overflow: hidden;-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";filter: alpha(opacity=50);-khtml-opacity: 0.5;-moz-opacity: 0.5;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;}#rs-gallery-container-'+elemID+' .rs-gallery-thumbnail-list li.active {opacity: 1;-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";filter: alpha(opacity=100);-khtml-opacity: 1;-moz-opacity: 1;}#rs-gallery-container-'+elemID+" .rs-gallery-thumbnail-list li.last {margin: 0px;}#rs-gallery-container-"+elemID+" .rs-gallery-thumbnail-list li img {display: block;width: 100%;height: auto;}#rs-gallery-container-"+elemID+" .rs-gallery-thumb-control {padding: 7px 10px;cursor: pointer;background: #000;background: rgba(0, 0, 0, .20);-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;}#rs-gallery-container-"+elemID+" .rs-gallery-thumb-control.back {"+o+"position: absolute;}#rs-gallery-container-"+elemID+" .rs-gallery-thumb-control.back:before {"+g+"display: block;text-align: center;line-height: 1;color: #FFF;font-size: 13px;}#rs-gallery-container-"+elemID+" .rs-gallery-thumb-control.next {"+d+"position: absolute;}#rs-gallery-container-"+elemID+" .rs-gallery-thumb-control.next:before {"+y+"display: block;text-align: center;line-height: 1;color: #FFF;font-size: 13px;}#rs-gallery-container-"+elemID+" .rs-gallery-desc {position: absolute;bottom: 0px;right: 0px;padding: 5px;bottom: 0px;left: 0px;z-index: 20;}#rs-gallery-container-"+elemID+" .rs-gallery-control-text {position: relative;display: block;width: 0px !important;height: 0px !important;overflow: hidden !important;}#rs-gallery-container-"+elemID+" .rs-gallery-control.play-pause {width: 24px;height: 25px;position: absolute;bottom: 20px;left: 20px;z-index: 15;border-radius: 5px;background: #000;background: rgba(0, 0, 0, .80);}#rs-gallery-container-"+elemID+' .rs-gallery-control.play-pause.playing:before {content: "";width: 0px;height: 15px;position: absolute;top: 5px;left: 7.5px;border-left: double 10px #FFF;}#rs-gallery-container-'+elemID+' .rs-gallery-control.play-pause.paused:before {content: "";width: 0px;height: 0px;border-style: solid;border-width: 7.5px 0 7.5px 10px;border-color: transparent transparent transparent #FFF;position: absolute;top: 5px;left: 8.5px;}#rs-gallery-container-'+elemID+" .rs-gallery-control.back {width: 30px;height: 30px;position: absolute;top: 50%;left: 20px;margin-top: -15px;z-index: 20;cursor: pointer;}#rs-gallery-container-"+elemID+' .rs-gallery-control.back:before {content: "<";display: block;text-align: center;line-height: 100%;color: #FFF;font-size: 50px;}#rs-gallery-container-'+elemID+" .rs-gallery-control.next {width: 30px;height: 30px;position: absolute;top: 50%;right: 20px;margin-top: -15px;z-index: 20;cursor: pointer;}#rs-gallery-container-"+elemID+' .rs-gallery-control.next:before {content: ">";display: block;text-align: center;line-height: 100%;color: #FFF;font-size: 50px;}#rs-gallery-container-'+elemID+" .rs-gallery-bullets-outer {position: absolute;bottom: 0px;left: 0px;text-align: center;z-index: 10;}#rs-gallery-container-"+elemID+" .rs-gallery-bullet {width: 12px;height: 12px;background: #FFF;border: solid 1px #666;display: inline-block;margin: 0px 5px;cursor: pointer;border-radius: 8px;-moz-background-clip: padding;-webkit-background-clip: padding;background-clip: padding-box;}#rs-gallery-container-"+elemID+" .rs-gallery-bullet.active {background: #999;}#rs-gallery-container-"+elemID+" .rs-gallery-bullet-control {width: 15px;height: 15px;display: inline-block;margin: 0px 10px;cursor: pointer;vertical-align: top;}#rs-gallery-container-"+elemID+' .rs-gallery-bullet-control.back:before {content: "<";color: #FFF;font-size: 20px;display: block;line-height: 12px;text-align: center;}#rs-gallery-container-'+elemID+' .rs-gallery-bullet-control.next:before {content: ">";color: #FFF;font-size: 20px;display: block;line-height: 12px;text-align: center;}#rs-gallery-container-'+elemID+" .rs-caption.active, .rs-title.active {position: relative;z-index: 2;}#rs-gallery-container-"+elemID+" .rs-caption.next, .rs-title.next {display: none;position: relative;z-index: 1;}#rs-gallery-container-"+elemID+" .image.loading .loader {display: block;position: absolute;top: 50%;left: 50%;width: 150px;height: 150px;line-height: 150px;color: #ccc;font-size: 14px;margin: -75px 0px 0px -75px;box-sizing: border-box;text-align: center;z-index: 5;text-transform: uppercase;}#rs-gallery-container-"+elemID+' .loader:before, .loader:after {opacity: 0;box-sizing: border-box;content: "\\0020";position: absolute;top: 0;left: 0;width: 100%;height: 100%;border-radius: 100px;border: 5px solid #fff;box-shadow: 0 0 50px #fff, inset 0 0 50px #fff;}#rs-gallery-container-'+elemID+" .loader:after {z-index: 1;-webkit-animation: gogoloader 2s infinite 1s;}#rs-gallery-container-"+elemID+" .loader:before {z-index: 2;-webkit-animation: gogoloader 2s infinite;}@-webkit-keyframes gogoloader {0% {-webkit-transform: scale(0);opacity: 0;}50% {opacity: 1;}100% {-webkit-transform: scale(1);opacity: 0;}}"+u,u=document.createTextNode(y),h.styleSheet?h.styleSheet.cssText=y:h.appendChild(u))}function sliderDimReset(){var e,t,l,a,i,r,n,s=getBreakPoint();"yes"==config.customResize?config.customResizeFunction.call(this,element,config.imageWidth,config.imageHeight):("yes"==config.fullScreenRotator&&-1<config.fullScreenBreakpoints.indexOf(s)?(a=$(element).offset().top,l=$(window).width(),e=$(window).height()-a,i=l*$(".rs-gallery-images-list li",element).length,t=l,s=0,$(".rs-gallery-videos").length&&($(".rs-gallery-videos .video",element).width(),$(".rs-gallery-videos .video",element).height()),r=config.imageWidth,(s=t*(n=config.imageHeight/r))<e&&(t=(s=e)/n),a=(t-l)/2,r=(s-e)/2,n=$(".rs-gallery-images-list li.active",element).index()*(l=parseInt(l)),$(".rs-gallery-container",element).css({height:e+"px"}),$(".rs-gallery-container .rs-gallery-images",element).css({height:e+"px"}),$(".rs-gallery-container .rs-gallery-images .rs-gallery-images-list",element).css({width:i+"px",height:e+"px",left:"-"+n+"px"}),$(".rs-gallery-container .rs-gallery-images .rs-gallery-images-list li",element).css({width:l+"px",height:e+"px"}),$(".rs-gallery-container .rs-gallery-images .rs-gallery-images-list li img",element).css({width:t+"px",height:s+"px",margin:"-"+r+"px 0px 0px -"+a+"px"})):(a=(r=$(element).width()>config.imageWidth?config.imageWidth:$(element).width())*(config.imageHeight/config.imageWidth),i=r*$(".rs-gallery-images-list li",element).length,$(".rs-gallery-videos").length&&($(".rs-gallery-videos .video",element).width(),$(".rs-gallery-videos .video",element).height()),n=$(".rs-gallery-images-list li.active",element).index()*(r=parseInt(r)),$(".rs-gallery-container",element).css({height:a+"px"}),$(".rs-gallery-container .rs-gallery-images",element).css({height:a+"px"}),$(".rs-gallery-container .rs-gallery-images .rs-gallery-images-list",element).css({width:i+"px",height:a+"px",left:"-"+n+"px"}),$(".rs-gallery-container .rs-gallery-images .rs-gallery-images-list li",element).css({width:r+"px",height:a+"px"}),$(".rs-gallery-container .rs-gallery-images .rs-gallery-images-list li img",element).removeAttr("style")),videoDimReset())}function windowResize(){var e,t,l,a,i,r,n,s,o,d;1<arrayLength&&timerStop(),"yes"==config.customResize?config.customResizeFunction.call(this,element,config.imageWidth,config.imageHeight):("fade"==config.transitionType&&(e=getBreakPoint(),"yes"==config.fullScreenRotator&&-1<config.fullScreenBreakpoints.indexOf(e)?(r=$(element).offset().top,e=(t=$(window).width())*((l=$(window).height()-r)/t),a=t,n=0,$(".rs-gallery-videos").length&&($(".rs-gallery-videos .video",element).width(),$(".rs-gallery-videos .video",element).height()),i=config.imageWidth,(n=a*(r=config.imageHeight/i))<l&&(a=(n=l)/r),t=(a-t)/2,l=(n-l)/2,$(".rs-gallery-container",element).css("height",e),$(".rs-gallery-container .rs-gallery-images",element).css("height",e),$(".rs-gallery-container .rs-gallery-images .rs-gallery-images-list",element).css("height",e),$(".rs-gallery-container .rs-gallery-images .rs-gallery-images-list li",element).css("height",e),$(".rs-gallery-container .rs-gallery-images .rs-gallery-images-list li img",element).css({width:a+"px",height:n+"px",margin:"-"+l+"px 0px 0px -"+t+"px"})):(a=$(".rs-gallery-images ul.rs-gallery-images-list li",element).width(),$(".rs-gallery-videos").length&&($(".rs-gallery-videos .video",element).width(),$(".rs-gallery-videos .video",element).height()),i=config.imageWidth,n=a*(r=config.imageHeight/i),$(".rs-gallery-container",element).css("height",n),$(".rs-gallery-container .rs-gallery-images",element).css("height",n),$(".rs-gallery-container .rs-gallery-images .rs-gallery-images-list",element).css("height",n),$(".rs-gallery-container .rs-gallery-images .rs-gallery-images-list li",element).css("height",n),$(".rs-gallery-container .rs-gallery-images .rs-gallery-images-list li img",element).removeAttr("style")),videoDimReset()),"slide"==config.transitionType&&sliderDimReset()),1<arrayLength&&timerReset(),"yes"==config.thumbnails&&("vertical"==config.thumbnailSlideDirection?(r=-1*parseInt($(".rs-gallery-thumbnail-list",element).css("top")),(n=$(".rs-gallery-thumbnail-list",element).outerHeight(!0)-$(".rs-gallery-thumbnails",element).outerHeight(!0))<r&&$(".rs-gallery-thumbnail-list",element).css("top","-"+n+"px"),$(".rs-gallery-thumbnails",element).outerHeight(!0)<$(".rs-gallery-thumbnail-list",element).outerHeight(!0)?(s=$(".rs-gallery-thumb-control.back",element).outerHeight(!0)+10,o=$(".rs-gallery-thumb-control.next",element).outerHeight(!0)+10,$(".rs-gallery-thumb-control",element).removeClass("hidden"),$(".rs-gallery-thumbnails",element).css({top:s+"px",bottom:o+"px"}),$(".rs-gallery-thumbnail-list",element).css({"padding-top":"0px","padding-bottom":"0px","margin-top":"0px","margin-bottom":"0px"})):($(".rs-gallery-thumb-control",element).addClass("hidden"),$(".rs-gallery-thumbnails",element).css({top:"0px",bottom:"0px"}),$(".rs-gallery-thumbnail-list",element).removeAttr("style"))):"horizontal"==config.thumbnailSlideDirection&&($(".rs-gallery-thumbnails",element).outerWidth(!0)<$(".rs-gallery-thumbnail-list",element).outerWidth(!0)?(s=$(".rs-gallery-thumb-control.back",element).outerWidth(!0)+10,o=$(".rs-gallery-thumb-control.next",element).outerWidth(!0)+10,$(".rs-gallery-thumb-control",element).removeClass("hidden"),$(".rs-gallery-thumbnails",element).css({left:s+"px",right:o+"px"}),$(".rs-gallery-thumbnail-list",element).css({"padding-left":"0px","padding-right":"0px","margin-left":"0px","margin-right":"0px"})):(d=0,$(".rs-gallery-thumbnail",element).each(function(){d+=$(this).outerWidth(!0)}),$(".rs-gallery-thumbnail-list",element).removeAttr("style").css("width",d+"px"),$(".rs-gallery-thumb-control",element).addClass("hidden"),$(".rs-gallery-thumbnails",element).css({left:"0px",right:"0px"}))))}function videoDimReset(){var e,t,l;$(".rs-gallery-videos").length&&("no"==config.fullScreenVideo?($(".rs-gallery-videos .video iframe",element).css({width:"auto",height:"auto"}),t=$(".rs-gallery-videos .video",element).width(),l=$(".rs-gallery-videos .video",element).height()-27,$(".rs-gallery-videos .video iframe",element).css({width:t,height:l})):"yes"==config.fullScreenVideo&&($(".rs-gallery-videos .video iframe",element).css({width:"auto",height:"auto"}),$(window).width(),(e=$(window).height())<(l=.75*(t=$("#rs-gallery-videos-"+elemID+" .video").width()))+100&&(l=e-140),$("#rs-gallery-videos-"+elemID+" .video").css({height:l+40}),$("#rs-gallery-videos-"+elemID+" .video iframe").css({width:t,height:l})))}function getBreakPoint(){return 1024<=$(window).width()?"960":768<=$(window).width()&&$(window).width()<1024?"768":640<=$(window).width()&&$(window).width()<768?"640":480<=$(window).width()&&$(window).width()<640?"480":320<=$(window).width()&&$(window).width()<480?"320":void 0}"yes"==config.appHeader&&(widgetHeader=$(element).parent().find(".ui-widget-header h1").text(),""!=jQuery.trim(widgetHeader)&&$(element).parent().find(".ui-widget-header").removeClass("hidden")),0<arrayLength&&(buildStyleSheet(),gatherMedia(),("yes"==config.efficientLoad?loadInitImages:loadImages)(),loadThumbs(),1<arrayLength&&(galleryEvents(),"yes"==config.autoRotate&&galleryTimer()),videoControls(),windowResize()),config.allLoaded.call(this)})}}(jQuery);var Froogaloop=function(){function t(e){return new t.fn.init(e)}function r(e,t,l){l.contentWindow.postMessage&&(e=JSON.stringify({method:e,value:t}),l.contentWindow.postMessage(e,d))}function e(e){try{i=(a=JSON.parse(e.data)).event||a.method}catch(e){return!1}if("ready"!=i||o||(o=!0),!/^https?:\/\/player.vimeo.com/.test(e.origin))return!1;"*"===d&&(d=e.origin),e=a.value;var t=a.data,l=a.player_id,a=(l?s[l]:s)[i],i=[];return!!a&&(void 0!==e&&i.push(e),t&&i.push(t),l&&i.push(l),0<i.length?a.apply(null,i):a.call())}function n(e,t,l){l?(s[l]||(s[l]={}),s[l][e]=t):s[e]=t}var s={},o=!1,d="*";return t.fn=t.prototype={element:null,init:function(e){return"string"==typeof e&&(e=document.getElementById(e)),this.element=e,this},api:function(e,t){if(!this.element||!e)return!1;var l=this.element,a=""!==l.id?l.id:null,i=t&&t.constructor&&t.call&&t.apply?null:t,t=t&&t.constructor&&t.call&&t.apply?t:null;return t&&n(e,t,a),r(e,i,l),this},addEvent:function(e,t){if(!this.element)return!1;var l=this.element,a=""!==l.id?l.id:null;return n(e,t,a),"ready"!=e?r("addEventListener",e,l):"ready"==e&&o&&t.call(null,a),this},removeEvent:function(e){if(!this.element)return!1;var t=this.element,l=""!==t.id?t.id:null;e:{if(l&&s[l]){if(!s[l][e]){l=!1;break e}s[l][e]=null}else{if(!s[e]){l=!1;break e}s[e]=null}l=!0}"ready"!=e&&l&&r("removeEventListener",e,t)}},t.fn.init.prototype=t.fn,window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent("onmessage",e),window.Froogaloop=window.$f=t}();"1.9.1"==$.fn.jquery?function(t,l,a){"function"==typeof define&&define.amd?define(["jquery"],function(e){return a(e,t,l),e.mobile}):a(t.jQuery,t,l)}(this,document,function(e,t,l,a){function d(e,t,l,a){var i=l.type;l.type=t,a?g.event.trigger(l,n,e):g.event.dispatch.call(e,l),l.type=i}var g,r,n,m,s,i,o,c,y,u;(function(g,e,m){function c(e){for(;e&&void 0!==e.originalEvent;)e=e.originalEvent;return e}function r(e){for(var t,l,a={};e;){for(l in t=g.data(e,x))t[l]&&(a[l]=a.hasVirtualBinding=!0);e=e.parentNode}return a}function a(){j=!0}function i(){j=!1}function n(){s(),I=setTimeout(function(){O=I=0,S.length=0,E=!1,a()},g.vmouse.resetTimerDuration)}function s(){I&&(clearTimeout(I),I=0)}function o(e,t,l){var a;return(l&&l[e]||!l&&function(e,t){for(var l;e;){if((l=g.data(e,x))&&(!t||l[t]))return e;e=e.parentNode}}(t.target,e))&&(a=function(e,t){var l,a,i,r,n,s,o,d=e.type;if((e=g.Event(e)).type=t,l=e.originalEvent,a=g.event.props,-1<d.search(/^(mouse|click)/)&&(a=k),l)for(n=a.length;n;)e[i=a[--n]]=l[i];if(-1<d.search(/mouse(down|up)|click/)&&!e.which&&(e.which=1),-1!==d.search(/^touch/)&&(d=(t=c(l)).touches,t=t.changedTouches,r=d&&d.length?d[0]:t&&t.length?t[0]:m))for(s=0,o=C.length;s<o;s++)e[i=C[s]]=r[i];return e}(t,e),g(t.target).trigger(a)),a}function d(e){var t=g.data(e.target,$);E||O&&O===t||(t=o("v"+e.type,e))&&(t.isDefaultPrevented()&&e.preventDefault(),t.isPropagationStopped()&&e.stopPropagation(),t.isImmediatePropagationStopped()&&e.stopImmediatePropagation())}function y(e){var t,l=c(e).touches;!l||1!==l.length||(l=r(t=e.target)).hasVirtualBinding&&(O=z++,g.data(t,$,O),s(),i(),L=!1,t=c(e).touches[0],T=t.pageX,A=t.pageY,o("vmouseover",e,l),o("vmousedown",e,l))}function u(e){j||(L||o("vmousecancel",e,r(e.target)),L=!0,n())}function h(e){var t,l,a,i;j||(t=c(e).touches[0],l=L,a=g.vmouse.moveDistanceThreshold,i=r(e.target),(L=L||Math.abs(t.pageX-T)>a||Math.abs(t.pageY-A)>a)&&!l&&o("vmousecancel",e,i),o("vmousemove",e,i),n())}function p(e){var t,l;j||(a(),o("vmouseup",e,t=r(e.target)),L||(l=o("vclick",e,t))&&l.isDefaultPrevented()&&(l=c(e).changedTouches[0],S.push({touchID:O,x:l.clientX,y:l.clientY}),E=!0),o("vmouseout",e,t),L=!1,n())}function v(e){var t,l=g.data(e,x);if(l)for(t in l)if(l[t])return 1}function f(){}var b,t,x="virtualMouseBindings",$="virtualTouchID",l="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),C="clientX clientY pageX pageY screenX screenY".split(" "),w=g.event.mouseHooks?g.event.mouseHooks.props:[],k=g.event.props.concat(w),D={},I=0,T=0,A=0,L=!1,S=[],E=!1,j=!1,R="addEventListener"in e,V=g(e),z=1,O=0;for(g.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},t=0;t<l.length;t++)g.event.special[l[t]]=function(l){var a=l.substr(1);return{setup:function(){v(this)||g.data(this,x,{}),g.data(this,x)[l]=!0,D[l]=(D[l]||0)+1,1===D[l]&&V.bind(a,d),g(this).bind(a,f),R&&(D.touchstart=(D.touchstart||0)+1,1===D.touchstart&&V.bind("touchstart",y).bind("touchend",p).bind("touchmove",h).bind("scroll",u))},teardown:function(){--D[l],D[l]||V.unbind(a,d),R&&(--D.touchstart,D.touchstart||V.unbind("touchstart",y).unbind("touchmove",h).unbind("touchend",p).unbind("scroll",u));var e=g(this),t=g.data(this,x);t&&(t[l]=!1),e.unbind(a,f),v(this)||e.removeData(x)}}}(l[t]);R&&e.addEventListener("click",function(e){var t,l,a,i,r,n=S.length,s=e.target;if(n)for(t=e.clientX,l=e.clientY,b=g.vmouse.clickDistanceThreshold,a=s;a;){for(i=0;i<n;i++)if(r=S[i],a===s&&Math.abs(r.x-t)<b&&Math.abs(r.y-l)<b||g.data(a,$)===r.touchID)return e.preventDefault(),void e.stopPropagation();a=a.parentNode}},!0)})(e,l),e.mobile={},y=e,u={touch:"ontouchend"in l},y.mobile.support=y.mobile.support||{},y.extend(y.support,u),y.extend(y.mobile.support,u),r=this,m=(g=e)(l),l=g.mobile.support.touch,s="touchmove scroll",i=l?"touchstart":"mousedown",o=l?"touchend":"mouseup",c=l?"touchmove":"mousemove",g.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(e,t){g.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)},g.attrFn&&(g.attrFn[t]=!0)}),g.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){d(i,(l=t)?"scrollstart":"scrollstop",e)}var l,a,i=this;g(i).bind(s,function(e){g.event.special.scrollstart.enabled&&(l||t(e,!0),clearTimeout(a),a=setTimeout(function(){t(e,!1)},50))})},teardown:function(){g(this).unbind(s)}},g.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var n=this,s=g(n),o=!1;s.bind("vmousedown",function(e){function t(){clearTimeout(i)}function l(){t(),s.unbind("vclick",a).unbind("vmouseup",t),m.unbind("vmousecancel",l)}function a(e){l(),o||r!==e.target?o&&e.preventDefault():d(n,"tap",e)}if(o=!1,e.which&&1!==e.which)return!1;var i,r=e.target;s.bind("vmouseup",t).bind("vclick",a),m.bind("vmousecancel",l),i=setTimeout(function(){g.event.special.tap.emitTapOnTaphold||(o=!0),d(n,"taphold",g.Event("taphold",{target:r}))},g.event.special.tap.tapholdThreshold)})},teardown:function(){g(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),m.unbind("vmousecancel")}},g.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(e){var t=r.pageXOffset,l=r.pageYOffset,a=e.clientX,i=e.clientY;return 0===e.pageY&&Math.floor(i)>Math.floor(e.pageY)||0===e.pageX&&Math.floor(a)>Math.floor(e.pageX)?(a-=t,i-=l):(i<e.pageY-l||a<e.pageX-t)&&(a=e.pageX-t,i=e.pageY-l),{x:a,y:i}},start:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e,t=g.event.special.swipe.getLocation(t);return{time:(new Date).getTime(),coords:[t.x,t.y],origin:g(e.target)}},stop:function(e){e=e.originalEvent.touches?e.originalEvent.touches[0]:e,e=g.event.special.swipe.getLocation(e);return{time:(new Date).getTime(),coords:[e.x,e.y]}},handleSwipe:function(e,t,l,a){if(t.time-e.time<g.event.special.swipe.durationThreshold&&Math.abs(e.coords[0]-t.coords[0])>g.event.special.swipe.horizontalDistanceThreshold&&Math.abs(e.coords[1]-t.coords[1])<g.event.special.swipe.verticalDistanceThreshold){var i=e.coords[0]>t.coords[0]?"swipeleft":"swiperight";return d(l,"swipe",g.Event("swipe",{target:a,swipestart:e,swipestop:t}),!0),d(l,i,g.Event(i,{target:a,swipestart:e,swipestop:t}),!0),!0}return!1},eventInProgress:!1,setup:function(){var r=this,e=g(r),n={},t=g.data(this,"mobile-events");t||(t={length:0},g.data(this,"mobile-events",t)),t.length++,(t.swipe=n).start=function(e){var t,l,a,i;g.event.special.swipe.eventInProgress||(g.event.special.swipe.eventInProgress=!0,l=g.event.special.swipe.start(e),a=e.target,i=!1,n.move=function(e){l&&!e.isDefaultPrevented()&&(t=g.event.special.swipe.stop(e),i||(i=g.event.special.swipe.handleSwipe(l,t,r,a))&&(g.event.special.swipe.eventInProgress=!1),Math.abs(l.coords[0]-t.coords[0])>g.event.special.swipe.scrollSupressionThreshold&&e.preventDefault())},n.stop=function(){i=!0,g.event.special.swipe.eventInProgress=!1,m.off(c,n.move),n.move=null},m.on(c,n.move).one(o,n.stop))},e.on(i,n.start)},teardown:function(){var e,t=g.data(this,"mobile-events");t&&(e=t.swipe,delete t.swipe,t.length--,0===t.length&&g.removeData(this,"mobile-events")),e&&(e.start&&g(this).off(i,e.start),e.move&&m.off(c,e.move),e.stop&&m.off(o,e.stop))}},g.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(e,t){g.event.special[e]={setup:function(){g(this).bind(t,g.noop)},teardown:function(){g(this).unbind(t)}}})}):function(t,l,a){"function"==typeof define&&define.amd?define(["jquery"],function(e){return a(e,t,l),e.mobile}):a(t.jQuery,t,l)}(this,document,function(e,c,M,P){var t;t=function(g){function m(e){for(;e&&void 0!==e.originalEvent;)e=e.originalEvent;return e}function r(e){for(var t,l,a={};e;){for(l in t=g.data(e,b))t[l]&&(a[l]=a.hasVirtualBinding=!0);e=e.parentNode}return a}function a(){j=!0}function l(){O=0,S.length=0,E=!1,a()}function i(){j=!1}function n(){I&&(clearTimeout(I),I=0)}function s(){n(),I=setTimeout(function(){I=0,l()},g.vmouse.resetTimerDuration)}function o(e,t,l){var a;return(l&&l[e]||!l&&function(e,t){for(var l;e;){if((l=g.data(e,b))&&(!t||l[t]))return e;e=e.parentNode}}(t.target,e))&&(a=function(e,t){var l,a,i,r,n,s,o,d=e.type;if((e=g.Event(e)).type=t,l=e.originalEvent,a=C,-1<d.search(/^(mouse|click)/)&&(a=k),l)for(n=a.length;n;)e[i=a[--n]]=l[i];if(-1<d.search(/mouse(down|up)|click/)&&!e.which&&(e.which=1),-1!==d.search(/^touch/)&&(d=(t=m(l)).touches,t=t.changedTouches,r=d&&d.length?d[0]:t&&t.length?t[0]:P))for(s=0,o=$.length;s<o;s++)e[i=$[s]]=r[i];return e}(t,e),g(t.target).trigger(a)),a}function d(e){var t=g.data(e.target,x);"click"===e.type&&"touchstart"===g.data(e.target,"lastTouchType")&&setTimeout(function(){"touchstart"===g.data(e.target,"lastTouchType")&&(l(),delete g.data(e.target).lastTouchType,d(e))},g.vmouse.maximumTimeBetweenTouches),E||O&&O===t||(t=o("v"+e.type,e))&&(t.isDefaultPrevented()&&e.preventDefault(),t.isPropagationStopped()&&e.stopPropagation(),t.isImmediatePropagationStopped()&&e.stopImmediatePropagation())}function c(e){var t,l=m(e).touches;l&&1===l.length&&(l=r(t=e.target),g.data(e.target,"lastTouchType",e.type),l.hasVirtualBinding&&(O=z++,g.data(t,x,O),n(),i(),L=!1,t=m(e).touches[0],T=t.pageX,A=t.pageY,o("vmouseover",e,l),o("vmousedown",e,l)))}function y(e){j||(L||o("vmousecancel",e,r(e.target)),g.data(e.target,"lastTouchType",e.type),L=!0,s())}function u(e){var t,l,a,i;j||(t=m(e).touches[0],l=L,a=g.vmouse.moveDistanceThreshold,i=r(e.target),g.data(e.target,"lastTouchType",e.type),(L=L||Math.abs(t.pageX-T)>a||Math.abs(t.pageY-A)>a)&&!l&&o("vmousecancel",e,i),o("vmousemove",e,i),s())}function h(e){var t,l;j||g.data(e.target,"lastTouchType")===P||(a(),delete g.data(e.target).lastTouchType,o("vmouseup",e,l=r(e.target)),L||(t=o("vclick",e,l))&&t.isDefaultPrevented()&&(t=m(e).changedTouches[0],S.push({touchID:O,x:t.clientX,y:t.clientY}),E=!0),o("vmouseout",e,l),L=!1,s())}function p(e){var t,l=g.data(e,b);if(l)for(t in l)if(l[t])return 1}function v(){}var f,e,b="virtualMouseBindings",x="virtualTouchID",$="clientX clientY pageX pageY screenX screenY".split(" "),t="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),C="altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),w=g.event.mouseHooks?g.event.mouseHooks.props:[],k=C.concat(w),D={},I=0,T=0,A=0,L=!1,S=[],E=!1,j=!1,R="addEventListener"in M,V=g(M),z=1,O=0;for(g.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500,maximumTimeBetweenTouches:100},e=0;e<t.length;e++)g.event.special[t[e]]=function(l){var a=l.substr(1);return{setup:function(){p(this)||g.data(this,b,{}),g.data(this,b)[l]=!0,D[l]=(D[l]||0)+1,1===D[l]&&V.bind(a,d),g(this).bind(a,v),R&&(D.touchstart=(D.touchstart||0)+1,1===D.touchstart&&V.bind("touchstart",c).bind("touchend",h).bind("touchmove",u).bind("scroll",y))},teardown:function(){--D[l],D[l]||V.unbind(a,d),R&&(--D.touchstart||V.unbind("touchstart",c).unbind("touchmove",u).unbind("touchend",h).unbind("scroll",y));var e=g(this),t=g.data(this,b);t&&(t[l]=!1),e.unbind(a,v),p(this)||e.removeData(b)}}}(t[e]);R&&M.addEventListener("click",function(e){var t,l,a,i,r,n=S.length,s=e.target;if(n)for(t=e.clientX,l=e.clientY,f=g.vmouse.clickDistanceThreshold,a=s;a;){for(i=0;i<n;i++)if(r=S[i],a===s&&Math.abs(r.x-t)<f&&Math.abs(r.y-l)<f||g.data(a,x)===r.touchID)return e.preventDefault(),void e.stopPropagation();a=a.parentNode}},!0)},"function"==typeof define&&define.amd?define("vmouse",["jquery"],t):t(e),t=function(e){return e.mobile={version:"@VERSION"},e.mobile},"function"==typeof define&&define.amd?define("ns",["jquery"],t):t(e),t=function(e){var t={touch:"ontouchend"in M};return e.mobile.support=e.mobile.support||{},e.extend(e.support,t),e.extend(e.mobile.support,t),e.support},"function"==typeof define&&define.amd?define("support/touch",["jquery","../ns"],t):t(e),t=function(d){function g(e,t,l,a){var i=l.type;l.type=t,a?d.event.trigger(l,P,e):d.event.dispatch.call(e,l),l.type=i}var m=d(M),e=d.mobile.support.touch,l=e?"touchstart":"mousedown",s=e?"touchend":"mouseup",o=e?"touchmove":"mousemove";return d.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight".split(" "),function(e,t){d.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)},d.attrFn&&(d.attrFn[t]=!0)}),d.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var n=this,s=d(n),o=!1;s.bind("vmousedown",function(e){function t(){a&&(s.bind("vclick",r),clearTimeout(a))}function l(){t(),s.unbind("vclick",r).unbind("vmouseup",t),m.unbind("vmousecancel",l)}if(o=!1,e.which&&1!==e.which)return!0;var a,i=e.target,r=function(e){l(),o||i!==e.target?o&&e.preventDefault():g(n,"tap",e)};s.bind("vmouseup",t),m.bind("vmousecancel",l),a=setTimeout(function(){d.event.special.tap.emitTapOnTaphold||(o=!0),a=0,g(n,"taphold",d.Event("taphold",{target:i}))},d.event.special.tap.tapholdThreshold)})},teardown:function(){d(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),m.unbind("vmousecancel")}},d.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:2<=c.devicePixelRatio?15:30,verticalDistanceThreshold:2<=c.devicePixelRatio?15:30,getLocation:function(e){var t=c.pageXOffset,l=c.pageYOffset,a=e.clientX,i=e.clientY;return 0===e.pageY&&Math.floor(i)>Math.floor(e.pageY)||0===e.pageX&&Math.floor(a)>Math.floor(e.pageX)?(a-=t,i-=l):(i<e.pageY-l||a<e.pageX-t)&&(a=e.pageX-t,i=e.pageY-l),{x:a,y:i}},start:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e,t=d.event.special.swipe.getLocation(t);return{time:(new Date).getTime(),coords:[t.x,t.y],origin:d(e.target)}},stop:function(e){e=e.originalEvent.touches?e.originalEvent.touches[0]:e,e=d.event.special.swipe.getLocation(e);return{time:(new Date).getTime(),coords:[e.x,e.y]}},handleSwipe:function(e,t,l,a){if(t.time-e.time<d.event.special.swipe.durationThreshold&&Math.abs(e.coords[0]-t.coords[0])>d.event.special.swipe.horizontalDistanceThreshold&&Math.abs(e.coords[1]-t.coords[1])<d.event.special.swipe.verticalDistanceThreshold){var i=e.coords[0]>t.coords[0]?"swipeleft":"swiperight";return g(l,"swipe",d.Event("swipe",{target:a,swipestart:e,swipestop:t}),!0),g(l,i,d.Event(i,{target:a,swipestart:e,swipestop:t}),!0),!0}return!1},eventInProgress:!1,setup:function(){var r=this,e=d(r),n={},t=d.data(this,"mobile-events");t||(t={length:0},d.data(this,"mobile-events",t)),t.length++,(t.swipe=n).start=function(e){var t,l,a,i;d.event.special.swipe.eventInProgress||(d.event.special.swipe.eventInProgress=!0,l=d.event.special.swipe.start(e),a=e.target,i=!1,n.move=function(e){l&&!e.isDefaultPrevented()&&(t=d.event.special.swipe.stop(e),i||(i=d.event.special.swipe.handleSwipe(l,t,r,a))&&(d.event.special.swipe.eventInProgress=!1),Math.abs(l.coords[0]-t.coords[0])>d.event.special.swipe.scrollSupressionThreshold&&e.preventDefault())},n.stop=function(){i=!0,d.event.special.swipe.eventInProgress=!1,m.off(o,n.move),n.move=null},m.on(o,n.move).one(s,n.stop))},e.on(l,n.start)},teardown:function(){var e,t=d.data(this,"mobile-events");t&&(e=t.swipe,delete t.swipe,0==--t.length&&d.removeData(this,"mobile-events")),e&&(e.start&&d(this).off(l,e.start),e.move&&m.off(o,e.move),e.stop&&m.off(s,e.stop))}},d.each({taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(e,t){d.event.special[e]={setup:function(){d(this).bind(t,d.noop)},teardown:function(){d(this).unbind(t)}}}),d.event.special},"function"==typeof define&&define.amd?define("events/touch",["jquery","../vmouse","../support/touch"],t):t(e),t=function(e){return e.extend(e.mobile,{hideUrlBar:!0,keepNative:":jqmData(role='none'), :jqmData(role='nojs')",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"a",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,pageContainer:e(),allowCrossDomainPages:!1,dialogHashKey:"&ui-state=dialog"})},"function"==typeof define&&define.amd?define("defaults",["jquery","./ns"],t):t(e),t=function(i){var t={},r=i.find,a=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,n=/:jqmData\(([^)]*)\)/g;return i.extend(i.mobile,{ns:!1===i.mobileBackcompat?"ui-":"",getAttribute:function(e,t){var l;(e=e.jquery?e[0]:e)&&e.getAttribute&&(l=e.getAttribute("data-"+i.mobile.ns+t));try{l="true"===l||"false"!==l&&("null"===l?null:+l+""===l?+l:a.test(l)?c.JSON.parse(l):l)}catch(e){}return l},nsNormalizeDict:t,nsNormalize:function(e){return t[e]||(t[e]=i.camelCase(i.mobile.ns+e))},closestPageData:function(e){return e.closest(":jqmData(role='page'), :jqmData(role='dialog')").data("mobile-page")}}),i.fn.jqmData=function(e,t){var l;return void 0!==e&&(e=e&&i.mobile.nsNormalize(e),l=arguments.length<2||t===P?this.data(e):this.data(e,t)),l},i.jqmData=function(e,t,l){var a;return void 0!==t&&(a=i.data(e,t&&i.mobile.nsNormalize(t),l)),a},i.fn.jqmRemoveData=function(e){return this.removeData(i.mobile.nsNormalize(e))},i.jqmRemoveData=function(e,t){return i.removeData(e,i.mobile.nsNormalize(t))},i.find=function(e,t,l,a){return-1<e.indexOf(":jqmData")&&(e=e.replace(n,"[data-"+(i.mobile.ns||"")+"$1]")),r.call(this,e,t,l,a)},i.extend(i.find,r),i.mobile},"function"==typeof define&&define.amd?define("data",["jquery","./ns"],t):t(e),t=function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"},"function"==typeof define&&define.amd?define("jquery-ui/version",["jquery"],t):t(e),t=function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},"function"==typeof define&&define.amd?define("jquery-ui/keycode",["jquery","./version"],t):t(e),t=function(m){return m.extend(m.mobile,{window:m(c),document:m(M),keyCode:m.ui.keyCode,behaviors:{},focusPage:function(e){var t=e.find("[autofocus]");t.length||(t=e.find(".ui-title").eq(0)),t.length||(t=e),t.focus()},silentScroll:function(e){0<m.mobile.window.scrollTop()||("number"!==m.type(e)&&(e=m.mobile.defaultHomeScroll),m.event.special.scrollstart.enabled=!1,setTimeout(function(){c.scrollTo(0,e),m.mobile.document.trigger("silentscroll",{x:0,y:e})},20),setTimeout(function(){m.event.special.scrollstart.enabled=!0},150))},getClosestBaseUrl:function(e){var t=m(e).closest(".ui-page").jqmData("url"),e=m.mobile.path.documentBase.hrefNoHash;return m.mobile.base.dynamicBaseEnabled&&t&&m.mobile.path.isPath(t)||(t=e),m.mobile.path.makeUrlAbsolute(t,e)},removeActiveLinkClass:function(e){!m.mobile.activeClickedLink||m.mobile.activeClickedLink.closest(".ui-page-active").length&&!e||m.mobile.activeClickedLink.removeClass("ui-button-active"),m.mobile.activeClickedLink=null},enhanceable:function(e){return this.haveParents(e,"enhance")},hijackable:function(e){return this.haveParents(e,"ajax")},haveParents:function(e,t){if(!m.mobile.ignoreContentEnabled)return e;for(var l,a,i,r=e.length,n=m(),s=0;s<r;s++){for(a=e.eq(s),i=!1,l=e[s];l;){if("false"===(l.getAttribute?l.getAttribute("data-"+m.mobile.ns+t):"")){i=!0;break}l=l.parentNode}i||(n=n.add(a))}return n},getScreenHeight:function(){return c.innerHeight||m.mobile.window.height()},resetActivePageHeight:function(e){var t,l,a,i,r,n,s,o=m(".ui-page-active"),d=o.height(),g=o.outerHeight(!0);t=o,l="number"==typeof e?e:m(c).height(),a=t.parent(),i=[],r=function(){var e=m(this),e=m.mobile.toolbar&&e.data("mobile-toolbar")?e.toolbar("option"):{position:e.attr("data-"+m.mobile.ns+"position"),updatePagePadding:!1!==e.attr("data-"+m.mobile.ns+"update-page-padding")};return!("fixed"===e.position&&!0===e.updatePagePadding)},n=a.children(":jqmData(type='header')").filter(r),s=t.children(":jqmData(type='header')"),r=a.children(":jqmData(type='footer')").filter(r),t=t.children(":jqmData(type='footer')"),0===s.length&&0<n.length&&(i=i.concat(n.toArray())),0===t.length&&0<r.length&&(i=i.concat(r.toArray())),m.each(i,function(e,t){l-=m(t).outerHeight()}),e=Math.max(0,l),o.css("min-height",""),o.height()<e&&o.css("min-height",e-(g-d))},loading:function(){var e=this.loading._widget||m.mobile.loader().element,t=e.loader.apply(e,arguments);return this.loading._widget=e,t},isElementCurrentlyVisible:function(e){if(!(e=("string"==typeof e?m(e):e)[0]))return!0;e=e.getBoundingClientRect();return 0<e.bottom&&0<e.right&&e.top<(c.innerHeight||M.documentElement.clientHeight)&&e.left<(c.innerWidth||M.documentElement.clientWidth)}}),m.addDependents=function(e,t){var l=m(e),e=l.jqmData("dependents")||m();l.jqmData("dependents",m(e).add(t))},m.fn.extend({removeWithDependents:function(){m.removeWithDependents(this)},addDependents:function(e){m.addDependents(this,e)},getEncodedText:function(){return m("<a>").text(this.text()).html()},jqmEnhanceable:function(){return m.mobile.enhanceable(this)},jqmHijackable:function(){return m.mobile.hijackable(this)}}),m.removeWithDependents=function(e){e=m(e);(e.jqmData("dependents")||m()).remove(),e.remove()},m.addDependents=function(e,t){var l=m(e),e=l.jqmData("dependents")||m();l.jqmData("dependents",m(e).add(t))},m.find.matches=function(e,t){return m.find(e,null,null,t)},m.find.matchesSelector=function(e,t){return 0<m.find(t,null,null,[e]).length},m.mobile},"function"==typeof define&&define.amd?define("helpers",["jquery","./ns","jquery-ui/keycode"],t):t(e),"function"==typeof define&&define.amd&&define("core",["./defaults","./data","./helpers"],function(){}),t=function(e){return c.matchMedia=c.matchMedia||(a=(t=M).documentElement,i=a.firstElementChild||a.firstChild,r=t.createElement("body"),(n=t.createElement("div")).id="mq-test-1",n.style.cssText="position:absolute;top:-100em",r.style.background="none",r.appendChild(n),function(e){return n.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',a.insertBefore(r,i),l=42===n.offsetWidth,a.removeChild(r),{matches:l,media:e}}),e.mobile.media=function(e){e=c.matchMedia(e);return e&&e.matches},e.mobile.media;var t,l,a,i,r,n},"function"==typeof define&&define.amd?define("media",["jquery","./core"],t):t(e)});