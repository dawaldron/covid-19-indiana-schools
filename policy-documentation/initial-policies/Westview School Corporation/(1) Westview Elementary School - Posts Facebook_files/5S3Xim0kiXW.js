if (self.CavalryLogger) { CavalryLogger.start_js(["y7N4xwo"]); }

__d("CometNotificationsDropdownQuery.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"count"},c={defaultValue:null,kind:"LocalArgument",name:"environment"},d={defaultValue:null,kind:"LocalArgument",name:"menuUseEntryPoint"},e={defaultValue:null,kind:"LocalArgument",name:"scale"},f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h=[{kind:"Variable",name:"environment_alias_override",variableName:"environment"},{kind:"Literal",name:"filter_tokens",value:[]},{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"notif_cache_ids",value:[]},{kind:"Literal",name:"notif_query_flags",value:["IS_COMET","INCLUDE_WA_P2B_NOTIFS"]},{kind:"Literal",name:"source",value:"unknown"}],i={alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},k=[j],l={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:k,storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"notif_cache_id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},p={alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e],kind:"Fragment",metadata:null,name:"CometNotificationsDropdownQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"}],kind:"FragmentSpread",name:"CometNotificationsListWrapper_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,e,d],kind:"Operation",name:"CometNotificationsDropdownQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[f,g,{kind:"TypeDiscriminator",abstractKey:"__isActor"}],storageKey:null},{alias:null,args:h,concreteType:"ViewerNotificationsPageConnection",kind:"LinkedField",name:"notifications_page",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerNotificationsPageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"row_type",storageKey:null},i,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"bucket_type",storageKey:null},{alias:null,args:null,concreteType:"NotifPageBucketHeaderLink",kind:"LinkedField",name:"header_link",plural:!1,selections:[j,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},l],type:"NotifPageBucketHeaderRow",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[m,g,n,o,p,i],storageKey:null}],type:"NotifPageCachedNotificationRow",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[m,o,g,n,{alias:null,args:null,kind:"ScalarField",name:"notif_tags",storageKey:null},i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[f,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"sound_urls",storageKey:null}],type:"NotifSoundAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemFriendRequestAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"FriendRequestNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineCTAAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"InlineCTACometNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemPageInviteAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"PageInviteNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemQuickPromotionAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"QuickPromotionNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineSurveyAttachment_attachment",fragmentPropName:"attachment",kind:"ModuleImport"},{alias:null,args:null,concreteType:"StructuredSurveySession",kind:"LinkedField",name:"inline_survey",plural:!1,selections:[f],storageKey:null}],type:"InlineSurveyNotifAttachment",abstractKey:null}],storageKey:null},p,q,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[j,{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:56},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:56}],concreteType:"Image",kind:"LinkedField",name:"notif_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{alias:null,args:null,concreteType:"GlyphIconData",kind:"LinkedField",name:"icon_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"NotificationContextInfo",kind:"LinkedField",name:"context_info",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"short_text",plural:!1,selections:k,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"NotifNavigationEndpoint",kind:"LinkedField",name:"navigation_endpoint",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["TopFansFanNotificationRenderer","CrossProfileNotificationInfo","BusinessMessageNotificationRenderer"]}],concreteType:null,kind:"LinkedField",name:"comet_custom_renderer",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometTopFansFanNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"TopFansFanNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometCrossProfileNotificationsListItem_cpnInfo",fragmentPropName:"cpnInfo",kind:"ModuleImport"}],type:"CrossProfileNotificationInfo",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometBusinessMessageNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"BusinessMessageNotificationRenderer",abstractKey:null}],storageKey:'comet_custom_renderer(supported:["TopFansFanNotificationRenderer","CrossProfileNotificationInfo","BusinessMessageNotificationRenderer"])'}],storageKey:null},{condition:"menuUseEntryPoint",kind:"Condition",passingValue:!1,selections:[{alias:null,args:[{kind:"Literal",name:"notif_option_set_context",value:{client_action_types:["HIDE","UNSUB","TOGGLE_ACTIVE","OPEN_IN_INSPECTOR","REPORT_BUG","OPEN_PCU_REMINDERS_DIALOG"],environment:"MAIN_SURFACE",is_comet:!0,supported_display_styles:[{option_display_styles:["CHEVRON_MENU_OPTION"],option_set_display_style:"CHEVRON_MENU"}]}}],concreteType:"NotificationOptionSetsConnection",kind:"LinkedField",name:"notif_option_sets",plural:!1,selections:[{alias:null,args:null,concreteType:"NotificationOptionSetsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"NotifOptionSet",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"NotifOptionSetOptionsConnection",kind:"LinkedField",name:"notif_options",plural:!1,selections:[{alias:null,args:null,concreteType:"NotifOptionSetOptionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"NotifOption",kind:"LinkedField",name:"node",plural:!1,selections:[g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_option_renderer",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsDropdownMenu_notification",fragmentName:"CometNotificationsDropdownHideMenuItem_notifOptionRenderer",fragmentPropName:"notifOptionRenderer",kind:"ModuleImport"}],type:"NotifOptionHideRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsDropdownMenu_notification",fragmentName:"CometNotificationsDropdownDefaultMenuItem_notifOptionRenderer",fragmentPropName:"notifOptionRenderer",kind:"ModuleImport"}],type:"NotifOptionDefaultRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsDropdownMenu_notification",fragmentName:"CometNotificationsDropdownDialogMenuItem_notifOptionRenderer",fragmentPropName:"notifOptionRenderer",kind:"ModuleImport"}],type:"NotifOptionDialogRenderer",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},g],storageKey:null}],storageKey:null}],storageKey:'notif_option_sets(notif_option_set_context:{"client_action_types":["HIDE","UNSUB","TOGGLE_ACTIVE","OPEN_IN_INSPECTOR","REPORT_BUG","OPEN_PCU_REMINDERS_DIALOG"],"environment":"MAIN_SURFACE","is_comet":true,"supported_display_styles":[{"option_display_styles":["CHEVRON_MENU_OPTION"],"option_set_display_style":"CHEVRON_MENU"}]})'}]},{condition:"menuUseEntryPoint",kind:"Condition",passingValue:!0,selections:[{kind:"ClientExtension",selections:[{alias:"id_for_entrypoint",args:null,kind:"ScalarField",name:"__id",storageKey:null}]}]},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null}]}],storageKey:null}],type:"NotifPageNotificationRow",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"invalidation_reason",storageKey:null},{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[m,q,g],storageKey:null}],type:"NotifPageDebugInvalidationRow",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"NotifPageFilterConfig",kind:"LinkedField",name:"filter_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"selected_filter_tokens",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"filters",plural:!0,selections:[f,{kind:"InlineFragment",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"notif_filter_token",storageKey:null}],type:"NotifPageSingleFilter",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:h,filters:[],handle:"comet_notifications_thin_client",key:"CometNotificationsList_notifications_page",kind:"LinkedHandle",name:"notifications_page"},{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notifications_sound_path",storageKey:null}],storageKey:null}]},params:{id:"4560094947348271",metadata:{},name:"CometNotificationsDropdownQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometNotificationsListPaginationQuery.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"environment"},{defaultValue:[],kind:"LocalArgument",name:"filter_tokens"},{defaultValue:null,kind:"LocalArgument",name:"menuUseEntryPoint"},{defaultValue:[],kind:"LocalArgument",name:"notif_cache_ids"},{defaultValue:["IS_COMET","INCLUDE_WA_P2B_NOTIFS"],kind:"LocalArgument",name:"notif_query_flags"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c={kind:"Variable",name:"filter_tokens",variableName:"filter_tokens"},d={kind:"Variable",name:"notif_cache_ids",variableName:"notif_cache_ids"},e={kind:"Variable",name:"notif_query_flags",variableName:"notif_query_flags"},f=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"environment_alias_override",variableName:"environment"},c,{kind:"Variable",name:"first",variableName:"count"},d,e,{kind:"Literal",name:"source",value:"unknown"}],g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},j=[i],k={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:j,storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"notif_cache_id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},p={alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometNotificationsListPaginationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"},c,d,e],kind:"FragmentSpread",name:"CometNotificationsList_viewerConnection"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometNotificationsListPaginationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:f,concreteType:"ViewerNotificationsPageConnection",kind:"LinkedField",name:"notifications_page",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerNotificationsPageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"row_type",storageKey:null},h,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"bucket_type",storageKey:null},{alias:null,args:null,concreteType:"NotifPageBucketHeaderLink",kind:"LinkedField",name:"header_link",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},k],type:"NotifPageBucketHeaderRow",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[l,m,n,o,p,h],storageKey:null}],type:"NotifPageCachedNotificationRow",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[l,o,m,n,{alias:null,args:null,kind:"ScalarField",name:"notif_tags",storageKey:null},h,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[g,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"sound_urls",storageKey:null}],type:"NotifSoundAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemFriendRequestAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"FriendRequestNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineCTAAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"InlineCTACometNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemPageInviteAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"PageInviteNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemQuickPromotionAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"QuickPromotionNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineSurveyAttachment_attachment",fragmentPropName:"attachment",kind:"ModuleImport"},{alias:null,args:null,concreteType:"StructuredSurveySession",kind:"LinkedField",name:"inline_survey",plural:!1,selections:[g],storageKey:null}],type:"InlineSurveyNotifAttachment",abstractKey:null}],storageKey:null},p,q,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[i,{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:56},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:56}],concreteType:"Image",kind:"LinkedField",name:"notif_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{alias:null,args:null,concreteType:"GlyphIconData",kind:"LinkedField",name:"icon_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"NotificationContextInfo",kind:"LinkedField",name:"context_info",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"short_text",plural:!1,selections:j,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"NotifNavigationEndpoint",kind:"LinkedField",name:"navigation_endpoint",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["TopFansFanNotificationRenderer","CrossProfileNotificationInfo","BusinessMessageNotificationRenderer"]}],concreteType:null,kind:"LinkedField",name:"comet_custom_renderer",plural:!1,selections:[g,{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometTopFansFanNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"TopFansFanNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometCrossProfileNotificationsListItem_cpnInfo",fragmentPropName:"cpnInfo",kind:"ModuleImport"}],type:"CrossProfileNotificationInfo",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometBusinessMessageNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"BusinessMessageNotificationRenderer",abstractKey:null}],storageKey:'comet_custom_renderer(supported:["TopFansFanNotificationRenderer","CrossProfileNotificationInfo","BusinessMessageNotificationRenderer"])'}],storageKey:null},{condition:"menuUseEntryPoint",kind:"Condition",passingValue:!1,selections:[{alias:null,args:[{kind:"Literal",name:"notif_option_set_context",value:{client_action_types:["HIDE","UNSUB","TOGGLE_ACTIVE","OPEN_IN_INSPECTOR","REPORT_BUG","OPEN_PCU_REMINDERS_DIALOG"],environment:"MAIN_SURFACE",is_comet:!0,supported_display_styles:[{option_display_styles:["CHEVRON_MENU_OPTION"],option_set_display_style:"CHEVRON_MENU"}]}}],concreteType:"NotificationOptionSetsConnection",kind:"LinkedField",name:"notif_option_sets",plural:!1,selections:[{alias:null,args:null,concreteType:"NotificationOptionSetsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"NotifOptionSet",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"NotifOptionSetOptionsConnection",kind:"LinkedField",name:"notif_options",plural:!1,selections:[{alias:null,args:null,concreteType:"NotifOptionSetOptionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"NotifOption",kind:"LinkedField",name:"node",plural:!1,selections:[m,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_option_renderer",plural:!1,selections:[g,{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsDropdownMenu_notification",fragmentName:"CometNotificationsDropdownHideMenuItem_notifOptionRenderer",fragmentPropName:"notifOptionRenderer",kind:"ModuleImport"}],type:"NotifOptionHideRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsDropdownMenu_notification",fragmentName:"CometNotificationsDropdownDefaultMenuItem_notifOptionRenderer",fragmentPropName:"notifOptionRenderer",kind:"ModuleImport"}],type:"NotifOptionDefaultRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsDropdownMenu_notification",fragmentName:"CometNotificationsDropdownDialogMenuItem_notifOptionRenderer",fragmentPropName:"notifOptionRenderer",kind:"ModuleImport"}],type:"NotifOptionDialogRenderer",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},m],storageKey:null}],storageKey:null}],storageKey:'notif_option_sets(notif_option_set_context:{"client_action_types":["HIDE","UNSUB","TOGGLE_ACTIVE","OPEN_IN_INSPECTOR","REPORT_BUG","OPEN_PCU_REMINDERS_DIALOG"],"environment":"MAIN_SURFACE","is_comet":true,"supported_display_styles":[{"option_display_styles":["CHEVRON_MENU_OPTION"],"option_set_display_style":"CHEVRON_MENU"}]})'}]},{condition:"menuUseEntryPoint",kind:"Condition",passingValue:!0,selections:[{kind:"ClientExtension",selections:[{alias:"id_for_entrypoint",args:null,kind:"ScalarField",name:"__id",storageKey:null}]}]},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null}]}],storageKey:null}],type:"NotifPageNotificationRow",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"invalidation_reason",storageKey:null},{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[l,q,m],storageKey:null}],type:"NotifPageDebugInvalidationRow",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"NotifPageFilterConfig",kind:"LinkedField",name:"filter_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"selected_filter_tokens",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"filters",plural:!0,selections:[g,{kind:"InlineFragment",selections:[k,{alias:null,args:null,kind:"ScalarField",name:"notif_filter_token",storageKey:null}],type:"NotifPageSingleFilter",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:f,filters:[],handle:"comet_notifications_thin_client",key:"CometNotificationsList_notifications_page",kind:"LinkedHandle",name:"notifications_page"}],storageKey:null}]},params:{id:"4342319302494652",metadata:{},name:"CometNotificationsListPaginationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometNotificationsListWrapper_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:null,name:"CometNotificationsListWrapper_viewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{args:[{kind:"Variable",name:"count",variableName:"count"}],kind:"FragmentSpread",name:"CometNotificationsList_viewerConnection"},{args:null,kind:"FragmentSpread",name:"CometNotificationsList_viewerData"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometNotificationsList_viewerConnection.graphql",["CometNotificationsListPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=["notifications_page"],c={alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"notif_cache_id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},i={alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null};return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{kind:"RootArgument",name:"environment"},{defaultValue:[],kind:"LocalArgument",name:"filter_tokens"},{kind:"RootArgument",name:"menuUseEntryPoint"},{defaultValue:[],kind:"LocalArgument",name:"notif_cache_ids"},{defaultValue:["IS_COMET","INCLUDE_WA_P2B_NOTIFS"],kind:"LocalArgument",name:"notif_query_flags"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:a}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:a},fragmentPathInResult:["viewer"],operation:b("CometNotificationsListPaginationQuery.graphql")}},name:"CometNotificationsList_viewerConnection",selections:[{alias:"notifications_page",args:null,concreteType:"ViewerNotificationsPageConnection",kind:"LinkedField",name:"__CometNotificationsList_notifications_page_comet_notifications_thin_client",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerNotificationsPageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"row_type",storageKey:null},c,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"bucket_type",storageKey:null},{alias:null,args:null,concreteType:"NotifPageBucketHeaderLink",kind:"LinkedField",name:"header_link",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[d],storageKey:null}],type:"NotifPageBucketHeaderRow",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[e,f,g,h,i,c],storageKey:null}],type:"NotifPageCachedNotificationRow",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[e,h,f,g,{alias:null,args:null,kind:"ScalarField",name:"notif_tags",storageKey:null},c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"sound_urls",storageKey:null}],type:"NotifSoundAttachment",abstractKey:null}],storageKey:null},i,{args:[{kind:"Variable",name:"menuUseEntryPoint",variableName:"menuUseEntryPoint"}],kind:"FragmentSpread",name:"CometNotificationsListItem_notification"},{args:null,kind:"FragmentSpread",name:"CometToastNotification_notification"},{alias:null,args:null,concreteType:"NotifNavigationEndpoint",kind:"LinkedField",name:"navigation_endpoint",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["TopFansFanNotificationRenderer","CrossProfileNotificationInfo","BusinessMessageNotificationRenderer"]}],concreteType:null,kind:"LinkedField",name:"comet_custom_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometTopFansFanNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"TopFansFanNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometCrossProfileNotificationsListItem_cpnInfo",fragmentPropName:"cpnInfo",kind:"ModuleImport"}],type:"CrossProfileNotificationInfo",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometBusinessMessageNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"BusinessMessageNotificationRenderer",abstractKey:null}],storageKey:'comet_custom_renderer(supported:["TopFansFanNotificationRenderer","CrossProfileNotificationInfo","BusinessMessageNotificationRenderer"])'}],storageKey:null}],storageKey:null}],type:"NotifPageNotificationRow",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"invalidation_reason",storageKey:null},{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null}],storageKey:null}],type:"NotifPageDebugInvalidationRow",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"NotifPageFilterConfig",kind:"LinkedField",name:"filter_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"selected_filter_tokens",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometNotificationsFilters_filters"}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("CometNotificationsList_viewerData.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"environment"}],kind:"Fragment",metadata:null,name:"CometNotificationsList_viewerData",selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometNotificationsListItem_actor"},{args:null,kind:"FragmentSpread",name:"CometToastNotification_actor"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notifications_sound_path",storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometLeftRailLegacyText.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=a.children,d=a.display;d=d===void 0?"wrap":d;var e=a.size;e=e===void 0?15:e;var f=a.uppercase;f=f===void 0?!1:f;var g=a.use;g=g===void 0?"primary":g;a=a.weight;a=a===void 0?"normal":a;return b(c("stylex").dedupe(d==="nowrap"?{"display-1":"a8c37x1j","overflow-x-1":"ni8dbmo4","overflow-y-1":"stjgntxs","text-overflow-1":"ltmttdrg","white-space-1":"g0qnabr5"}:{},e==="inherit"?{"font-size-1":"l94mrbxd","font-weight-1":"p1ri9a11","line-height-1":"aenfhxwr"}:null,e===13?{"font-size-1":"e9vueds3","line-height-1":"ezxwwwxp"}:null,e===15?{"font-size-1":"jq4qci2q","line-height-1":"m5l1wtfr"}:null,e===17?{"font-size-1":"a5q79mjw","line-height-1":"g1cxx5fr"}:null,e===20?{"font-size-1":"o3w64lxj","line-height-1":"b2s5l15y"}:null,e===24?{"font-size-1":"o0t2es00","line-height-1":"f530mmz5"}:null,e===28?{"font-size-1":"m6dqt4wy","line-height-1":"h7mekvxk"}:null,e===32?{"font-size-1":"mhxlubs3","line-height-1":"eeb4wpa2"}:null,f===!0?{"text-transform-1":"sqxagodl"}:null,g==="bluelink"?{"color-1":"py34i1dx"}:null,g==="disabled"?{"color-1":"erlsw9ld"}:null,g==="highlight"?{"color-1":"q66pz984"}:null,g==="inherit"?{"color-1":"gmql0nx0"}:null,g==="inverse"?{"color-1":"qrtewk5h"}:null,g==="negative"?{"color-1":"jdix4yx3"}:null,g==="placeholder"?{"color-1":"pipptul6"}:null,g==="positive"?{"color-1":"g5o1ygfq"}:null,g==="primary"?{"color-1":"oo9gr5id"}:null,g==="secondary"?{"color-1":"m9osqain"}:null,g==="secondary-dark"?{"color-1":"m9hp224e"}:null,g==="tertiary"?{"color-1":"pipptul6"}:null,a==="bold"?{"font-weight-1":"hnhda86s"}:null,a==="medium"?{"font-weight-1":"ekzkrbhg"}:null,a==="normal"?{"font-weight-1":"b1v8xokw"}:null,a==="semibold"?{"font-weight-1":"lrazzd5p"}:null,a==="inherit"?{"font-weight-1":"p1ri9a11"}:null))}i.displayName=i.name+" [from "+f.id+"]";function a(a){var b=a.children,c=a.id,d=a.testid;d=babelHelpers.objectWithoutPropertiesLoose(a,["children","id","testid"]);return h.jsx(i,babelHelpers["extends"]({},d,{children:function(a){return h.jsx("span",{className:a,"data-testid":void 0,id:c,children:b})}}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometLeftRailNewContentPill.react",["CometLeftRailLegacyText.react","CometPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={pill:{alignItems:"bp9cbjyn",backgroundColor:"s1i5eluu",borderTop:"gcieejh5",borderEnd:"bn081pho",borderBottom:"humdl8nn",borderStart:"izx4hr6d",borderTopStartRadius:"orhb3f3m",borderTopEndRadius:"czkt41v7",borderBottomEndRadius:"fmqxjp7s",borderBottomStartRadius:"emzo65vh",boxShadow:"mtf2b8pj",cursor:"nhd2j8a9",display:"j83agx80",height:"qypqp5cg",justifyContent:"i1fnvgqd",marginTop:"tr9rh885",paddingTop:"jb3vyjys",paddingEnd:"hv4rvrfc",paddingBottom:"qt6c0cv9",paddingStart:"dati1w0a",position:"pmk7jnqg",start:"kfkz5moi",top:"kr520xx4",transform:"cj5g2342",width:"dbpd2lw6"}};function a(a){var b=a.children;a=a.onClick;return h.jsx(c("CometPressable.react"),{display:"inline",onPress:a,overlayDisabled:!0,xstyle:i.pill,children:h.jsx(c("CometLeftRailLegacyText.react"),{display:"nowrap",use:"inverse",weight:"semibold",children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometNotificationsActionsButton.react",["fbt","ix","CometDeferredPopoverTrigger.react","TetraCircleButton.react","fbicon","react","requireDeferred"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("requireDeferred")("CometNotificationsActionsMenu.react").__setRef("CometNotificationsActionsButton.react"),l=c("requireDeferred")("OpenJewelOptionsMenuFalcoEvent").__setRef("CometNotificationsActionsButton.react");function a(a){return j.jsx(c("CometDeferredPopoverTrigger.react"),{align:"end",popoverProps:{actorId:a.actorId,notificationsListRef:a.notificationsListRef,onSeeAllClick:a.onSeeAllClick},popoverResource:k,popoverType:"menu",position:"below",children:function(b,e,f,g,k,m){return j.jsx(c("TetraCircleButton.react"),{color:"secondary",icon:d("fbicon")._(i("484387"),20),label:h._("Notification Actions"),onHoverIn:g,onHoverOut:k,onPress:function(){e(),l.onReady(function(b){b=b.log;return b(function(){return{userID:a.actorId}})})},onPressIn:m,ref:b,size:32,testid:void 0,type:"deemphasized"})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometNotificationsBucketHeaderListItem.react",["CometUnitHeader.react","ODS","react","useNotificationsImpressionLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a){var b=a.actorId,e=a.bucketHeader,f=a.headerLinkText,g=a.onPress,j=a.title,k=a.trackingData;a=a.url;b=c("useNotificationsImpressionLogger")({actorId:b,loggerContext:"www_tab",notifId:null,trackingData:k});k=b[0];i(function(){var a;d("ODS").bumpEntityKey(3478,"comet_notifications.list","see_all.impression."+((a=e)!=null?a:"null"))},[e]);return h.jsx("div",{ref:k,children:h.jsx(c("CometUnitHeader.react"),{action:f,actionLinkProps:{url:a},actiontestid:"NotificationsBucketHeaderLink",headline:j,level:3,onActionPress:g,testid:void 0})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometNotificationsList.react",["fbt","CometErrorBoundary.react","CometFocusTable.react","CometInfiniteScrollSuspenseList.react","CometIsInNotificationsContext","CometListCellGlimmer.react","CometNoNotifications.react","CometNotificationsBucketHeaderListItem.react","CometNotificationsContext","CometNotificationsInteractionLogger","CometNotificationsInteractionLoggingContext","CometNotificationsListItem.react","CometNotificationsList_viewerConnection.graphql","CometNotificationsList_viewerData.graphql","CometNotificationsRenderLocations","CometNotificationsScrollHoldingContainer.react","CometOnRefresh.react","CometPlaceholder.react","CometRelay","FocusRegion.react","FriendingCometFriendsBadgeCountClearMutation","HiddenSubtreeContext","JSResourceForInteraction","cr:1460543","cr:508","cr:58","cr:928","focusScopeQueries","gkx","orEmptyArray","promiseDone","react","recoverableViolation","requireDeferred","setupNotificationsLiveQuery","useHideNotificationsToasts","useSimpleImpression","useToasterStateManager","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=c("JSResourceForInteraction")("CometToastNotification.react").__setRef("CometNotificationsList.react"),l=c("JSResourceForInteraction")("CometNotificationSound").__setRef("CometNotificationsList.react"),m=d("react");e=d("react");var n=e.useCallback,o=e.useContext,p=e.useEffect,aa=e.useImperativeHandle,q=e.useMemo,r=e.useRef,ba=e.useState,ca=e.useTransition,da=c("requireDeferred")("CometNotificationsRankingErrorFalcoEvent").__setRef("CometNotificationsList.react"),ea=c("requireDeferred")("GriffinTabOpenFalcoEvent").__setRef("CometNotificationsList.react"),fa=c("requireDeferred")("NotifDebugModeFalcoEvent").__setRef("CometNotificationsList.react"),ga=c("requireDeferred")("NotifListBottomCollisionFalcoEvent").__setRef("CometNotificationsList.react"),ha=c("requireDeferred")("NotifBeeperDropFalcoEvent").__setRef("CometNotificationsList.react"),ia=2,s="SHOW_TOAST",t="PLAY_SOUND",ja=10;function u(a,b){c("recoverableViolation")("[CometNotificationsList] "+b+" suffered an uncaught error","comet_notifications",{error:a})}var v;function a(a,e){var f,g=d("CometRelay").useRelayEnvironment(),w=ca(),x=w[0],y=w[1],z=a.hideHeaderLinks,A=a.isFromPageNotification,B=a.onClose,C=a.onSeeAllClick,D=a.setNewNotifState,E=c("gkx")("1126689");w=d("CometRelay").usePaginationFragment(i!==void 0?i:i=b("CometNotificationsList_viewerConnection.graphql"),a.viewerConnection);var F=w.data,G=w.hasNext,H=w.isLoadingNext,I=w.loadNext,J=w.refetch;w=d("CometRelay").useFragment(j!==void 0?j:j=b("CometNotificationsList_viewerData.graphql"),a.viewer);var K=w.actor;a=w.last_update_timestamp;var L=w.notifications_sound_path,M=w.notifications_unseen_count,N=q(function(){var a;return c("orEmptyArray")((a=F.notifications_page)==null?void 0:a.edges)},[(w=F.notifications_page)==null?void 0:w.edges]),O=K==null?void 0:K.id;w=N.find(function(a){a=a.node;return a&&a.row_type==="NOTIFICATION"});w=w&&((w=w.node)==null?void 0:(w=w.notif)==null?void 0:w.id);var P=o(c("CometNotificationsContext")),Q=P.renderLocation===d("CometNotificationsRenderLocations").RAIL,ka=P.renderLocation===d("CometNotificationsRenderLocations").DROPDOWN?void 0:"self",R=o(c("CometIsInNotificationsContext")),S=r(new Set()),T=r(!1),la=n(function(){fa.onReady(function(a){a=a.log;return a(function(){return{userID:O}})}),T.current===!1?(T.current=!0,y(function(){J({notif_query_flags:["IS_COMET","DEBUG_SHOW_INVALIDATED","INCLUDE_WA_P2B_NOTIFS"]},{fetchPolicy:"network-only"})})):(T.current=!1,y(function(){J({notif_query_flags:["IS_COMET","INCLUDE_WA_P2B_NOTIFS"]},{fetchPolicy:"network-only"})}))},[O,T,J,y]);aa(e,function(){return{debugModeEnabled:T,handleDebugModeClick:function(){la()},markAllNotificationsAsRead:function(){ma()}}});P=n(function(){if(E)return;d("FriendingCometFriendsBadgeCountClearMutation").commit(g,{});c("promiseDone")(ea.load().then(function(a){return a.log(function(){return{}})}))},[g,E]);c("useSimpleImpression")(P);var ma=b("cr:508")({accessibilityString:h._("All notifications were marked as read."),receivedNotificationIdsRef:S,timestamp:a}),U=b("cr:928")({receivedNotificationIdsRef:S,timestamp:a});p(function(){return function(){U.dispose()}},[U]);var V=r(N.length);p(function(){V.current=N.length},[N.length]);var na=o(d("CometNotificationsInteractionLoggingContext").CometNotificationsInteractionLoggingContext);p(function(){if(!x){var a=na.notifsLoadCompleteRef;a&&(a.current=!0);d("CometNotificationsInteractionLogger").success(V.current)}},[na,x,V]);e=n(function(){if(x)return;y(function(){J({},{fetchPolicy:"network-only"})})},[x,J,y]);d("CometOnRefresh.react").useOnRefresh(e);P=n(function(){if(H||!G)return;ga.onReady(function(a){return a.log(function(){return{}})});I(ja)},[H,G,I]);var W=q(function(){return N.map(function(a){a=a.node;var b={};if(a&&a.row_type==="NOTIFICATION"){var c;((c=a.notif)==null?void 0:c.notif_tags)!=null&&((c=a.notif)==null?void 0:c.notif_tags.includes(s))&&(b.new_notif=a.notif);((c=a.notif)==null?void 0:c.notif_cache_id)!=null&&(b.notif_cache_id=a.notif.notif_cache_id);((c=a.notif)==null?void 0:c.id)!=null&&(b.id=a.notif.id)}return b})},[N]);a=n(function(a){var b=W.reduce(function(a,b){return b.notif_cache_id!=null?a.concat(b.notif_cache_id):a},[]);J({filter_tokens:a,notif_cache_ids:b,notif_query_flags:["IS_COMET"]},{fetchPolicy:"network-only"})},[W,J]);p(function(){v==null&&W.forEach(function(a){a.new_notif!=null&&((a=a.new_notif)==null?void 0:(a=a.notif_tags)==null?void 0:a.includes(t))&&(v==null&&c("promiseDone")(l.load().then(function(a){v=a})))})},[W,L]);var X=c("useToasterStateManager")(),Y=r({}),oa=c("useHideNotificationsToasts")();p(function(){if(oa)return;var a=!1;W.forEach(function(b){var d;if(b.new_notif!=null&&((d=b.new_notif)==null?void 0:(d=d.notif_tags)==null?void 0:d.includes(s))){!a&&D!=null&&(D(function(a){if(a.isScrollAnchorVisible){var c;return babelHelpers["extends"]({},a,{newNotifId:(c=b.new_notif)==null?void 0:c.id})}else{return babelHelpers["extends"]({},a,{isNewNotifSeen:!1,newNotifId:(c=b.new_notif)==null?void 0:c.id})}}),a=!0);var e=b.new_notif,f=e.notif_id,g=e.notif_type,h=(d=e.creation_time)==null?void 0:d.timestamp;d=e.notif_attachments;var i;if(d!=null){i=(d=d.find(function(a){return a.sound_urls!=null}))==null?void 0:d.sound_urls}var j=(d=e.notif_tags)==null?void 0:d.includes(t);if(f!=null&&h!=null&&Y.current[f+h]==null&&e.seen_state==="UNSEEN_AND_UNREAD"){var l;c("promiseDone")(k.load().then(function(a){Y.current[f+h]==null&&(l=X.push(m.jsx(a,{actor:K,notification:e,onCloseClick:function(){return X.expire(l)}}),5e3),Y.current[f+h]=l)}),function(){if(j===!0&&v!=null){var a;a=(a=i)!=null?a:L;new v(a).play(String(l))}})}else f!=null&&g!=null&&O!=null&&ha.onReady(function(a){a=a.log;return a(function(){return{notification_data:{alert_id:f,logger_context:"beeper",notif_type:g,user_id:O},ref:"www_tab"}})})}})},[K,O,L,W,oa,D,X]);var pa=N.length;e=ba(null);var qa=e[0],ra=e[1],Z=o(c("HiddenSubtreeContext")).hiddenOrBackgrounded;e=c("useVisibilityObserver")({onHidden:function(){return ra(!1)},onVisible:function(){return ra(!0)}});f=(f=F.notifications_page)==null?void 0:f.filter_config;var sa=f==null?void 0:f.selected_filter_tokens;p(function(){var a=new Set();W.forEach(function(b){b.notif_cache_id!=null&&a.add(b.notif_cache_id),b.id!=null&&S.current.add(b.id)});var b=pa||15,d=c("setupNotificationsLiveQuery")(g,{count:b,filterTokens:sa,receivedNotifications:a});return function(){d.dispose()}},[W,pa,g,sa]);p(function(){var a=!1;W.forEach(function(b){(b==null?void 0:b.seen_state)==="UNSEEN_AND_UNREAD"&&(a=!0)});var b=M!=null&&M>0;qa===!0&&!Z&&(b||a)&&U()},[W,U,Z,qa,M]);var ta=q(function(){var a=null,e=[],f=new Map(),g=0;N.forEach(function(h,i){i=h.node;h={row_tracking:i==null?void 0:i.tracking};if(i==null)return;var j=i.row_type;switch(j){case"NOTIFICATION":var k;j=i.notif;if(!j)return;h.notif_tracking=j.tracking;var l=j.notif_id,n=j==null?void 0:j.seen_state;a==="PRIORITY_INBOX"&&(l!=null&&n!=null&&f.set(l,n));n=g<ia;n={actor:K,isFromPageNotification:A,isNotificationsRoute:R,onClose:B,replace:Q&&!R?!0:void 0,routeTarget:R?"content":ka,shouldPrefetch:n,showSelectedState:Q,trackingData:h};((k=j.navigation_endpoint)==null?void 0:k.comet_custom_renderer)!=null?e.push(m.jsx(c("CometErrorBoundary.react"),{onError:function(a){return u(a,"CometNotificationsListItemMatchContainer")},children:m.jsx(c("CometPlaceholder.react"),{fallback:null,children:m.jsx(d("CometRelay").MatchContainer,{match:j.navigation_endpoint.comet_custom_renderer,props:n})})},l)):e.push(m.jsx(c("CometErrorBoundary.react"),{onError:function(a){return u(a,"CometNotificationsListItem")},children:m.jsx(c("CometNotificationsListItem.react"),babelHelpers["extends"]({},n,{notification:j,preventLocalNavigation:!1}))},l));g++;break;case"BUCKET_HEADER":a=i==null?void 0:i.bucket_type;n=i==null?void 0:(k=i.title)==null?void 0:k.text;var o,p;if(z!==!0){o=i==null?void 0:(j=i.header_link)==null?void 0:j.text;p=i==null?void 0:(l=i.header_link)==null?void 0:l.url}e.push(m.jsx("div",{className:"muag1w35",children:m.jsx(c("CometNotificationsBucketHeaderListItem.react"),{actorId:O,bucketHeader:a,headerLinkText:o,onPress:function(){var b;C("bucket.header.link."+((b=a)!=null?b:"null"))},title:n,trackingData:h,url:p})},a));break;case"DEBUG_INVALIDATION":if(!b("cr:1460543"))return;k=i.invalidation_reason;j=i.notif;if(j==null){c("recoverableViolation")("NotifPageDebugInvalidationRow missing notif","Notifications");return}l=j.notif_id;n=j.notif_type;if(n==null||l==null)return;e.push(m.jsx(b("cr:1460543"),{exception:k,notifType:n,notificationNotifId:l},l));break;default:break}});return[e,f]},[K,O,N,z,A,Q,R,ka,B,C]),ua=ta[0],$=ta[1],va=$.values().next().value==="UNSEEN_AND_UNREAD";p(function(){!Z&&M!=null&&M>0&&!va&&da.onReady(function(a){a.log(function(){return{bucketed_notifs:Object.fromEntries($),unseen_count:M}})})},[va,Z,$,M]);return m.jsxs("div",{"data-testid":void 0,ref:e,children:[b("cr:58")!=null&&m.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},onError:function(a){return u(a,"CometNotificationsFilters")},children:m.jsx(b("cr:58"),{actorId:O,filterConfig:f,setFilterTokens:a})}),x&&m.jsx(c("CometListCellGlimmer.react"),{imageSize:56,imageStyle:"circle",numberOfItems:1}),N.length>0?m.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:m.jsx(d("CometFocusTable.react").CometFocusTable,{allowModifiers:!0,label:h._("Notifications"),tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapXToNextLine:!0,children:m.jsx(c("CometNotificationsScrollHoldingContainer.react"),{firstNotificationID:w,children:m.jsx(c("CometInfiniteScrollSuspenseList.react"),{hasMore:G,isLoading:H,listGlimmer:m.jsx(c("CometListCellGlimmer.react"),{imageSize:56,imageStyle:"circle",numberOfItems:2}),onLoadMore:P,children:ua.filter(Boolean)})})})}):m.jsx(c("CometNoNotifications.react"),{loggingSurface:"comet",userId:O}),m.jsx("div",{"data-testid":void 0})]})}a.displayName=a.name+" [from "+f.id+"]";e=m.forwardRef(a);g["default"]=e}),98);
__d("CometNotificationsListWrapper.react",["fbt","CometLeftRailHeader.react","CometLeftRailNewContentPill.react","CometNotificationsActionsButton.react","CometNotificationsContext","CometNotificationsList.react","CometNotificationsListItemSeenContext","CometNotificationsListWrapper_viewer.graphql","CometNotificationsRenderLocations","CometProductAttributionContextProvider.react","CometRelay","CometRouterDispatcherContextFactory.react","CometScrollView.react","CometTopNavListDropdown.react","ODS","mergeRefs","react","setTimeout","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useCallback,l=e.useContext,m=e.useEffect,n=e.useMemo,o=e.useRef,p=e.useState;function a(a){var e=o(null),f=l(c("CometNotificationsContext")),g=f.renderLocation===d("CometNotificationsRenderLocations").DROPDOWN;f=f.renderLocation===d("CometNotificationsRenderLocations").RAIL;var q=o(null),r=d("CometRelay").useFragment(i!==void 0?i:i=b("CometNotificationsListWrapper_viewer.graphql"),a.viewer),s=p({isNewNotifSeen:!0,isScrollAnchorVisible:!0,newNotifId:void 0}),t=s[0],u=s[1];s=(s=r==null?void 0:(s=r.actor)==null?void 0:s.id)!=null?s:null;var v=p(!1),w=v[0],x=v[1];m(function(){t.newNotifId!=null&&t.isScrollAnchorVisible===!1&&t.isNewNotifSeen===!1?x(!0):x(!1)},[t]);var y=c("useVisibilityObserver")({onHidden:function(a){a=a.hiddenReason;a!=="COMPONENT_UNMOUNTED"&&u(babelHelpers["extends"]({},t,{isScrollAnchorVisible:!1}))},onVisible:function(){u(babelHelpers["extends"]({},t,{isScrollAnchorVisible:!0}))}}),z=o(!1);v=n(function(){return c("mergeRefs")(q,y)},[q,y]);var A=k(function(){q.current&&q.current.scrollIntoView({behavior:"smooth",block:"start"}),z.current=!1},[]),B=k(function(){if(!w)return;if(z.current===!1){c("setTimeout")(function(){z.current=!0},100);return}z.current=!1},[w]);A=w?j.jsx(c("CometLeftRailNewContentPill.react"),{onClick:A,children:h._("See New Notifications")}):null;var C=k(function(a){a===t.newNotifId&&u(function(a){return babelHelpers["extends"]({},a,{isNewNotifSeen:!0})})},[t.newNotifId]),D=function(b){d("ODS").bumpEntityKey(3478,"comet_notifications.list","see_all.click."+b),a.onClose&&a.onClose()};return j.jsxs(j.Fragment,{children:[j.jsx(c("CometTopNavListDropdown.react").Card,{testid:void 0,useFullWidth:f,useMaxHeight:g,children:j.jsxs(c("CometScrollView.react"),{onScroll:B,showsHorizontalScrollIndicator:!1,children:[j.jsx("div",{className:"kr520xx4 pmk7jnqg ay7djpcl n7fi1qx3",ref:v},"firstChildScrollAnchor"),j.jsx(c("CometLeftRailHeader.react"),{auxiliary:j.jsx("div",{className:"sv5sfqaa obtkqiv7 j83agx80",children:j.jsx(c("CometNotificationsActionsButton.react"),{actorId:s,notificationsListRef:e,onSeeAllClick:function(){return D("dropdown")}})}),disableProportional:!0,title:h._("Notifications")}),j.jsx(c("CometProductAttributionContextProvider.react"),{value:"notifications",children:j.jsx(c("CometNotificationsListItemSeenContext").Provider,{value:C,children:j.jsx(c("CometRouterDispatcherContextFactory.react"),{actorID:null,children:j.jsx(c("CometNotificationsList.react"),{hideHeaderLinks:a.hideHeaderLinks,onClose:a.onClose,onSeeAllClick:D,ref:e,setNewNotifState:u,viewer:r,viewerConnection:r})})})})]})}),A]})}g["default"]=a}),98);
__d("CometNotificationsDropdown.react",["fbt","CometErrorBoundary.react","CometHero.react","CometInteractionTracingModulePopoverShowQPLEvent","CometNotificationsContext","CometNotificationsDropdownQuery.graphql","CometNotificationsInteractionLogger","CometNotificationsInteractionLoggingContext","CometNotificationsListWrapper.react","CometNotificationsRenderLocations","CometRelay","CometTopNavListDropdown.react","QPLUserFlow","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useContext,l=e.useEffect,m=e.useMemo,n=i!==void 0?i:i=b("CometNotificationsDropdownQuery.graphql"),o=12e5,p=function(){var a=k(d("CometNotificationsInteractionLoggingContext").CometNotificationsInteractionLoggingContext),b=a.notifsLoadCompleteRef;d("CometNotificationsInteractionLogger").start("dropdown");var e=o++;c("QPLUserFlow").start(c("CometInteractionTracingModulePopoverShowQPLEvent"),{instanceKey:e});l(function(){var a=b.current;return function(){a!==!0?(d("CometNotificationsInteractionLogger").cancel(),c("QPLUserFlow").endCancel(c("CometInteractionTracingModulePopoverShowQPLEvent"),{instanceKey:e})):c("QPLUserFlow").endSuccess(c("CometInteractionTracingModulePopoverShowQPLEvent"),{instanceKey:e})}},[e,b])};function q(a){p();var b=d("CometRelay").usePreloadedQuery(n,a.queries.notificationsDropdownQueryReference);b=b==null?void 0:b.viewer;if(b==null)throw c("unrecoverableViolation")("viewer cannot be null when querying for notifications","comet_notifications");var e=m(function(){return{renderLocation:d("CometNotificationsRenderLocations").DROPDOWN}},[]);return j.jsxs(c("CometTopNavListDropdown.react"),{label:h._("Notifications"),name:"NotificationList",children:[j.jsx(c("CometHero.react"),{description:"NotificationList"}),j.jsx(c("CometNotificationsContext").Provider,{value:e,children:j.jsx(c("CometNotificationsListWrapper.react"),{onClose:a.props.onClose,viewer:b})})]})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=d("CometNotificationsInteractionLoggingContext").useInteractionLoggingRefs();return j.jsx(c("CometErrorBoundary.react"),{onError:function(a){b.notifsLoadCompleteRef&&(b.notifsLoadCompleteRef.current=!0),d("CometNotificationsInteractionLogger").error(a)},children:j.jsx(d("CometNotificationsInteractionLoggingContext").CometNotificationsInteractionLoggingContext.Provider,{value:b,children:j.jsx(q,babelHelpers["extends"]({},a))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);