// APP ARTICLE SLIDER
// AUTHOR BRENTON KELLY - WEB DEVELOPMENT MANAGER - BLACKBOARD, INC.
// VERSION 03.01.2021

!function(d){d.fn.csArticleSlider=function(e){var c={viewerNum:[4,3,3,2,1],transitionSpeed:.3,slideFullView:!1,extend:function(e,t,i){}};return e&&d.extend(c,e),this.each(function(){var l=this,e={pmi:d(l).closest("div[id*='pmi-']").attr("id").replace("pmi-",""),articleNum:0,articleWidth:0,sliderPosition:0,slider:".ui-articles",article:".ui-articles > li",sliderIsAnimating:!1,keyCodes:{tab:9,enter:13,esc:27,space:32,end:35,home:36,left:37,up:38,right:39,down:40},Init:function(){var e=this;this.BuildStyleSheet(),this.SetProperties(),this.BuildStructure(),this.UpdateAttributes({updateNotification:!1}),this.Events(),d(window).resize(function(){e.WindowResize()}),d(window).load(function(){e.SetProperties()})},SetProperties:function(){this.articleNum=d(this.article,l).length,this.articleWidth=d(this.article+":first-child",l).outerWidth(!0)},WindowResize:function(){var e=this.GetBreakPoint();this.articleWidth=d(this.article+":first-child",l).outerWidth(!0),d(this.article,l).attr("aria-hidden","false"),this.UpdateAttributes({updateNotification:!1}),this.articleNum>e.viewNum?d(".cs-article-slider-control",l).attr("aria-hidden","false"):d(".cs-article-slider-control",l).attr("aria-hidden","true")},BuildStructure:function(){var e=this.GetBreakPoint();d(this.article,l).each(function(e){d(this).attr("data-index",e)}),d(this.slider,l).css("left","0px").wrap('<div class="cs-article-slider"><div class="cs-article-viewer"></div></div>'),d(".cs-article-slider",l).prepend('<a href="#" role="button" aria-label="Cycle Articles Backward" class="cs-article-slider-control back" aria-hidden="'+(this.articleNum>e.viewNum?"false":"true")+'"></a>'),d(".cs-article-slider",l).append('<a href="#" role="button" aria-label="Cycle Articles Forward" class="cs-article-slider-control next" aria-hidden="'+(this.articleNum>e.viewNum?"false":"true")+'"></a>'),d(".ui-widget-detail",l).append('<div class="cs-article-slider-notifications cs-ally-hidden" aria-live="polite"></div>')},Events:function(){var t=this,i=this.GetBreakPoint();d(l).on("click keydown",".cs-article-slider-control",function(e){t.AllyClick(e)&&(e.preventDefault(),t.sliderIsAnimating||(t.sliderIsAnimating=!0,t.articleWidth=d(t.article+":first-child",l).outerWidth(!0),d(t.article,l).attr("aria-hidden","false"),d(this).hasClass("back")?t.AnimateSlider({direction:"back"}):t.AnimateSlider({direction:"next"})))}),d(l).on("swiperight",".cs-article-slider",function(e){!t.sliderIsAnimating&&t.articleNum>i.viewNum&&(t.sliderIsAnimating=!0,t.articleWidth=d(t.article+":first-child",l).outerWidth(!0),d(t.article,l).attr("aria-hidden","false"),t.AnimateSlider({direction:"back"}))}),d(l).on("swipeleft",".cs-article-slider",function(e){!t.sliderIsAnimating&&t.articleNum>i.viewNum&&(t.sliderIsAnimating=!0,t.articleWidth=d(t.article+":first-child",l).outerWidth(!0),d(t.article,l).attr("aria-hidden","false"),t.AnimateSlider({direction:"next"}))})},AnimateSlider:function(e){var t,i=this,n=this.GetBreakPoint(),a=0;if(c.slideFullView&&(t=this.articleNum-n.viewNum,(a=n.viewNum-t)<0&&(a=0)),"back"==e.direction){if(this.sliderPosition=c.slideFullView?this.sliderPosition-this.articleWidth*n.viewNum:this.sliderPosition-this.articleWidth,d(this.slider,l).css("left",this.sliderPosition),c.slideFullView){for(var o=this.articleNum-n.viewNum>n.viewNum?n.viewNum:this.articleNum-n.viewNum,r=1;r<=o;r++)d(this.slider,l).prepend(d(this.article+":last-child",l));if(0<a)for(var s=1;s<=a;s++)d(this.slider,l).prepend(d(this.article+":nth-child("+this.articleNum+")",l).clone().addClass("article-clone"))}else d(this.slider,l).prepend(d(this.article+":last-child",l));this.sliderPosition=c.slideFullView?this.sliderPosition+this.articleWidth*n.viewNum:this.sliderPosition+this.articleWidth,d(this.slider,l).animate({left:this.sliderPosition},1e3*c.transitionSpeed,function(){if(c.slideFullView&&(d(i.article+".article-clone",l).remove(),0<a))for(var e=1;e<=a;e++)d(i.slider,l).prepend(d(i.article+":last-child",l));i.UpdateAttributes({updateNotification:!0}),i.sliderIsAnimating=!1})}else if("next"==e.direction){if(this.sliderPosition=c.slideFullView?this.sliderPosition-this.articleWidth*n.viewNum:this.sliderPosition-this.articleWidth,c.slideFullView&&0<a)for(s=1;s<=a;s++)d(this.slider,l).append(d(this.article+":nth-child("+s+")",l).clone().addClass("article-clone"));d(this.slider,l).animate({left:this.sliderPosition},1e3*c.transitionSpeed,function(){i.sliderPosition=c.slideFullView?i.sliderPosition+i.articleWidth*n.viewNum:i.sliderPosition+i.articleWidth,c.slideFullView?(d(i.article+".article-clone",l).remove(),d(i.slider,l).css("left",i.sliderPosition).append(d(i.article+":nth-child(-n+"+n.viewNum+")",l))):d(i.slider,l).css("left",i.sliderPosition).append(d(i.article+":first-child",l)),i.UpdateAttributes({updateNotification:!0}),i.sliderIsAnimating=!1})}},UpdateAttributes:function(e){var t,i=this.GetBreakPoint();d(this.article+":nth-of-type(n+"+(i.viewNum+1)+")",l).attr("aria-hidden","true"),e.updateNotification&&(t="",d(this.article+"[aria-hidden='false']",l).each(function(e){0!=e&&(e==i.viewNum-1?t+=", and ":t+=", "),t+=parseInt(d(this).attr("data-index"))+1}),d(".cs-article-slider-notifications",l).text("Articles "+t+" are currently in view."))},GetBreakPoint:function(){return window.matchMedia("(max-width: 479px)").matches?{viewPort:320,viewNum:c.viewerNum[4]}:window.matchMedia("(max-width: 639px)").matches?{viewPort:480,viewNum:c.viewerNum[3]}:window.matchMedia("(max-width: 767px)").matches?{viewPort:640,viewNum:c.viewerNum[2]}:window.matchMedia("(max-width: 1023px)").matches?{viewPort:768,viewNum:c.viewerNum[1]}:{viewPort:960,viewNum:c.viewerNum[0]}},AllyClick:function(e){return"click"==e.type||"keydown"==e.type&&(e.keyCode==this.keyCodes.space||e.keyCode==this.keyCodes.enter)},BuildStyleSheet:function(){var e,t,i=document.createElement("style");i&&(i.setAttribute("type","text/css"),(t=document.getElementsByTagName("head")[0])&&t.insertBefore(i,t.childNodes[0]),e="#pmi-"+this.pmi+" .cs-ally-hidden {width: 0 !important;height: 0 !important;display: inline-block !important;padding: 0 !important;margin: 0 !important;border: 0 !important;overflow: hidden !important;}#pmi-"+this.pmi+" .ui-widget.app .cs-article-viewer {position: relative;overflow: hidden;-webkit-flex: 1 1 auto;-ms-flex: 1 1 auto;flex: 1 1 auto;}#pmi-"+this.pmi+" .ui-widget.app .cs-article-slider {display: -ms-flexbox;display: -webkit-flex;display: flex;-webkit-align-items: center;-ms-flex-align: center;align-items: center;}#pmi-"+this.pmi+" .ui-widget.app .ui-articles {display: -ms-flexbox;display: -webkit-flex;display: flex;position: relative;}#pmi-"+this.pmi+" .ui-widget.app .ui-articles > li {width: "+100/c.viewerNum[0]+"%;-webkit-flex: none;-ms-flex: none;flex: none;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;}#pmi-"+this.pmi+' .ui-widget.app .ui-articles > li[aria-hidden="true"] {visibility: hidden;}#pmi-'+this.pmi+" .ui-widget.app .cs-article-slider-control {width: 35px;height: 35px;display: block;background: #CCC;display: -ms-flexbox;display: -webkit-flex;display: flex;-webkit-align-items: center;-ms-flex-align: center;align-items: center;-webkit-justify-content: center;-ms-flex-pack: center;justify-content: center;-webkit-flex: none;-ms-flex: none;flex: none;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;}#pmi-"+this.pmi+" .ui-widget.app .cs-article-slider-control.back {margin-right: 10px;}#pmi-"+this.pmi+' .ui-widget.app .cs-article-slider-control.back:before {content: "<"}#pmi-'+this.pmi+" .ui-widget.app .cs-article-slider-control.next {margin-left: 10px;}#pmi-"+this.pmi+' .ui-widget.app .cs-article-slider-control.next:before {content: ">"}#pmi-'+this.pmi+" .ui-widget.app .cs-article-slider-control.back:before,#pmi-"+this.pmi+' .ui-widget.app .cs-article-slider-control.next:before {font-size: 18px;font-weight: normal;font-family: "Trebuchet MS", sans-serif;color: #000;line-height: 1;}#pmi-'+this.pmi+' .ui-widget.app .cs-article-slider-control[aria-hidden="true"] {display: none;}@media (max-width: 1023px) {#pmi-'+this.pmi+" .ui-widget.app .ui-articles > li {width: "+100/c.viewerNum[1]+"%;}}@media (max-width: 767px) {#pmi-"+this.pmi+" .ui-widget.app .ui-articles > li {width: "+100/c.viewerNum[2]+"%;}}@media (max-width: 639px) {#pmi-"+this.pmi+" .ui-widget.app .ui-articles > li {width: "+100/c.viewerNum[3]+"%;}}@media (max-width: 479px) {#pmi-"+this.pmi+" .ui-widget.app .ui-articles > li {width: "+100/c.viewerNum[4]+"%;}}",t=document.createTextNode(e),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t))}};c.extend.call(this,c,l,e),d(".ui-articles > li",l).length&&e.Init()})}}(jQuery),"1.9.1"==$.fn.jquery?function(e,t,i){"function"==typeof define&&define.amd?define(["jquery"],function(e){return i(e,0,t),e.mobile}):i(e.jQuery,0,t)}(this,document,function(e,t,i,n){function c(e,t,i,n){var a=i.type;i.type=t,n?d.event.trigger(i,r,e):d.event.dispatch.call(e,i),i.type=a}var d,o,r,u,s,a,l,h,p,m;(function(d,e,u){function h(e){for(;e&&void 0!==e.originalEvent;)e=e.originalEvent;return e}function o(e){for(var t,i,n={};e;){for(i in t=d.data(e,y))t[i]&&(n[i]=n.hasVirtualBinding=!0);e=e.parentNode}return n}function n(){C=!0}function a(){C=!1}function r(){s(),N=setTimeout(function(){W=N=0,A.length=0,q=!1,n()},d.vmouse.resetTimerDuration)}function s(){N&&(clearTimeout(N),N=0)}function l(e,t,i){var n;return(i&&i[e]||!i&&function(e,t){for(var i;e;){if((i=d.data(e,y))&&(!t||i[t]))return e;e=e.parentNode}}(t.target,e))&&(n=function(e,t){var i,n,a,o,r,s,l,c=e.type;if((e=d.Event(e)).type=t,i=e.originalEvent,n=d.event.props,-1<c.search(/^(mouse|click)/)&&(n=D),i)for(r=n.length;r;)e[a=n[--r]]=i[a];if(-1<c.search(/mouse(down|up)|click/)&&!e.which&&(e.which=1),-1!==c.search(/^touch/)&&(c=(t=h(i)).touches,t=t.changedTouches,o=c&&c.length?c[0]:t&&t.length?t[0]:u))for(s=0,l=T.length;s<l;s++)e[a=T[s]]=o[a];return e}(t,e),d(t.target).trigger(n)),n}function c(e){var t=d.data(e.target,x);q||W&&W===t||(t=l("v"+e.type,e))&&(t.isDefaultPrevented()&&e.preventDefault(),t.isPropagationStopped()&&e.stopPropagation(),t.isImmediatePropagationStopped()&&e.stopImmediatePropagation())}function p(e){var t,i=h(e).touches;!i||1!==i.length||(i=o(t=e.target)).hasVirtualBinding&&(W=B++,d.data(t,x,W),s(),a(),S=!1,t=h(e).touches[0],E=t.pageX,j=t.pageY,l("vmouseover",e,i),l("vmousedown",e,i))}function m(e){C||(S||l("vmousecancel",e,o(e.target)),S=!0,r())}function f(e){var t,i,n,a;C||(t=h(e).touches[0],i=S,n=d.vmouse.moveDistanceThreshold,a=o(e.target),(S=S||Math.abs(t.pageX-E)>n||Math.abs(t.pageY-j)>n)&&!i&&l("vmousecancel",e,a),l("vmousemove",e,a),r())}function v(e){var t,i;C||(n(),l("vmouseup",e,t=o(e.target)),S||(i=l("vclick",e,t))&&i.isDefaultPrevented()&&(i=h(e).changedTouches[0],A.push({touchID:W,x:i.clientX,y:i.clientY}),q=!0),l("vmouseout",e,t),S=!1,r())}function g(e){var t,i=d.data(e,y);if(i)for(t in i)if(i[t])return 1}function w(){}var b,t,y="virtualMouseBindings",x="virtualTouchID",i="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),T="clientX clientY pageX pageY screenX screenY".split(" "),k=d.event.mouseHooks?d.event.mouseHooks.props:[],D=d.event.props.concat(k),P={},N=0,E=0,j=0,S=!1,A=[],q=!1,C=!1,M="addEventListener"in e,I=d(e),B=1,W=0;for(d.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},t=0;t<i.length;t++)d.event.special[i[t]]=function(i){var n=i.substr(1);return{setup:function(){g(this)||d.data(this,y,{}),d.data(this,y)[i]=!0,P[i]=(P[i]||0)+1,1===P[i]&&I.bind(n,c),d(this).bind(n,w),M&&(P.touchstart=(P.touchstart||0)+1,1===P.touchstart&&I.bind("touchstart",p).bind("touchend",v).bind("touchmove",f).bind("scroll",m))},teardown:function(){--P[i],P[i]||I.unbind(n,c),M&&(--P.touchstart,P.touchstart||I.unbind("touchstart",p).unbind("touchmove",f).unbind("touchend",v).unbind("scroll",m));var e=d(this),t=d.data(this,y);t&&(t[i]=!1),e.unbind(n,w),g(this)||e.removeData(y)}}}(i[t]);M&&e.addEventListener("click",function(e){var t,i,n,a,o,r=A.length,s=e.target;if(r)for(t=e.clientX,i=e.clientY,b=d.vmouse.clickDistanceThreshold,n=s;n;){for(a=0;a<r;a++)if(o=A[a],n===s&&Math.abs(o.x-t)<b&&Math.abs(o.y-i)<b||d.data(n,x)===o.touchID)return e.preventDefault(),void e.stopPropagation();n=n.parentNode}},!0)})(e,i),e.mobile={},p=e,m={touch:"ontouchend"in i},p.mobile.support=p.mobile.support||{},p.extend(p.support,m),p.extend(p.mobile.support,m),o=this,u=(d=e)(i),i=d.mobile.support.touch,s="touchmove scroll",a=i?"touchstart":"mousedown",l=i?"touchend":"mouseup",h=i?"touchmove":"mousemove",d.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(e,t){d.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)},d.attrFn&&(d.attrFn[t]=!0)}),d.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){c(a,(i=t)?"scrollstart":"scrollstop",e)}var i,n,a=this;d(a).bind(s,function(e){d.event.special.scrollstart.enabled&&(i||t(e,!0),clearTimeout(n),n=setTimeout(function(){t(e,!1)},50))})},teardown:function(){d(this).unbind(s)}},d.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var r=this,s=d(r),l=!1;s.bind("vmousedown",function(e){function t(){clearTimeout(a)}function i(){t(),s.unbind("vclick",n).unbind("vmouseup",t),u.unbind("vmousecancel",i)}function n(e){i(),l||o!==e.target?l&&e.preventDefault():c(r,"tap",e)}if(l=!1,e.which&&1!==e.which)return!1;var a,o=e.target;s.bind("vmouseup",t).bind("vclick",n),u.bind("vmousecancel",i),a=setTimeout(function(){d.event.special.tap.emitTapOnTaphold||(l=!0),c(r,"taphold",d.Event("taphold",{target:o}))},d.event.special.tap.tapholdThreshold)})},teardown:function(){d(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),u.unbind("vmousecancel")}},d.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(e){var t=o.pageXOffset,i=o.pageYOffset,n=e.clientX,a=e.clientY;return 0===e.pageY&&Math.floor(a)>Math.floor(e.pageY)||0===e.pageX&&Math.floor(n)>Math.floor(e.pageX)?(n-=t,a-=i):(a<e.pageY-i||n<e.pageX-t)&&(n=e.pageX-t,a=e.pageY-i),{x:n,y:a}},start:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e,t=d.event.special.swipe.getLocation(t);return{time:(new Date).getTime(),coords:[t.x,t.y],origin:d(e.target)}},stop:function(e){e=e.originalEvent.touches?e.originalEvent.touches[0]:e,e=d.event.special.swipe.getLocation(e);return{time:(new Date).getTime(),coords:[e.x,e.y]}},handleSwipe:function(e,t,i,n){if(t.time-e.time<d.event.special.swipe.durationThreshold&&Math.abs(e.coords[0]-t.coords[0])>d.event.special.swipe.horizontalDistanceThreshold&&Math.abs(e.coords[1]-t.coords[1])<d.event.special.swipe.verticalDistanceThreshold){var a=e.coords[0]>t.coords[0]?"swipeleft":"swiperight";return c(i,"swipe",d.Event("swipe",{target:n,swipestart:e,swipestop:t}),!0),c(i,a,d.Event(a,{target:n,swipestart:e,swipestop:t}),!0),!0}return!1},eventInProgress:!1,setup:function(){var o=this,e=d(o),r={},t=d.data(this,"mobile-events");t||(t={length:0},d.data(this,"mobile-events",t)),t.length++,(t.swipe=r).start=function(e){var t,i,n,a;d.event.special.swipe.eventInProgress||(d.event.special.swipe.eventInProgress=!0,i=d.event.special.swipe.start(e),n=e.target,a=!1,r.move=function(e){i&&!e.isDefaultPrevented()&&(t=d.event.special.swipe.stop(e),a||(a=d.event.special.swipe.handleSwipe(i,t,o,n))&&(d.event.special.swipe.eventInProgress=!1),Math.abs(i.coords[0]-t.coords[0])>d.event.special.swipe.scrollSupressionThreshold&&e.preventDefault())},r.stop=function(){a=!0,d.event.special.swipe.eventInProgress=!1,u.off(h,r.move),r.move=null},u.on(h,r.move).one(l,r.stop))},e.on(a,r.start)},teardown:function(){var e,t=d.data(this,"mobile-events");t&&(e=t.swipe,delete t.swipe,t.length--,0===t.length&&d.removeData(this,"mobile-events")),e&&(e.start&&d(this).off(a,e.start),e.move&&u.off(h,e.move),e.stop&&u.off(l,e.stop))}},d.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(e,t){d.event.special[e]={setup:function(){d(this).bind(t,d.noop)},teardown:function(){d(this).unbind(t)}}})}):function(t,i,n){"function"==typeof define&&define.amd?define(["jquery"],function(e){return n(e,t,i),e.mobile}):n(t.jQuery,t,i)}(this,document,function(e,h,X,Y){var t;t=function(d){function u(e){for(;e&&void 0!==e.originalEvent;)e=e.originalEvent;return e}function o(e){for(var t,i,n={};e;){for(i in t=d.data(e,b))t[i]&&(n[i]=n.hasVirtualBinding=!0);e=e.parentNode}return n}function n(){C=!0}function i(){W=0,A.length=0,q=!1,n()}function a(){C=!1}function r(){N&&(clearTimeout(N),N=0)}function s(){r(),N=setTimeout(function(){N=0,i()},d.vmouse.resetTimerDuration)}function l(e,t,i){var n;return(i&&i[e]||!i&&function(e,t){for(var i;e;){if((i=d.data(e,b))&&(!t||i[t]))return e;e=e.parentNode}}(t.target,e))&&(n=function(e,t){var i,n,a,o,r,s,l,c=e.type;if((e=d.Event(e)).type=t,i=e.originalEvent,n=T,-1<c.search(/^(mouse|click)/)&&(n=D),i)for(r=n.length;r;)e[a=n[--r]]=i[a];if(-1<c.search(/mouse(down|up)|click/)&&!e.which&&(e.which=1),-1!==c.search(/^touch/)&&(c=(t=u(i)).touches,t=t.changedTouches,o=c&&c.length?c[0]:t&&t.length?t[0]:Y))for(s=0,l=x.length;s<l;s++)e[a=x[s]]=o[a];return e}(t,e),d(t.target).trigger(n)),n}function c(e){var t=d.data(e.target,y);"click"===e.type&&"touchstart"===d.data(e.target,"lastTouchType")&&setTimeout(function(){"touchstart"===d.data(e.target,"lastTouchType")&&(i(),delete d.data(e.target).lastTouchType,c(e))},d.vmouse.maximumTimeBetweenTouches),q||W&&W===t||(t=l("v"+e.type,e))&&(t.isDefaultPrevented()&&e.preventDefault(),t.isPropagationStopped()&&e.stopPropagation(),t.isImmediatePropagationStopped()&&e.stopImmediatePropagation())}function h(e){var t,i=u(e).touches;i&&1===i.length&&(i=o(t=e.target),d.data(e.target,"lastTouchType",e.type),i.hasVirtualBinding&&(W=B++,d.data(t,y,W),r(),a(),S=!1,t=u(e).touches[0],E=t.pageX,j=t.pageY,l("vmouseover",e,i),l("vmousedown",e,i)))}function p(e){C||(S||l("vmousecancel",e,o(e.target)),d.data(e.target,"lastTouchType",e.type),S=!0,s())}function m(e){var t,i,n,a;C||(t=u(e).touches[0],i=S,n=d.vmouse.moveDistanceThreshold,a=o(e.target),d.data(e.target,"lastTouchType",e.type),(S=S||Math.abs(t.pageX-E)>n||Math.abs(t.pageY-j)>n)&&!i&&l("vmousecancel",e,a),l("vmousemove",e,a),s())}function f(e){var t,i;C||d.data(e.target,"lastTouchType")===Y||(n(),delete d.data(e.target).lastTouchType,l("vmouseup",e,i=o(e.target)),S||(t=l("vclick",e,i))&&t.isDefaultPrevented()&&(t=u(e).changedTouches[0],A.push({touchID:W,x:t.clientX,y:t.clientY}),q=!0),l("vmouseout",e,i),S=!1,s())}function v(e){var t,i=d.data(e,b);if(i)for(t in i)if(i[t])return 1}function g(){}var w,e,b="virtualMouseBindings",y="virtualTouchID",x="clientX clientY pageX pageY screenX screenY".split(" "),t="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),T="altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),k=d.event.mouseHooks?d.event.mouseHooks.props:[],D=T.concat(k),P={},N=0,E=0,j=0,S=!1,A=[],q=!1,C=!1,M="addEventListener"in X,I=d(X),B=1,W=0;for(d.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500,maximumTimeBetweenTouches:100},e=0;e<t.length;e++)d.event.special[t[e]]=function(i){var n=i.substr(1);return{setup:function(){v(this)||d.data(this,b,{}),d.data(this,b)[i]=!0,P[i]=(P[i]||0)+1,1===P[i]&&I.bind(n,c),d(this).bind(n,g),M&&(P.touchstart=(P.touchstart||0)+1,1===P.touchstart&&I.bind("touchstart",h).bind("touchend",f).bind("touchmove",m).bind("scroll",p))},teardown:function(){--P[i],P[i]||I.unbind(n,c),M&&(--P.touchstart||I.unbind("touchstart",h).unbind("touchmove",m).unbind("touchend",f).unbind("scroll",p));var e=d(this),t=d.data(this,b);t&&(t[i]=!1),e.unbind(n,g),v(this)||e.removeData(b)}}}(t[e]);M&&X.addEventListener("click",function(e){var t,i,n,a,o,r=A.length,s=e.target;if(r)for(t=e.clientX,i=e.clientY,w=d.vmouse.clickDistanceThreshold,n=s;n;){for(a=0;a<r;a++)if(o=A[a],n===s&&Math.abs(o.x-t)<w&&Math.abs(o.y-i)<w||d.data(n,y)===o.touchID)return e.preventDefault(),void e.stopPropagation();n=n.parentNode}},!0)},"function"==typeof define&&define.amd?define("vmouse",["jquery"],t):t(e),t=function(e){return e.mobile={version:"@VERSION"},e.mobile},"function"==typeof define&&define.amd?define("ns",["jquery"],t):t(e),t=function(e){var t={touch:"ontouchend"in X};return e.mobile.support=e.mobile.support||{},e.extend(e.support,t),e.extend(e.mobile.support,t),e.support},"function"==typeof define&&define.amd?define("support/touch",["jquery","../ns"],t):t(e),t=function(c){function d(e,t,i,n){var a=i.type;i.type=t,n?c.event.trigger(i,Y,e):c.event.dispatch.call(e,i),i.type=a}var u=c(X),e=c.mobile.support.touch,i=e?"touchstart":"mousedown",s=e?"touchend":"mouseup",l=e?"touchmove":"mousemove";return c.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight".split(" "),function(e,t){c.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)},c.attrFn&&(c.attrFn[t]=!0)}),c.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var r=this,s=c(r),l=!1;s.bind("vmousedown",function(e){function t(){n&&(s.bind("vclick",o),clearTimeout(n))}function i(){t(),s.unbind("vclick",o).unbind("vmouseup",t),u.unbind("vmousecancel",i)}if(l=!1,e.which&&1!==e.which)return!0;var n,a=e.target,o=function(e){i(),l||a!==e.target?l&&e.preventDefault():d(r,"tap",e)};s.bind("vmouseup",t),u.bind("vmousecancel",i),n=setTimeout(function(){c.event.special.tap.emitTapOnTaphold||(l=!0),n=0,d(r,"taphold",c.Event("taphold",{target:a}))},c.event.special.tap.tapholdThreshold)})},teardown:function(){c(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),u.unbind("vmousecancel")}},c.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:2<=h.devicePixelRatio?15:30,verticalDistanceThreshold:2<=h.devicePixelRatio?15:30,getLocation:function(e){var t=h.pageXOffset,i=h.pageYOffset,n=e.clientX,a=e.clientY;return 0===e.pageY&&Math.floor(a)>Math.floor(e.pageY)||0===e.pageX&&Math.floor(n)>Math.floor(e.pageX)?(n-=t,a-=i):(a<e.pageY-i||n<e.pageX-t)&&(n=e.pageX-t,a=e.pageY-i),{x:n,y:a}},start:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e,t=c.event.special.swipe.getLocation(t);return{time:(new Date).getTime(),coords:[t.x,t.y],origin:c(e.target)}},stop:function(e){e=e.originalEvent.touches?e.originalEvent.touches[0]:e,e=c.event.special.swipe.getLocation(e);return{time:(new Date).getTime(),coords:[e.x,e.y]}},handleSwipe:function(e,t,i,n){if(t.time-e.time<c.event.special.swipe.durationThreshold&&Math.abs(e.coords[0]-t.coords[0])>c.event.special.swipe.horizontalDistanceThreshold&&Math.abs(e.coords[1]-t.coords[1])<c.event.special.swipe.verticalDistanceThreshold){var a=e.coords[0]>t.coords[0]?"swipeleft":"swiperight";return d(i,"swipe",c.Event("swipe",{target:n,swipestart:e,swipestop:t}),!0),d(i,a,c.Event(a,{target:n,swipestart:e,swipestop:t}),!0),!0}return!1},eventInProgress:!1,setup:function(){var o=this,e=c(o),r={},t=c.data(this,"mobile-events");t||(t={length:0},c.data(this,"mobile-events",t)),t.length++,(t.swipe=r).start=function(e){var t,i,n,a;c.event.special.swipe.eventInProgress||(c.event.special.swipe.eventInProgress=!0,i=c.event.special.swipe.start(e),n=e.target,a=!1,r.move=function(e){i&&!e.isDefaultPrevented()&&(t=c.event.special.swipe.stop(e),a||(a=c.event.special.swipe.handleSwipe(i,t,o,n))&&(c.event.special.swipe.eventInProgress=!1),Math.abs(i.coords[0]-t.coords[0])>c.event.special.swipe.scrollSupressionThreshold&&e.preventDefault())},r.stop=function(){a=!0,c.event.special.swipe.eventInProgress=!1,u.off(l,r.move),r.move=null},u.on(l,r.move).one(s,r.stop))},e.on(i,r.start)},teardown:function(){var e,t=c.data(this,"mobile-events");t&&(e=t.swipe,delete t.swipe,0==--t.length&&c.removeData(this,"mobile-events")),e&&(e.start&&c(this).off(i,e.start),e.move&&u.off(l,e.move),e.stop&&u.off(s,e.stop))}},c.each({taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(e,t){c.event.special[e]={setup:function(){c(this).bind(t,c.noop)},teardown:function(){c(this).unbind(t)}}}),c.event.special},"function"==typeof define&&define.amd?define("events/touch",["jquery","../vmouse","../support/touch"],t):t(e),t=function(e){return e.extend(e.mobile,{hideUrlBar:!0,keepNative:":jqmData(role='none'), :jqmData(role='nojs')",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"a",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,pageContainer:e(),allowCrossDomainPages:!1,dialogHashKey:"&ui-state=dialog"})},"function"==typeof define&&define.amd?define("defaults",["jquery","./ns"],t):t(e),t=function(a){var t={},o=a.find,n=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,r=/:jqmData\(([^)]*)\)/g;return a.extend(a.mobile,{ns:!1===a.mobileBackcompat?"ui-":"",getAttribute:function(e,t){var i;(e=e.jquery?e[0]:e)&&e.getAttribute&&(i=e.getAttribute("data-"+a.mobile.ns+t));try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:n.test(i)?h.JSON.parse(i):i)}catch(e){}return i},nsNormalizeDict:t,nsNormalize:function(e){return t[e]||(t[e]=a.camelCase(a.mobile.ns+e))},closestPageData:function(e){return e.closest(":jqmData(role='page'), :jqmData(role='dialog')").data("mobile-page")}}),a.fn.jqmData=function(e,t){var i;return void 0!==e&&(e=e&&a.mobile.nsNormalize(e),i=arguments.length<2||t===Y?this.data(e):this.data(e,t)),i},a.jqmData=function(e,t,i){var n;return void 0!==t&&(n=a.data(e,t&&a.mobile.nsNormalize(t),i)),n},a.fn.jqmRemoveData=function(e){return this.removeData(a.mobile.nsNormalize(e))},a.jqmRemoveData=function(e,t){return a.removeData(e,a.mobile.nsNormalize(t))},a.find=function(e,t,i,n){return-1<e.indexOf(":jqmData")&&(e=e.replace(r,"[data-"+(a.mobile.ns||"")+"$1]")),o.call(this,e,t,i,n)},a.extend(a.find,o),a.mobile},"function"==typeof define&&define.amd?define("data",["jquery","./ns"],t):t(e),t=function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"},"function"==typeof define&&define.amd?define("jquery-ui/version",["jquery"],t):t(e),t=function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},"function"==typeof define&&define.amd?define("jquery-ui/keycode",["jquery","./version"],t):t(e),t=function(u){return u.extend(u.mobile,{window:u(h),document:u(X),keyCode:u.ui.keyCode,behaviors:{},focusPage:function(e){var t=e.find("[autofocus]");t.length||(t=e.find(".ui-title").eq(0)),t.length||(t=e),t.focus()},silentScroll:function(e){0<u.mobile.window.scrollTop()||("number"!==u.type(e)&&(e=u.mobile.defaultHomeScroll),u.event.special.scrollstart.enabled=!1,setTimeout(function(){h.scrollTo(0,e),u.mobile.document.trigger("silentscroll",{x:0,y:e})},20),setTimeout(function(){u.event.special.scrollstart.enabled=!0},150))},getClosestBaseUrl:function(e){var t=u(e).closest(".ui-page").jqmData("url"),e=u.mobile.path.documentBase.hrefNoHash;return u.mobile.base.dynamicBaseEnabled&&t&&u.mobile.path.isPath(t)||(t=e),u.mobile.path.makeUrlAbsolute(t,e)},removeActiveLinkClass:function(e){!u.mobile.activeClickedLink||u.mobile.activeClickedLink.closest(".ui-page-active").length&&!e||u.mobile.activeClickedLink.removeClass("ui-button-active"),u.mobile.activeClickedLink=null},enhanceable:function(e){return this.haveParents(e,"enhance")},hijackable:function(e){return this.haveParents(e,"ajax")},haveParents:function(e,t){if(!u.mobile.ignoreContentEnabled)return e;for(var i,n,a,o=e.length,r=u(),s=0;s<o;s++){for(n=e.eq(s),a=!1,i=e[s];i;){if("false"===(i.getAttribute?i.getAttribute("data-"+u.mobile.ns+t):"")){a=!0;break}i=i.parentNode}a||(r=r.add(n))}return r},getScreenHeight:function(){return h.innerHeight||u.mobile.window.height()},resetActivePageHeight:function(e){var t,i,n,a,o,r,s,l=u(".ui-page-active"),c=l.height(),d=l.outerHeight(!0);t=l,i="number"==typeof e?e:u(h).height(),n=t.parent(),a=[],o=function(){var e=u(this),e=u.mobile.toolbar&&e.data("mobile-toolbar")?e.toolbar("option"):{position:e.attr("data-"+u.mobile.ns+"position"),updatePagePadding:!1!==e.attr("data-"+u.mobile.ns+"update-page-padding")};return!("fixed"===e.position&&!0===e.updatePagePadding)},r=n.children(":jqmData(type='header')").filter(o),s=t.children(":jqmData(type='header')"),o=n.children(":jqmData(type='footer')").filter(o),t=t.children(":jqmData(type='footer')"),0===s.length&&0<r.length&&(a=a.concat(r.toArray())),0===t.length&&0<o.length&&(a=a.concat(o.toArray())),u.each(a,function(e,t){i-=u(t).outerHeight()}),e=Math.max(0,i),l.css("min-height",""),l.height()<e&&l.css("min-height",e-(d-c))},loading:function(){var e=this.loading._widget||u.mobile.loader().element,t=e.loader.apply(e,arguments);return this.loading._widget=e,t},isElementCurrentlyVisible:function(e){if(!(e=("string"==typeof e?u(e):e)[0]))return!0;e=e.getBoundingClientRect();return 0<e.bottom&&0<e.right&&e.top<(h.innerHeight||X.documentElement.clientHeight)&&e.left<(h.innerWidth||X.documentElement.clientWidth)}}),u.addDependents=function(e,t){var i=u(e),e=i.jqmData("dependents")||u();i.jqmData("dependents",u(e).add(t))},u.fn.extend({removeWithDependents:function(){u.removeWithDependents(this)},addDependents:function(e){u.addDependents(this,e)},getEncodedText:function(){return u("<a>").text(this.text()).html()},jqmEnhanceable:function(){return u.mobile.enhanceable(this)},jqmHijackable:function(){return u.mobile.hijackable(this)}}),u.removeWithDependents=function(e){e=u(e);(e.jqmData("dependents")||u()).remove(),e.remove()},u.addDependents=function(e,t){var i=u(e),e=i.jqmData("dependents")||u();i.jqmData("dependents",u(e).add(t))},u.find.matches=function(e,t){return u.find(e,null,null,t)},u.find.matchesSelector=function(e,t){return 0<u.find(t,null,null,[e]).length},u.mobile},"function"==typeof define&&define.amd?define("helpers",["jquery","./ns","jquery-ui/keycode"],t):t(e),"function"==typeof define&&define.amd&&define("core",["./defaults","./data","./helpers"],function(){}),t=function(e){return h.matchMedia=h.matchMedia||(n=(t=X).documentElement,a=n.firstElementChild||n.firstChild,o=t.createElement("body"),(r=t.createElement("div")).id="mq-test-1",r.style.cssText="position:absolute;top:-100em",o.style.background="none",o.appendChild(r),function(e){return r.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',n.insertBefore(o,a),i=42===r.offsetWidth,n.removeChild(o),{matches:i,media:e}}),e.mobile.media=function(e){e=h.matchMedia(e);return e&&e.matches},e.mobile.media;var t,i,n,a,o,r},"function"==typeof define&&define.amd?define("media",["jquery","./core"],t):t(e)});