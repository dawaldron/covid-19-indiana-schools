(function(a){var b=parseInt((location.hostname||"local").substring(0,10),36),c="sifi_att_"+b;if("undefined"!=typeof a[c])return void a[c].run();class SifiCmpCompliance{constructor(a){this.tcData=a,this.sifiVendorId="73"}checkConsent(){return this.outOfBandConsent()||this.inBandConsent()}inBandConsent(){return this.purpose()&&this.vendor()&&this.customPurpose()&&this.noRestrictions()}outOfBandConsent(){return this.tcData.outOfBand&&this.tcData.outOfBand.allowedVendors&&this.tcData.outOfBand.allowedVendors[this.sifiVendorId]&&this.tcData.outOfBand.disclosedVendors&&this.tcData.outOfBand.disclosedVendors[this.sifiVendorId]}purpose(){return this.tcData.purpose&&this.tcData.purpose.consents&&!Object.values(this.tcData.purpose.consents).includes(!1)&&this.tcData.purpose.legitimateInterests&&!Object.values(this.tcData.purpose.legitimateInterests).includes(!1)}vendor(){return this.tcData.vendor&&this.tcData.vendor.consents&&this.tcData.vendor.consents[this.sifiVendorId]}customPurpose(){return this.tcData.customPurpose&&this.tcData.customPurpose.consents&&!Object.values(this.tcData.customPurpose.consents).includes(!1)&&this.tcData.customPurpose.legitimateInterests&&!Object.values(this.tcData.customPurpose.legitimateInterests).includes(!1)||!this.tcData.customPurpose}noRestrictions(){return this.tcData.restrictions&&!Object.values(this.tcData.restrictions).some(a=>Object.keys(a).includes(this.sifiVendorId))||!this.tcData.restrictions}}var d={pixels_url:"//i.simpli.fi/p?",pixels:[],matching_pixels:[],protocol:"https:",pixels_to_drop:[],dropping_pixels:!1,rescue_pixel:null,company_id:"22180",run:function(){d._cmpPresent()?d._dropPixelsOnCmpConfirmation():d.drop_pixels()},drop_pixels:function(){d.already_dropped_matching||d.url_contains_email_address()?d._drop_matching_pixels():d.get_matching_pixels()},get_matching_pixels:function(){var a=document.createElement("script");a.async=!0,a.src=d.protocol+d.pixels_url+"cid="+d.company_id+"&cb="+c+"._hp",document.body.appendChild(a)},_cmpPresent:function(){return"function"==typeof __tcfapi},_dropPixelsOnCmpConfirmation:function(){__tcfapi("addEventListener",2,d._tcDataCallback)},_tcDataCallback:function(a,b){b&&"tcloaded"===a.eventStatus&&(d._checkCmpConsent(a)&&d.drop_pixels(),__tcfapi("removeEventListener",2,()=>{},a.listenerId))},_checkCmpConsent:function(a){return new SifiCmpCompliance(a).checkConsent()},_hp:function(a){d.matching_pixels=a&&a.pixels||[],d._drop_matching_pixels()},_drop_matching_pixels:function(){if(!d.already_dropped_matching){for(var a,b=d.matching_pixels.length-1;0<=b;b--)a=new Image,a.src=d.protocol+d.matching_pixels[b];d.already_dropped_matching=!0}},url_contains_email_address:function(){return /(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/.test(d.unescaped_url())},unescaped_url:function(){for(var a=document.location.href,b=decodeURIComponent(a);a!==b;)a=b,b=decodeURIComponent(a);return a}};a[c]=d,"complete"==document.readyState?d.run():window.addEventListener("load",d.run)})(window);
