(function(e){function a(){a.history=a.history||[];a.history.push(arguments);if(window.console){console.log(Array.prototype.slice.call(arguments))}}function h(l,k){let element=l.find(k);return element?element.text().trim().toLowerCase():""}function c(l,k){let elemsToHide=[];let elemsToShow=[];l.forEach(function(m){if(m.name.indexOf(k)==-1&&m.email.indexOf(k)==-1&&m.position.indexOf(k)==-1){elemsToHide.push(m)}else{elemsToShow.push(m)}});e(elemsToShow).each(function(m,n){let $it=e(n.elem);$it.show()});e(elemsToHide).each(function(m,n){let $it=e(n.elem);$it.hide()})}function b(l){const k=l.keycode||l.which;if(k===13){d()}}function g(){e("#staff_search").val("");d()}function d(){let searchString=e("#staff_search").val().toLowerCase();if(searchString.length){e(".clear-search").css("display","block");e.each(e(".page-block"),function(k,l){if(e(l).attr("class").indexOf("staff")==-1){e(l).hide()}})}else{e(".clear-search").css("display","none");e.each(e(".page-block"),function(k,l){e(l).show()})}let staffList=[];e(".staff").each(function(k,l){let $it=e(l);let name=h($it,".name");let position=h($it,".user-position");let email=h($it,".email");staffList.push({name:name,position:position,email:email,elem:$it})});let columnList=e(".staff-directory .column");let staffBlocks=e(".page-block-staff");columnList.each(function(k,l){l.style.display="block"});staffBlocks.each(function(k,l){l.style.display="block"});c(staffList,searchString);for(let j=0;j<columnList.length;j++){let column=columnList[j];column.style.display=!e(column).find("li:visible").length?"none":"block"}for(let j=0;j<staffBlocks.length;j++){let columnListBlock=e(staffBlocks[j]).find(".staff-directory .column");let columnsElementsAreHidden=true;for(let i=0;i<columnListBlock.length;i++){let column=columnListBlock[i];if(e(column).find("li:visible").length){columnsElementsAreHidden=false}}staffBlocks[j].style.display=columnsElementsAreHidden?"none":"block"}}function f(m){try{if(m){var k=e("#header_main").css("position");if(k!=="absolute"&&k!=="fixed"){e("#content_main, #content, .content_main, .content").css("margin-top","0").css("padding-top","0")}}}catch(l){console.error("Inconvenient in method fixEdgeToEdgeHeader: "+l)}}e(document).ready(function(){f(window.edlio.isEdgeToEdge);e(".photo-shuffle, .photo-rotator").each(function(){var o=e(this);var m=o.find(".photo-show-json").text(),l=null;try{l=JSON.parse(m)}catch(n){a("Error parsing JSON",n)}if(typeof l!="object"){a("Settings not an object");return}a("show data",l);o.slideShow({data:l});o.hover(function(){o.slideShow("showControls")},function(){o.slideShow("hideControls")})});e(".page-block-photos").magnificPopup({type:"image",delegate:"a.gallery",gallery:{enabled:true},mainClass:"mfp-with-zoom",zoom:{enabled:true,duration:300}},0);e(".collapsible-header").on("keypress click",function(o){if(o.type=="keypress"&&(o.keyCode!=13)){return}this.classList.toggle("active");this.classList.contains("active")?this.setAttribute("aria-expanded",true):this.setAttribute("aria-expanded",false);var m=e(this).find(".collapsibleIcon");var p="/apps/webapps/next/global/blazer/icons/icons.svg#caret-down";var l="/apps/webapps/next/global/blazer/icons/icons.svg#caret-right";var n=this.nextElementSibling;if(n.style.display==="block"){n.style.display="none";m.attr("href",l)}else{n.style.display="block";m.attr("href",p)}});const k=[];e(".page-block-staff").each(function(l,m){k.push(m.id)});e("#staff_search").attr("aria-controls",k.join(" "));e(".staff-search-button").on("click",d);e(".clear-search").on("click",g);e("#staff_search").on("keydown",b)})})(jQuery);